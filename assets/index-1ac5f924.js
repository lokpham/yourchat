function l_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function K0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var u_={exports:{}},_h={},c_={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hu=Symbol.for("react.element"),CN=Symbol.for("react.portal"),SN=Symbol.for("react.fragment"),bN=Symbol.for("react.strict_mode"),_N=Symbol.for("react.profiler"),xN=Symbol.for("react.provider"),TN=Symbol.for("react.context"),IN=Symbol.for("react.forward_ref"),kN=Symbol.for("react.suspense"),RN=Symbol.for("react.memo"),ON=Symbol.for("react.lazy"),Kw=Symbol.iterator;function NN(t){return t===null||typeof t!="object"?null:(t=Kw&&t[Kw]||t["@@iterator"],typeof t=="function"?t:null)}var d_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f_=Object.assign,h_={};function Da(t,e,n){this.props=t,this.context=e,this.refs=h_,this.updater=n||d_}Da.prototype.isReactComponent={};Da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p_(){}p_.prototype=Da.prototype;function Q0(t,e,n){this.props=t,this.context=e,this.refs=h_,this.updater=n||d_}var X0=Q0.prototype=new p_;X0.constructor=Q0;f_(X0,Da.prototype);X0.isPureReactComponent=!0;var Qw=Array.isArray,m_=Object.prototype.hasOwnProperty,Y0={current:null},g_={key:!0,ref:!0,__self:!0,__source:!0};function v_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)m_.call(e,r)&&!g_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Hu,type:t,key:o,ref:s,props:i,_owner:Y0.current}}function PN(t,e){return{$$typeof:Hu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function J0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hu}function AN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xw=/\/+/g;function fm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AN(""+t.key):e.toString(36)}function $d(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Hu:case CN:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+fm(s,0):r,Qw(i)?(n="",t!=null&&(n=t.replace(Xw,"$&/")+"/"),$d(i,e,n,"",function(u){return u})):i!=null&&(J0(i)&&(i=PN(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Xw,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Qw(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+fm(o,a);s+=$d(o,e,n,l,i)}else if(l=NN(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+fm(o,a++),s+=$d(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Gc(t,e,n){if(t==null)return t;var r=[],i=0;return $d(t,r,"","",function(o){return e.call(n,o,i++)}),r}function $N(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},Md={transition:null},MN={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:Md,ReactCurrentOwner:Y0};be.Children={map:Gc,forEach:function(t,e,n){Gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gc(t,function(){e++}),e},toArray:function(t){return Gc(t,function(e){return e})||[]},only:function(t){if(!J0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Da;be.Fragment=SN;be.Profiler=_N;be.PureComponent=Q0;be.StrictMode=bN;be.Suspense=kN;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MN;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=f_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Y0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)m_.call(e,l)&&!g_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hu,type:t.type,key:i,ref:o,props:r,_owner:s}};be.createContext=function(t){return t={$$typeof:TN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xN,_context:t},t.Consumer=t};be.createElement=v_;be.createFactory=function(t){var e=v_.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:IN,render:t}};be.isValidElement=J0;be.lazy=function(t){return{$$typeof:ON,_payload:{_status:-1,_result:t},_init:$N}};be.memo=function(t,e){return{$$typeof:RN,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Md.transition;Md.transition={};try{t()}finally{Md.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return vn.current.useCallback(t,e)};be.useContext=function(t){return vn.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};be.useEffect=function(t,e){return vn.current.useEffect(t,e)};be.useId=function(){return vn.current.useId()};be.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return vn.current.useMemo(t,e)};be.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};be.useRef=function(t){return vn.current.useRef(t)};be.useState=function(t){return vn.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return vn.current.useTransition()};be.version="18.2.0";c_.exports=be;var h=c_.exports;const Y=K0(h),Z0=l_({__proto__:null,default:Y},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN=h,DN=Symbol.for("react.element"),FN=Symbol.for("react.fragment"),jN=Object.prototype.hasOwnProperty,UN=LN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zN={key:!0,ref:!0,__self:!0,__source:!0};function y_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)jN.call(e,r)&&!zN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DN,type:t,key:o,ref:s,props:i,_owner:UN.current}}_h.Fragment=FN;_h.jsx=y_;_h.jsxs=y_;u_.exports=_h;var O=u_.exports,kg={},w_={exports:{}},Wn={},E_={exports:{}},C_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,j){var U=A.length;A.push(j);e:for(;0<U;){var V=U-1>>>1,H=A[V];if(0<i(H,j))A[V]=j,A[U]=H,U=V;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var j=A[0],U=A.pop();if(U!==j){A[0]=U;e:for(var V=0,H=A.length,Q=H>>>1;V<Q;){var te=2*(V+1)-1,se=A[te],we=te+1,xe=A[we];if(0>i(se,U))we<H&&0>i(xe,se)?(A[V]=xe,A[we]=U,V=we):(A[V]=se,A[te]=U,V=te);else if(we<H&&0>i(xe,U))A[V]=xe,A[we]=U,V=we;else break e}}return j}function i(A,j){var U=A.sortIndex-j.sortIndex;return U!==0?U:A.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,m=!1,v=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=A)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function E(A){if(w=!1,y(A),!v)if(n(l)!==null)v=!0,$(S);else{var j=n(u);j!==null&&L(E,j.startTime-A)}}function S(A,j){v=!1,w&&(w=!1,g(x),x=-1),m=!0;var U=f;try{for(y(j),d=n(l);d!==null&&(!(d.expirationTime>j)||A&&!M());){var V=d.callback;if(typeof V=="function"){d.callback=null,f=d.priorityLevel;var H=V(d.expirationTime<=j);j=t.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),y(j)}else r(l);d=n(l)}if(d!==null)var Q=!0;else{var te=n(u);te!==null&&L(E,te.startTime-j),Q=!1}return Q}finally{d=null,f=U,m=!1}}var _=!1,b=null,x=-1,N=5,k=-1;function M(){return!(t.unstable_now()-k<N)}function I(){if(b!==null){var A=t.unstable_now();k=A;var j=!0;try{j=b(!0,A)}finally{j?T():(_=!1,b=null)}}else _=!1}var T;if(typeof p=="function")T=function(){p(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,P=R.port2;R.port1.onmessage=I,T=function(){P.postMessage(null)}}else T=function(){C(I,0)};function $(A){b=A,_||(_=!0,T())}function L(A,j){x=C(function(){A(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,$(S))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var U=f;f=j;try{return A()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,j){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=f;f=A;try{return j()}finally{f=U}},t.unstable_scheduleCallback=function(A,j,U){var V=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?V+U:V):U=V,A){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=U+H,A={id:c++,callback:j,priorityLevel:A,startTime:U,expirationTime:H,sortIndex:-1},U>V?(A.sortIndex=U,e(u,A),n(l)===null&&A===n(u)&&(w?(g(x),x=-1):w=!0,L(E,U-V))):(A.sortIndex=H,e(l,A),v||m||(v=!0,$(S))),A},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(A){var j=f;return function(){var U=f;f=j;try{return A.apply(this,arguments)}finally{f=U}}}})(C_);E_.exports=C_;var BN=E_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_=h,zn=BN;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b_=new Set,iu={};function ms(t,e){ga(t,e),ga(t+"Capture",e)}function ga(t,e){for(iu[t]=e,t=0;t<e.length;t++)b_.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rg=Object.prototype.hasOwnProperty,VN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yw={},Jw={};function HN(t){return Rg.call(Jw,t)?!0:Rg.call(Yw,t)?!1:VN.test(t)?Jw[t]=!0:(Yw[t]=!0,!1)}function WN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qN(t,e,n,r){if(e===null||typeof e>"u"||WN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ey=/[\-:]([a-z])/g;function ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ey,ty);Kt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ey,ty);Kt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ey,ty);Kt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ny(t,e,n,r){var i=Kt.hasOwnProperty(e)?Kt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qN(e,n,i,r)&&(n=null),r||i===null?HN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ei=S_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kc=Symbol.for("react.element"),js=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),Og=Symbol.for("react.profiler"),__=Symbol.for("react.provider"),x_=Symbol.for("react.context"),iy=Symbol.for("react.forward_ref"),Ng=Symbol.for("react.suspense"),Pg=Symbol.for("react.suspense_list"),oy=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),T_=Symbol.for("react.offscreen"),Zw=Symbol.iterator;function cl(t){return t===null||typeof t!="object"?null:(t=Zw&&t[Zw]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,hm;function xl(t){if(hm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hm=e&&e[1]||""}return`
`+hm+t}var pm=!1;function mm(t,e){if(!t||pm)return"";pm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{pm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xl(t):""}function GN(t){switch(t.tag){case 5:return xl(t.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return t=mm(t.type,!1),t;case 11:return t=mm(t.type.render,!1),t;case 1:return t=mm(t.type,!0),t;default:return""}}function Ag(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Us:return"Fragment";case js:return"Portal";case Og:return"Profiler";case ry:return"StrictMode";case Ng:return"Suspense";case Pg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x_:return(t.displayName||"Context")+".Consumer";case __:return(t._context.displayName||"Context")+".Provider";case iy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case oy:return e=t.displayName||null,e!==null?e:Ag(t.type)||"Memo";case Ai:e=t._payload,t=t._init;try{return Ag(t(e))}catch{}}return null}function KN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ag(e);case 8:return e===ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QN(t){var e=I_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=QN(t))}function k_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=I_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $g(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=lo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R_(t,e){e=e.checked,e!=null&&ny(t,"checked",e,!1)}function Mg(t,e){R_(t,e);var n=lo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lg(t,e.type,lo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lg(t,e,n){(e!=="number"||cf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tl=Array.isArray;function ra(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+lo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Tl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:lo(n)}}function O_(t,e){var n=lo(e.value),r=lo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function N_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?N_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xc,P_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xc=Xc||document.createElement("div"),Xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ou(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XN=["Webkit","ms","Moz","O"];Object.keys(Fl).forEach(function(t){XN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fl[e]=Fl[t]})});function A_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fl.hasOwnProperty(t)&&Fl[t]?(""+e).trim():e+"px"}function $_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=A_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YN=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jg(t,e){if(e){if(YN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ug(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zg=null;function sy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bg=null,ia=null,oa=null;function iE(t){if(t=Gu(t)){if(typeof Bg!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Rh(e),Bg(t.stateNode,t.type,e))}}function M_(t){ia?oa?oa.push(t):oa=[t]:ia=t}function L_(){if(ia){var t=ia,e=oa;if(oa=ia=null,iE(t),e)for(t=0;t<e.length;t++)iE(e[t])}}function D_(t,e){return t(e)}function F_(){}var gm=!1;function j_(t,e,n){if(gm)return t(e,n);gm=!0;try{return D_(t,e,n)}finally{gm=!1,(ia!==null||oa!==null)&&(F_(),L_())}}function su(t,e){var n=t.stateNode;if(n===null)return null;var r=Rh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Vg=!1;if(li)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Vg=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Vg=!1}function JN(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var jl=!1,df=null,ff=!1,Hg=null,ZN={onError:function(t){jl=!0,df=t}};function eP(t,e,n,r,i,o,s,a,l){jl=!1,df=null,JN.apply(ZN,arguments)}function tP(t,e,n,r,i,o,s,a,l){if(eP.apply(this,arguments),jl){if(jl){var u=df;jl=!1,df=null}else throw Error(z(198));ff||(ff=!0,Hg=u)}}function gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oE(t){if(gs(t)!==t)throw Error(z(188))}function nP(t){var e=t.alternate;if(!e){if(e=gs(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return oE(i),t;if(o===r)return oE(i),e;o=o.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function z_(t){return t=nP(t),t!==null?B_(t):null}function B_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B_(t);if(e!==null)return e;t=t.sibling}return null}var V_=zn.unstable_scheduleCallback,sE=zn.unstable_cancelCallback,rP=zn.unstable_shouldYield,iP=zn.unstable_requestPaint,pt=zn.unstable_now,oP=zn.unstable_getCurrentPriorityLevel,ay=zn.unstable_ImmediatePriority,H_=zn.unstable_UserBlockingPriority,hf=zn.unstable_NormalPriority,sP=zn.unstable_LowPriority,W_=zn.unstable_IdlePriority,xh=null,Ar=null;function aP(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(xh,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:cP,lP=Math.log,uP=Math.LN2;function cP(t){return t>>>=0,t===0?32:31-(lP(t)/uP|0)|0}var Yc=64,Jc=4194304;function Il(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Il(a):(o&=s,o!==0&&(r=Il(o)))}else s=n&~i,s!==0?r=Il(s):o!==0&&(r=Il(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mr(e),i=1<<n,r|=t[n],e&=~i;return r}function dP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-mr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=dP(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Wg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function q_(){var t=Yc;return Yc<<=1,!(Yc&4194240)&&(Yc=64),t}function vm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function hP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function ly(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ne=0;function G_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K_,uy,Q_,X_,Y_,qg=!1,Zc=[],Qi=null,Xi=null,Yi=null,au=new Map,lu=new Map,Li=[],pP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aE(t,e){switch(t){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(e.pointerId)}}function fl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Gu(e),e!==null&&uy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mP(t,e,n,r,i){switch(e){case"focusin":return Qi=fl(Qi,t,e,n,r,i),!0;case"dragenter":return Xi=fl(Xi,t,e,n,r,i),!0;case"mouseover":return Yi=fl(Yi,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return au.set(o,fl(au.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lu.set(o,fl(lu.get(o)||null,t,e,n,r,i)),!0}return!1}function J_(t){var e=Fo(t.target);if(e!==null){var n=gs(e);if(n!==null){if(e=n.tag,e===13){if(e=U_(n),e!==null){t.blockedOn=e,Y_(t.priority,function(){Q_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zg=r,n.target.dispatchEvent(r),zg=null}else return e=Gu(n),e!==null&&uy(e),t.blockedOn=n,!1;e.shift()}return!0}function lE(t,e,n){Ld(t)&&n.delete(e)}function gP(){qg=!1,Qi!==null&&Ld(Qi)&&(Qi=null),Xi!==null&&Ld(Xi)&&(Xi=null),Yi!==null&&Ld(Yi)&&(Yi=null),au.forEach(lE),lu.forEach(lE)}function hl(t,e){t.blockedOn===e&&(t.blockedOn=null,qg||(qg=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,gP)))}function uu(t){function e(i){return hl(i,t)}if(0<Zc.length){hl(Zc[0],t);for(var n=1;n<Zc.length;n++){var r=Zc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qi!==null&&hl(Qi,t),Xi!==null&&hl(Xi,t),Yi!==null&&hl(Yi,t),au.forEach(e),lu.forEach(e),n=0;n<Li.length;n++)r=Li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)J_(n),n.blockedOn===null&&Li.shift()}var sa=Ei.ReactCurrentBatchConfig,mf=!0;function vP(t,e,n,r){var i=Ne,o=sa.transition;sa.transition=null;try{Ne=1,cy(t,e,n,r)}finally{Ne=i,sa.transition=o}}function yP(t,e,n,r){var i=Ne,o=sa.transition;sa.transition=null;try{Ne=4,cy(t,e,n,r)}finally{Ne=i,sa.transition=o}}function cy(t,e,n,r){if(mf){var i=Gg(t,e,n,r);if(i===null)Im(t,e,r,gf,n),aE(t,r);else if(mP(i,t,e,n,r))r.stopPropagation();else if(aE(t,r),e&4&&-1<pP.indexOf(t)){for(;i!==null;){var o=Gu(i);if(o!==null&&K_(o),o=Gg(t,e,n,r),o===null&&Im(t,e,r,gf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Im(t,e,r,null,n)}}var gf=null;function Gg(t,e,n,r){if(gf=null,t=sy(r),t=Fo(t),t!==null)if(e=gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=U_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gf=t,null}function Z_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oP()){case ay:return 1;case H_:return 4;case hf:case sP:return 16;case W_:return 536870912;default:return 16}default:return 16}}var Vi=null,dy=null,Dd=null;function ex(){if(Dd)return Dd;var t,e=dy,n=e.length,r,i="value"in Vi?Vi.value:Vi.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Dd=i.slice(t,1<r?1-r:void 0)}function Fd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ed(){return!0}function uE(){return!1}function qn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ed:uE,this.isPropagationStopped=uE,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),e}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fy=qn(Fa),qu=it({},Fa,{view:0,detail:0}),wP=qn(qu),ym,wm,pl,Th=it({},qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pl&&(pl&&t.type==="mousemove"?(ym=t.screenX-pl.screenX,wm=t.screenY-pl.screenY):wm=ym=0,pl=t),ym)},movementY:function(t){return"movementY"in t?t.movementY:wm}}),cE=qn(Th),EP=it({},Th,{dataTransfer:0}),CP=qn(EP),SP=it({},qu,{relatedTarget:0}),Em=qn(SP),bP=it({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),_P=qn(bP),xP=it({},Fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TP=qn(xP),IP=it({},Fa,{data:0}),dE=qn(IP),kP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=OP[t])?!!e[t]:!1}function hy(){return NP}var PP=it({},qu,{key:function(t){if(t.key){var e=kP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hy,charCode:function(t){return t.type==="keypress"?Fd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AP=qn(PP),$P=it({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fE=qn($P),MP=it({},qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hy}),LP=qn(MP),DP=it({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),FP=qn(DP),jP=it({},Th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UP=qn(jP),zP=[9,13,27,32],py=li&&"CompositionEvent"in window,Ul=null;li&&"documentMode"in document&&(Ul=document.documentMode);var BP=li&&"TextEvent"in window&&!Ul,tx=li&&(!py||Ul&&8<Ul&&11>=Ul),hE=String.fromCharCode(32),pE=!1;function nx(t,e){switch(t){case"keyup":return zP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function VP(t,e){switch(t){case"compositionend":return rx(e);case"keypress":return e.which!==32?null:(pE=!0,hE);case"textInput":return t=e.data,t===hE&&pE?null:t;default:return null}}function HP(t,e){if(zs)return t==="compositionend"||!py&&nx(t,e)?(t=ex(),Dd=dy=Vi=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tx&&e.locale!=="ko"?null:e.data;default:return null}}var WP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WP[t.type]:e==="textarea"}function ix(t,e,n,r){M_(r),e=vf(e,"onChange"),0<e.length&&(n=new fy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zl=null,cu=null;function qP(t){mx(t,0)}function Ih(t){var e=Hs(t);if(k_(e))return t}function GP(t,e){if(t==="change")return e}var ox=!1;if(li){var Cm;if(li){var Sm="oninput"in document;if(!Sm){var gE=document.createElement("div");gE.setAttribute("oninput","return;"),Sm=typeof gE.oninput=="function"}Cm=Sm}else Cm=!1;ox=Cm&&(!document.documentMode||9<document.documentMode)}function vE(){zl&&(zl.detachEvent("onpropertychange",sx),cu=zl=null)}function sx(t){if(t.propertyName==="value"&&Ih(cu)){var e=[];ix(e,cu,t,sy(t)),j_(qP,e)}}function KP(t,e,n){t==="focusin"?(vE(),zl=e,cu=n,zl.attachEvent("onpropertychange",sx)):t==="focusout"&&vE()}function QP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ih(cu)}function XP(t,e){if(t==="click")return Ih(e)}function YP(t,e){if(t==="input"||t==="change")return Ih(e)}function JP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:JP;function du(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rg.call(e,i)||!yr(t[i],e[i]))return!1}return!0}function yE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wE(t,e){var n=yE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yE(n)}}function ax(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ax(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lx(){for(var t=window,e=cf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cf(t.document)}return e}function my(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZP(t){var e=lx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ax(n.ownerDocument.documentElement,n)){if(r!==null&&my(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=wE(n,o);var s=wE(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var eA=li&&"documentMode"in document&&11>=document.documentMode,Bs=null,Kg=null,Bl=null,Qg=!1;function EE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qg||Bs==null||Bs!==cf(r)||(r=Bs,"selectionStart"in r&&my(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bl&&du(Bl,r)||(Bl=r,r=vf(Kg,"onSelect"),0<r.length&&(e=new fy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bs)))}function td(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vs={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},bm={},ux={};li&&(ux=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function kh(t){if(bm[t])return bm[t];if(!Vs[t])return t;var e=Vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ux)return bm[t]=e[n];return t}var cx=kh("animationend"),dx=kh("animationiteration"),fx=kh("animationstart"),hx=kh("transitionend"),px=new Map,CE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(t,e){px.set(t,e),ms(e,[t])}for(var _m=0;_m<CE.length;_m++){var xm=CE[_m],tA=xm.toLowerCase(),nA=xm[0].toUpperCase()+xm.slice(1);vo(tA,"on"+nA)}vo(cx,"onAnimationEnd");vo(dx,"onAnimationIteration");vo(fx,"onAnimationStart");vo("dblclick","onDoubleClick");vo("focusin","onFocus");vo("focusout","onBlur");vo(hx,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("cancel close invalid load scroll toggle".split(" ").concat(kl));function SE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tP(r,e,void 0,t),t.currentTarget=null}function mx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;SE(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;SE(i,a,u),o=l}}}if(ff)throw t=Hg,ff=!1,Hg=null,t}function ze(t,e){var n=e[ev];n===void 0&&(n=e[ev]=new Set);var r=t+"__bubble";n.has(r)||(gx(e,t,2,!1),n.add(r))}function Tm(t,e,n){var r=0;e&&(r|=4),gx(n,t,r,e)}var nd="_reactListening"+Math.random().toString(36).slice(2);function fu(t){if(!t[nd]){t[nd]=!0,b_.forEach(function(n){n!=="selectionchange"&&(rA.has(n)||Tm(n,!1,t),Tm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nd]||(e[nd]=!0,Tm("selectionchange",!1,e))}}function gx(t,e,n,r){switch(Z_(e)){case 1:var i=vP;break;case 4:i=yP;break;default:i=cy}n=i.bind(null,e,n,t),i=void 0,!Vg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Im(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Fo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}j_(function(){var u=o,c=sy(n),d=[];e:{var f=px.get(t);if(f!==void 0){var m=fy,v=t;switch(t){case"keypress":if(Fd(n)===0)break e;case"keydown":case"keyup":m=AP;break;case"focusin":v="focus",m=Em;break;case"focusout":v="blur",m=Em;break;case"beforeblur":case"afterblur":m=Em;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=cE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=CP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=LP;break;case cx:case dx:case fx:m=_P;break;case hx:m=FP;break;case"scroll":m=wP;break;case"wheel":m=UP;break;case"copy":case"cut":case"paste":m=TP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=fE}var w=(e&4)!==0,C=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,y;p!==null;){y=p;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,g!==null&&(E=su(p,g),E!=null&&w.push(hu(p,E,y)))),C)break;p=p.return}0<w.length&&(f=new m(f,v,null,n,c),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==zg&&(v=n.relatedTarget||n.fromElement)&&(Fo(v)||v[ui]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Fo(v):null,v!==null&&(C=gs(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=cE,E="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=fE,E="onPointerLeave",g="onPointerEnter",p="pointer"),C=m==null?f:Hs(m),y=v==null?f:Hs(v),f=new w(E,p+"leave",m,n,c),f.target=C,f.relatedTarget=y,E=null,Fo(c)===u&&(w=new w(g,p+"enter",v,n,c),w.target=y,w.relatedTarget=C,E=w),C=E,m&&v)t:{for(w=m,g=v,p=0,y=w;y;y=Is(y))p++;for(y=0,E=g;E;E=Is(E))y++;for(;0<p-y;)w=Is(w),p--;for(;0<y-p;)g=Is(g),y--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=Is(w),g=Is(g)}w=null}else w=null;m!==null&&bE(d,f,m,w,!1),v!==null&&C!==null&&bE(d,C,v,w,!0)}}e:{if(f=u?Hs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var S=GP;else if(mE(f))if(ox)S=YP;else{S=QP;var _=KP}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=XP);if(S&&(S=S(t,u))){ix(d,S,n,c);break e}_&&_(t,f,u),t==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&Lg(f,"number",f.value)}switch(_=u?Hs(u):window,t){case"focusin":(mE(_)||_.contentEditable==="true")&&(Bs=_,Kg=u,Bl=null);break;case"focusout":Bl=Kg=Bs=null;break;case"mousedown":Qg=!0;break;case"contextmenu":case"mouseup":case"dragend":Qg=!1,EE(d,n,c);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":EE(d,n,c)}var b;if(py)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zs?nx(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(tx&&n.locale!=="ko"&&(zs||x!=="onCompositionStart"?x==="onCompositionEnd"&&zs&&(b=ex()):(Vi=c,dy="value"in Vi?Vi.value:Vi.textContent,zs=!0)),_=vf(u,x),0<_.length&&(x=new dE(x,t,null,n,c),d.push({event:x,listeners:_}),b?x.data=b:(b=rx(n),b!==null&&(x.data=b)))),(b=BP?VP(t,n):HP(t,n))&&(u=vf(u,"onBeforeInput"),0<u.length&&(c=new dE("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}mx(d,e)})}function hu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=su(t,n),o!=null&&r.unshift(hu(t,o,i)),o=su(t,e),o!=null&&r.push(hu(t,o,i))),t=t.return}return r}function Is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function bE(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=su(n,o),l!=null&&s.unshift(hu(n,l,a))):i||(l=su(n,o),l!=null&&s.push(hu(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var iA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function _E(t){return(typeof t=="string"?t:""+t).replace(iA,`
`).replace(oA,"")}function rd(t,e,n){if(e=_E(e),_E(t)!==e&&n)throw Error(z(425))}function yf(){}var Xg=null,Yg=null;function Jg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zg=typeof setTimeout=="function"?setTimeout:void 0,sA=typeof clearTimeout=="function"?clearTimeout:void 0,xE=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof xE<"u"?function(t){return xE.resolve(null).then(t).catch(lA)}:Zg;function lA(t){setTimeout(function(){throw t})}function km(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),uu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);uu(e)}function Ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function TE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ja=Math.random().toString(36).slice(2),kr="__reactFiber$"+ja,pu="__reactProps$"+ja,ui="__reactContainer$"+ja,ev="__reactEvents$"+ja,uA="__reactListeners$"+ja,cA="__reactHandles$"+ja;function Fo(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ui]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=TE(t);t!==null;){if(n=t[kr])return n;t=TE(t)}return e}t=n,n=t.parentNode}return null}function Gu(t){return t=t[kr]||t[ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Rh(t){return t[pu]||null}var tv=[],Ws=-1;function yo(t){return{current:t}}function He(t){0>Ws||(t.current=tv[Ws],tv[Ws]=null,Ws--)}function je(t,e){Ws++,tv[Ws]=t.current,t.current=e}var uo={},ln=yo(uo),_n=yo(!1),ts=uo;function va(t,e){var n=t.type.contextTypes;if(!n)return uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function xn(t){return t=t.childContextTypes,t!=null}function wf(){He(_n),He(ln)}function IE(t,e,n){if(ln.current!==uo)throw Error(z(168));je(ln,e),je(_n,n)}function vx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,KN(t)||"Unknown",i));return it({},n,r)}function Ef(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||uo,ts=ln.current,je(ln,t),je(_n,_n.current),!0}function kE(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=vx(t,e,ts),r.__reactInternalMemoizedMergedChildContext=t,He(_n),He(ln),je(ln,t)):He(_n),je(_n,n)}var Jr=null,Oh=!1,Rm=!1;function yx(t){Jr===null?Jr=[t]:Jr.push(t)}function dA(t){Oh=!0,yx(t)}function wo(){if(!Rm&&Jr!==null){Rm=!0;var t=0,e=Ne;try{var n=Jr;for(Ne=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jr=null,Oh=!1}catch(i){throw Jr!==null&&(Jr=Jr.slice(t+1)),V_(ay,wo),i}finally{Ne=e,Rm=!1}}return null}var qs=[],Gs=0,Cf=null,Sf=0,Jn=[],Zn=0,ns=null,ei=1,ti="";function Ao(t,e){qs[Gs++]=Sf,qs[Gs++]=Cf,Cf=t,Sf=e}function wx(t,e,n){Jn[Zn++]=ei,Jn[Zn++]=ti,Jn[Zn++]=ns,ns=t;var r=ei;t=ti;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var o=32-mr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ei=1<<32-mr(e)+i|n<<i|r,ti=o+t}else ei=1<<o|n<<i|r,ti=t}function gy(t){t.return!==null&&(Ao(t,1),wx(t,1,0))}function vy(t){for(;t===Cf;)Cf=qs[--Gs],qs[Gs]=null,Sf=qs[--Gs],qs[Gs]=null;for(;t===ns;)ns=Jn[--Zn],Jn[Zn]=null,ti=Jn[--Zn],Jn[Zn]=null,ei=Jn[--Zn],Jn[Zn]=null}var jn=null,Mn=null,Qe=!1,hr=null;function Ex(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function RE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jn=t,Mn=Ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jn=t,Mn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ns!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jn=t,Mn=null,!0):!1;default:return!1}}function nv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rv(t){if(Qe){var e=Mn;if(e){var n=e;if(!RE(t,e)){if(nv(t))throw Error(z(418));e=Ji(n.nextSibling);var r=jn;e&&RE(t,e)?Ex(r,n):(t.flags=t.flags&-4097|2,Qe=!1,jn=t)}}else{if(nv(t))throw Error(z(418));t.flags=t.flags&-4097|2,Qe=!1,jn=t}}}function OE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jn=t}function id(t){if(t!==jn)return!1;if(!Qe)return OE(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jg(t.type,t.memoizedProps)),e&&(e=Mn)){if(nv(t))throw Cx(),Error(z(418));for(;e;)Ex(t,e),e=Ji(e.nextSibling)}if(OE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mn=Ji(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mn=null}}else Mn=jn?Ji(t.stateNode.nextSibling):null;return!0}function Cx(){for(var t=Mn;t;)t=Ji(t.nextSibling)}function ya(){Mn=jn=null,Qe=!1}function yy(t){hr===null?hr=[t]:hr.push(t)}var fA=Ei.ReactCurrentBatchConfig;function ur(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var bf=yo(null),_f=null,Ks=null,wy=null;function Ey(){wy=Ks=_f=null}function Cy(t){var e=bf.current;He(bf),t._currentValue=e}function iv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function aa(t,e){_f=t,wy=Ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function ir(t){var e=t._currentValue;if(wy!==t)if(t={context:t,memoizedValue:e,next:null},Ks===null){if(_f===null)throw Error(z(308));Ks=t,_f.dependencies={lanes:0,firstContext:t}}else Ks=Ks.next=t;return e}var jo=null;function Sy(t){jo===null?jo=[t]:jo.push(t)}function Sx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Sy(e)):(n.next=i.next,i.next=n),e.interleaved=n,ci(t,r)}function ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function by(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ci(t,n)}return i=r.interleaved,i===null?(e.next=e,Sy(r)):(e.next=i.next,i.next=e),r.interleaved=e,ci(t,n)}function jd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}function NE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xf(t,e,n,r){var i=t.updateQueue;$i=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=it({},d,f);break e;case 2:$i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);is|=s,t.lanes=s,t.memoizedState=d}}function PE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var _x=new S_.Component().refs;function ov(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nh={isMounted:function(t){return(t=t._reactInternals)?gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gn(),i=to(t),o=oi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Zi(t,o,i),e!==null&&(gr(e,t,i,r),jd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gn(),i=to(t),o=oi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zi(t,o,i),e!==null&&(gr(e,t,i,r),jd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),r=to(t),i=oi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zi(t,i,r),e!==null&&(gr(e,t,r,n),jd(e,t,r))}};function AE(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!du(n,r)||!du(i,o):!0}function xx(t,e,n){var r=!1,i=uo,o=e.contextType;return typeof o=="object"&&o!==null?o=ir(o):(i=xn(e)?ts:ln.current,r=e.contextTypes,o=(r=r!=null)?va(t,i):uo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function $E(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nh.enqueueReplaceState(e,e.state,null)}function sv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=_x,by(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ir(o):(o=xn(e)?ts:ln.current,i.context=va(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ov(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nh.enqueueReplaceState(i,i.state,null),xf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ml(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===_x&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function od(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ME(t){var e=t._init;return e(t._payload)}function Tx(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=no(g,p),g.index=0,g.sibling=null,g}function o(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,E){return p===null||p.tag!==6?(p=Lm(y,g.mode,E),p.return=g,p):(p=i(p,y),p.return=g,p)}function l(g,p,y,E){var S=y.type;return S===Us?c(g,p,y.props.children,E,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ai&&ME(S)===p.type)?(E=i(p,y.props),E.ref=ml(g,p,y),E.return=g,E):(E=Wd(y.type,y.key,y.props,null,g.mode,E),E.ref=ml(g,p,y),E.return=g,E)}function u(g,p,y,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Dm(y,g.mode,E),p.return=g,p):(p=i(p,y.children||[]),p.return=g,p)}function c(g,p,y,E,S){return p===null||p.tag!==7?(p=Qo(y,g.mode,E,S),p.return=g,p):(p=i(p,y),p.return=g,p)}function d(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Lm(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Kc:return y=Wd(p.type,p.key,p.props,null,g.mode,y),y.ref=ml(g,null,p),y.return=g,y;case js:return p=Dm(p,g.mode,y),p.return=g,p;case Ai:var E=p._init;return d(g,E(p._payload),y)}if(Tl(p)||cl(p))return p=Qo(p,g.mode,y,null),p.return=g,p;od(g,p)}return null}function f(g,p,y,E){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(g,p,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Kc:return y.key===S?l(g,p,y,E):null;case js:return y.key===S?u(g,p,y,E):null;case Ai:return S=y._init,f(g,p,S(y._payload),E)}if(Tl(y)||cl(y))return S!==null?null:c(g,p,y,E,null);od(g,y)}return null}function m(g,p,y,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(y)||null,a(p,g,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Kc:return g=g.get(E.key===null?y:E.key)||null,l(p,g,E,S);case js:return g=g.get(E.key===null?y:E.key)||null,u(p,g,E,S);case Ai:var _=E._init;return m(g,p,y,_(E._payload),S)}if(Tl(E)||cl(E))return g=g.get(y)||null,c(p,g,E,S,null);od(p,E)}return null}function v(g,p,y,E){for(var S=null,_=null,b=p,x=p=0,N=null;b!==null&&x<y.length;x++){b.index>x?(N=b,b=null):N=b.sibling;var k=f(g,b,y[x],E);if(k===null){b===null&&(b=N);break}t&&b&&k.alternate===null&&e(g,b),p=o(k,p,x),_===null?S=k:_.sibling=k,_=k,b=N}if(x===y.length)return n(g,b),Qe&&Ao(g,x),S;if(b===null){for(;x<y.length;x++)b=d(g,y[x],E),b!==null&&(p=o(b,p,x),_===null?S=b:_.sibling=b,_=b);return Qe&&Ao(g,x),S}for(b=r(g,b);x<y.length;x++)N=m(b,g,x,y[x],E),N!==null&&(t&&N.alternate!==null&&b.delete(N.key===null?x:N.key),p=o(N,p,x),_===null?S=N:_.sibling=N,_=N);return t&&b.forEach(function(M){return e(g,M)}),Qe&&Ao(g,x),S}function w(g,p,y,E){var S=cl(y);if(typeof S!="function")throw Error(z(150));if(y=S.call(y),y==null)throw Error(z(151));for(var _=S=null,b=p,x=p=0,N=null,k=y.next();b!==null&&!k.done;x++,k=y.next()){b.index>x?(N=b,b=null):N=b.sibling;var M=f(g,b,k.value,E);if(M===null){b===null&&(b=N);break}t&&b&&M.alternate===null&&e(g,b),p=o(M,p,x),_===null?S=M:_.sibling=M,_=M,b=N}if(k.done)return n(g,b),Qe&&Ao(g,x),S;if(b===null){for(;!k.done;x++,k=y.next())k=d(g,k.value,E),k!==null&&(p=o(k,p,x),_===null?S=k:_.sibling=k,_=k);return Qe&&Ao(g,x),S}for(b=r(g,b);!k.done;x++,k=y.next())k=m(b,g,x,k.value,E),k!==null&&(t&&k.alternate!==null&&b.delete(k.key===null?x:k.key),p=o(k,p,x),_===null?S=k:_.sibling=k,_=k);return t&&b.forEach(function(I){return e(g,I)}),Qe&&Ao(g,x),S}function C(g,p,y,E){if(typeof y=="object"&&y!==null&&y.type===Us&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Kc:e:{for(var S=y.key,_=p;_!==null;){if(_.key===S){if(S=y.type,S===Us){if(_.tag===7){n(g,_.sibling),p=i(_,y.props.children),p.return=g,g=p;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ai&&ME(S)===_.type){n(g,_.sibling),p=i(_,y.props),p.ref=ml(g,_,y),p.return=g,g=p;break e}n(g,_);break}else e(g,_);_=_.sibling}y.type===Us?(p=Qo(y.props.children,g.mode,E,y.key),p.return=g,g=p):(E=Wd(y.type,y.key,y.props,null,g.mode,E),E.ref=ml(g,p,y),E.return=g,g=E)}return s(g);case js:e:{for(_=y.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=i(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Dm(y,g.mode,E),p.return=g,g=p}return s(g);case Ai:return _=y._init,C(g,p,_(y._payload),E)}if(Tl(y))return v(g,p,y,E);if(cl(y))return w(g,p,y,E);od(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,y),p.return=g,g=p):(n(g,p),p=Lm(y,g.mode,E),p.return=g,g=p),s(g)):n(g,p)}return C}var wa=Tx(!0),Ix=Tx(!1),Ku={},$r=yo(Ku),mu=yo(Ku),gu=yo(Ku);function Uo(t){if(t===Ku)throw Error(z(174));return t}function _y(t,e){switch(je(gu,e),je(mu,t),je($r,Ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fg(e,t)}He($r),je($r,e)}function Ea(){He($r),He(mu),He(gu)}function kx(t){Uo(gu.current);var e=Uo($r.current),n=Fg(e,t.type);e!==n&&(je(mu,t),je($r,n))}function xy(t){mu.current===t&&(He($r),He(mu))}var et=yo(0);function Tf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Om=[];function Ty(){for(var t=0;t<Om.length;t++)Om[t]._workInProgressVersionPrimary=null;Om.length=0}var Ud=Ei.ReactCurrentDispatcher,Nm=Ei.ReactCurrentBatchConfig,rs=0,nt=null,Rt=null,Mt=null,If=!1,Vl=!1,vu=0,hA=0;function Xt(){throw Error(z(321))}function Iy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function ky(t,e,n,r,i,o){if(rs=o,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ud.current=t===null||t.memoizedState===null?vA:yA,t=n(r,i),Vl){o=0;do{if(Vl=!1,vu=0,25<=o)throw Error(z(301));o+=1,Mt=Rt=null,e.updateQueue=null,Ud.current=wA,t=n(r,i)}while(Vl)}if(Ud.current=kf,e=Rt!==null&&Rt.next!==null,rs=0,Mt=Rt=nt=null,If=!1,e)throw Error(z(300));return t}function Ry(){var t=vu!==0;return vu=0,t}function Ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?nt.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function or(){if(Rt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Mt===null?nt.memoizedState:Mt.next;if(e!==null)Mt=e,Rt=t;else{if(t===null)throw Error(z(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Mt===null?nt.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function yu(t,e){return typeof e=="function"?e(t):e}function Pm(t){var e=or(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((rs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,nt.lanes|=c,is|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,yr(r,e.memoizedState)||(Sn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,nt.lanes|=o,is|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Am(t){var e=or(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);yr(o,e.memoizedState)||(Sn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Rx(){}function Ox(t,e){var n=nt,r=or(),i=e(),o=!yr(r.memoizedState,i);if(o&&(r.memoizedState=i,Sn=!0),r=r.queue,Oy(Ax.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,wu(9,Px.bind(null,n,r,i,e),void 0,null),Lt===null)throw Error(z(349));rs&30||Nx(n,e,i)}return i}function Nx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Px(t,e,n,r){e.value=n,e.getSnapshot=r,$x(e)&&Mx(t)}function Ax(t,e,n){return n(function(){$x(e)&&Mx(t)})}function $x(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function Mx(t){var e=ci(t,1);e!==null&&gr(e,t,1,-1)}function LE(t){var e=Ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yu,lastRenderedState:t},e.queue=t,t=t.dispatch=gA.bind(null,nt,t),[e.memoizedState,t]}function wu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Lx(){return or().memoizedState}function zd(t,e,n,r){var i=Ir();nt.flags|=t,i.memoizedState=wu(1|e,n,void 0,r===void 0?null:r)}function Ph(t,e,n,r){var i=or();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var s=Rt.memoizedState;if(o=s.destroy,r!==null&&Iy(r,s.deps)){i.memoizedState=wu(e,n,o,r);return}}nt.flags|=t,i.memoizedState=wu(1|e,n,o,r)}function DE(t,e){return zd(8390656,8,t,e)}function Oy(t,e){return Ph(2048,8,t,e)}function Dx(t,e){return Ph(4,2,t,e)}function Fx(t,e){return Ph(4,4,t,e)}function jx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ux(t,e,n){return n=n!=null?n.concat([t]):null,Ph(4,4,jx.bind(null,e,t),n)}function Ny(){}function zx(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bx(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Iy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Vx(t,e,n){return rs&21?(yr(n,e)||(n=q_(),nt.lanes|=n,is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=n)}function pA(t,e){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var r=Nm.transition;Nm.transition={};try{t(!1),e()}finally{Ne=n,Nm.transition=r}}function Hx(){return or().memoizedState}function mA(t,e,n){var r=to(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wx(t))qx(e,n);else if(n=Sx(t,e,n,r),n!==null){var i=gn();gr(n,t,r,i),Gx(n,e,r)}}function gA(t,e,n){var r=to(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wx(t))qx(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,yr(a,s)){var l=e.interleaved;l===null?(i.next=i,Sy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Sx(t,e,i,r),n!==null&&(i=gn(),gr(n,t,r,i),Gx(n,e,r))}}function Wx(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function qx(t,e){Vl=If=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Gx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}var kf={readContext:ir,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},vA={readContext:ir,useCallback:function(t,e){return Ir().memoizedState=[t,e===void 0?null:e],t},useContext:ir,useEffect:DE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zd(4194308,4,jx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zd(4194308,4,t,e)},useInsertionEffect:function(t,e){return zd(4,2,t,e)},useMemo:function(t,e){var n=Ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mA.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=Ir();return t={current:t},e.memoizedState=t},useState:LE,useDebugValue:Ny,useDeferredValue:function(t){return Ir().memoizedState=t},useTransition:function(){var t=LE(!1),e=t[0];return t=pA.bind(null,t[1]),Ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,i=Ir();if(Qe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Lt===null)throw Error(z(349));rs&30||Nx(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,DE(Ax.bind(null,r,o,t),[t]),r.flags|=2048,wu(9,Px.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ir(),e=Lt.identifierPrefix;if(Qe){var n=ti,r=ei;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yA={readContext:ir,useCallback:zx,useContext:ir,useEffect:Oy,useImperativeHandle:Ux,useInsertionEffect:Dx,useLayoutEffect:Fx,useMemo:Bx,useReducer:Pm,useRef:Lx,useState:function(){return Pm(yu)},useDebugValue:Ny,useDeferredValue:function(t){var e=or();return Vx(e,Rt.memoizedState,t)},useTransition:function(){var t=Pm(yu)[0],e=or().memoizedState;return[t,e]},useMutableSource:Rx,useSyncExternalStore:Ox,useId:Hx,unstable_isNewReconciler:!1},wA={readContext:ir,useCallback:zx,useContext:ir,useEffect:Oy,useImperativeHandle:Ux,useInsertionEffect:Dx,useLayoutEffect:Fx,useMemo:Bx,useReducer:Am,useRef:Lx,useState:function(){return Am(yu)},useDebugValue:Ny,useDeferredValue:function(t){var e=or();return Rt===null?e.memoizedState=t:Vx(e,Rt.memoizedState,t)},useTransition:function(){var t=Am(yu)[0],e=or().memoizedState;return[t,e]},useMutableSource:Rx,useSyncExternalStore:Ox,useId:Hx,unstable_isNewReconciler:!1};function Ca(t,e){try{var n="",r=e;do n+=GN(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function $m(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function av(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var EA=typeof WeakMap=="function"?WeakMap:Map;function Kx(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Of||(Of=!0,vv=r),av(t,e)},n}function Qx(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){av(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){av(t,e),typeof r!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function FE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new EA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$A.bind(null,t,e,n),e.then(t,t))}function jE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function UE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,Zi(n,e,1))),n.lanes|=1),t)}var CA=Ei.ReactCurrentOwner,Sn=!1;function pn(t,e,n,r){e.child=t===null?Ix(e,null,n,r):wa(e,t.child,n,r)}function zE(t,e,n,r,i){n=n.render;var o=e.ref;return aa(e,i),r=ky(t,e,n,r,o,i),n=Ry(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(Qe&&n&&gy(e),e.flags|=1,pn(t,e,r,i),e.child)}function BE(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!jy(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Xx(t,e,o,r,i)):(t=Wd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:du,n(s,r)&&t.ref===e.ref)return di(t,e,i)}return e.flags|=1,t=no(o,r),t.ref=e.ref,t.return=e,e.child=t}function Xx(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(du(o,r)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,di(t,e,i)}return lv(t,e,n,r,i)}function Yx(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Xs,$n),$n|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Xs,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,je(Xs,$n),$n|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,je(Xs,$n),$n|=r;return pn(t,e,i,n),e.child}function Jx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lv(t,e,n,r,i){var o=xn(n)?ts:ln.current;return o=va(e,o),aa(e,i),n=ky(t,e,n,r,o,i),r=Ry(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(Qe&&r&&gy(e),e.flags|=1,pn(t,e,n,i),e.child)}function VE(t,e,n,r,i){if(xn(n)){var o=!0;Ef(e)}else o=!1;if(aa(e,i),e.stateNode===null)Bd(t,e),xx(e,n,r),sv(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=xn(n)?ts:ln.current,u=va(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&$E(e,s,r,u),$i=!1;var f=e.memoizedState;s.state=f,xf(e,r,s,i),l=e.memoizedState,a!==r||f!==l||_n.current||$i?(typeof c=="function"&&(ov(e,n,c,r),l=e.memoizedState),(a=$i||AE(e,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,bx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ur(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ir(l):(l=xn(n)?ts:ln.current,l=va(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&$E(e,s,r,l),$i=!1,f=e.memoizedState,s.state=f,xf(e,r,s,i);var v=e.memoizedState;a!==d||f!==v||_n.current||$i?(typeof m=="function"&&(ov(e,n,m,r),v=e.memoizedState),(u=$i||AE(e,n,u,r,f,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return uv(t,e,n,r,o,i)}function uv(t,e,n,r,i,o){Jx(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&kE(e,n,!1),di(t,e,o);r=e.stateNode,CA.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=wa(e,t.child,null,o),e.child=wa(e,null,a,o)):pn(t,e,a,o),e.memoizedState=r.state,i&&kE(e,n,!0),e.child}function Zx(t){var e=t.stateNode;e.pendingContext?IE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&IE(t,e.context,!1),_y(t,e.containerInfo)}function HE(t,e,n,r,i){return ya(),yy(i),e.flags|=256,pn(t,e,n,r),e.child}var cv={dehydrated:null,treeContext:null,retryLane:0};function dv(t){return{baseLanes:t,cachePool:null,transitions:null}}function eT(t,e,n){var r=e.pendingProps,i=et.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),je(et,i&1),t===null)return rv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Mh(s,r,0,null),t=Qo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=dv(n),e.memoizedState=cv,t):Py(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SA(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=no(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=no(a,o):(o=Qo(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?dv(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=cv,r}return o=t.child,t=o.sibling,r=no(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Py(t,e){return e=Mh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sd(t,e,n,r){return r!==null&&yy(r),wa(e,t.child,null,n),t=Py(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SA(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=$m(Error(z(422))),sd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Mh({mode:"visible",children:r.children},i,0,null),o=Qo(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&wa(e,t.child,null,s),e.child.memoizedState=dv(s),e.memoizedState=cv,o);if(!(e.mode&1))return sd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(z(419)),r=$m(o,r,void 0),sd(t,e,s,r)}if(a=(s&t.childLanes)!==0,Sn||a){if(r=Lt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ci(t,i),gr(r,t,i,-1))}return Fy(),r=$m(Error(z(421))),sd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=MA.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Mn=Ji(i.nextSibling),jn=e,Qe=!0,hr=null,t!==null&&(Jn[Zn++]=ei,Jn[Zn++]=ti,Jn[Zn++]=ns,ei=t.id,ti=t.overflow,ns=e),e=Py(e,r.children),e.flags|=4096,e)}function WE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),iv(t.return,e,n)}function Mm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function tT(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(pn(t,e,r.children,n),r=et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WE(t,n,e);else if(t.tag===19)WE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Tf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mm(e,!0,n,null,o);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=no(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=no(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bA(t,e,n){switch(e.tag){case 3:Zx(e),ya();break;case 5:kx(e);break;case 1:xn(e.type)&&Ef(e);break;case 4:_y(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;je(bf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(et,et.current&1),e.flags|=128,null):n&e.child.childLanes?eT(t,e,n):(je(et,et.current&1),t=di(t,e,n),t!==null?t.sibling:null);je(et,et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(et,et.current),r)break;return null;case 22:case 23:return e.lanes=0,Yx(t,e,n)}return di(t,e,n)}var nT,fv,rT,iT;nT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fv=function(){};rT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Uo($r.current);var o=null;switch(n){case"input":i=$g(t,i),r=$g(t,r),o=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),o=[];break;case"textarea":i=Dg(t,i),r=Dg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yf)}jg(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(iu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(iu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ze("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};iT=function(t,e,n,r){n!==r&&(e.flags|=4)};function gl(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _A(t,e,n){var r=e.pendingProps;switch(vy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return xn(e.type)&&wf(),Yt(e),null;case 3:return r=e.stateNode,Ea(),He(_n),He(ln),Ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(id(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(Ev(hr),hr=null))),fv(t,e),Yt(e),null;case 5:xy(e);var i=Uo(gu.current);if(n=e.type,t!==null&&e.stateNode!=null)rT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Yt(e),null}if(t=Uo($r.current),id(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[kr]=e,r[pu]=o,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(i=0;i<kl.length;i++)ze(kl[i],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":eE(r,o),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ze("invalid",r);break;case"textarea":nE(r,o),ze("invalid",r)}jg(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&rd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&rd(r.textContent,a,t),i=["children",""+a]):iu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ze("scroll",r)}switch(n){case"input":Qc(r),tE(r,o,!0);break;case"textarea":Qc(r),rE(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=yf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=N_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[kr]=e,t[pu]=r,nT(t,e,!1,!1),e.stateNode=t;e:{switch(s=Ug(n,r),n){case"dialog":ze("cancel",t),ze("close",t),i=r;break;case"iframe":case"object":case"embed":ze("load",t),i=r;break;case"video":case"audio":for(i=0;i<kl.length;i++)ze(kl[i],t);i=r;break;case"source":ze("error",t),i=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),i=r;break;case"details":ze("toggle",t),i=r;break;case"input":eE(t,r),i=$g(t,r),ze("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),ze("invalid",t);break;case"textarea":nE(t,r),i=Dg(t,r),ze("invalid",t);break;default:i=r}jg(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?$_(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&P_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ou(t,l):typeof l=="number"&&ou(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(iu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ze("scroll",t):l!=null&&ny(t,o,l,s))}switch(n){case"input":Qc(t),tE(t,r,!1);break;case"textarea":Qc(t),rE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+lo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ra(t,!!r.multiple,o,!1):r.defaultValue!=null&&ra(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)iT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Uo(gu.current),Uo($r.current),id(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(o=r.nodeValue!==n)&&(t=jn,t!==null))switch(t.tag){case 3:rd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return Yt(e),null;case 13:if(He(et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Mn!==null&&e.mode&1&&!(e.flags&128))Cx(),ya(),e.flags|=98560,o=!1;else if(o=id(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(z(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(z(317));o[kr]=e}else ya(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),o=!1}else hr!==null&&(Ev(hr),hr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||et.current&1?Ot===0&&(Ot=3):Fy())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return Ea(),fv(t,e),t===null&&fu(e.stateNode.containerInfo),Yt(e),null;case 10:return Cy(e.type._context),Yt(e),null;case 17:return xn(e.type)&&wf(),Yt(e),null;case 19:if(He(et),o=e.memoizedState,o===null)return Yt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)gl(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Tf(t),s!==null){for(e.flags|=128,gl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(et,et.current&1|2),e.child}t=t.sibling}o.tail!==null&&pt()>Sa&&(e.flags|=128,r=!0,gl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Tf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),gl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Qe)return Yt(e),null}else 2*pt()-o.renderingStartTime>Sa&&n!==1073741824&&(e.flags|=128,r=!0,gl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=pt(),e.sibling=null,n=et.current,je(et,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return Dy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$n&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function xA(t,e){switch(vy(e),e.tag){case 1:return xn(e.type)&&wf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ea(),He(_n),He(ln),Ty(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xy(e),null;case 13:if(He(et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));ya()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return He(et),null;case 4:return Ea(),null;case 10:return Cy(e.type._context),null;case 22:case 23:return Dy(),null;case 24:return null;default:return null}}var ad=!1,en=!1,TA=typeof WeakSet=="function"?WeakSet:Set,K=null;function Qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function hv(t,e,n){try{n()}catch(r){lt(t,e,r)}}var qE=!1;function IA(t,e){if(Xg=mf,t=lx(),my(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yg={focusedElem:t,selectionRange:n},mf=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,C=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:ur(e.type,w),C);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(E){lt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return v=qE,qE=!1,v}function Hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&hv(e,n,o)}i=i.next}while(i!==r)}}function Ah(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function oT(t){var e=t.alternate;e!==null&&(t.alternate=null,oT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[pu],delete e[ev],delete e[uA],delete e[cA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sT(t){return t.tag===5||t.tag===3||t.tag===4}function GE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yf));else if(r!==4&&(t=t.child,t!==null))for(mv(t,e,n),t=t.sibling;t!==null;)mv(t,e,n),t=t.sibling}function gv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gv(t,e,n),t=t.sibling;t!==null;)gv(t,e,n),t=t.sibling}var Bt=null,cr=!1;function Ri(t,e,n){for(n=n.child;n!==null;)aT(t,e,n),n=n.sibling}function aT(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(xh,n)}catch{}switch(n.tag){case 5:en||Qs(n,e);case 6:var r=Bt,i=cr;Bt=null,Ri(t,e,n),Bt=r,cr=i,Bt!==null&&(cr?(t=Bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:Bt!==null&&(cr?(t=Bt,n=n.stateNode,t.nodeType===8?km(t.parentNode,n):t.nodeType===1&&km(t,n),uu(t)):km(Bt,n.stateNode));break;case 4:r=Bt,i=cr,Bt=n.stateNode.containerInfo,cr=!0,Ri(t,e,n),Bt=r,cr=i;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&hv(n,e,s),i=i.next}while(i!==r)}Ri(t,e,n);break;case 1:if(!en&&(Qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}Ri(t,e,n);break;case 21:Ri(t,e,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,Ri(t,e,n),en=r):Ri(t,e,n);break;default:Ri(t,e,n)}}function KE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TA),e.forEach(function(r){var i=LA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Bt=a.stateNode,cr=!1;break e;case 3:Bt=a.stateNode.containerInfo,cr=!0;break e;case 4:Bt=a.stateNode.containerInfo,cr=!0;break e}a=a.return}if(Bt===null)throw Error(z(160));aT(o,s,i),Bt=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){lt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lT(e,t),e=e.sibling}function lT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),Tr(t),r&4){try{Hl(3,t,t.return),Ah(3,t)}catch(w){lt(t,t.return,w)}try{Hl(5,t,t.return)}catch(w){lt(t,t.return,w)}}break;case 1:ar(e,t),Tr(t),r&512&&n!==null&&Qs(n,n.return);break;case 5:if(ar(e,t),Tr(t),r&512&&n!==null&&Qs(n,n.return),t.flags&32){var i=t.stateNode;try{ou(i,"")}catch(w){lt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&R_(i,o),Ug(a,s);var u=Ug(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?$_(i,d):c==="dangerouslySetInnerHTML"?P_(i,d):c==="children"?ou(i,d):ny(i,c,d,u)}switch(a){case"input":Mg(i,o);break;case"textarea":O_(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ra(i,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?ra(i,!!o.multiple,o.defaultValue,!0):ra(i,!!o.multiple,o.multiple?[]:"",!1))}i[pu]=o}catch(w){lt(t,t.return,w)}}break;case 6:if(ar(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){lt(t,t.return,w)}}break;case 3:if(ar(e,t),Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uu(e.containerInfo)}catch(w){lt(t,t.return,w)}break;case 4:ar(e,t),Tr(t);break;case 13:ar(e,t),Tr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(My=pt())),r&4&&KE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(en=(u=en)||c,ar(e,t),en=u):ar(e,t),Tr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(K=t,c=t.child;c!==null;){for(d=K=c;K!==null;){switch(f=K,m=f.child,f.tag){case 0:case 11:case 14:case 15:Hl(4,f,f.return);break;case 1:Qs(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){lt(r,n,w)}}break;case 5:Qs(f,f.return);break;case 22:if(f.memoizedState!==null){XE(d);continue}}m!==null?(m.return=f,K=m):XE(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=A_("display",s))}catch(w){lt(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){lt(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ar(e,t),Tr(t),r&4&&KE(t);break;case 21:break;default:ar(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sT(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ou(i,""),r.flags&=-33);var o=GE(t);gv(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=GE(t);mv(t,a,s);break;default:throw Error(z(161))}}catch(l){lt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kA(t,e,n){K=t,uT(t)}function uT(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ad;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||en;a=ad;var u=en;if(ad=s,(en=l)&&!u)for(K=i;K!==null;)s=K,l=s.child,s.tag===22&&s.memoizedState!==null?YE(i):l!==null?(l.return=s,K=l):YE(i);for(;o!==null;)K=o,uT(o),o=o.sibling;K=i,ad=a,en=u}QE(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):QE(t)}}function QE(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:en||Ah(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!en)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ur(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&PE(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}PE(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&uu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}en||e.flags&512&&pv(e)}catch(f){lt(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function XE(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function YE(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ah(4,e)}catch(l){lt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lt(e,i,l)}}var o=e.return;try{pv(e)}catch(l){lt(e,o,l)}break;case 5:var s=e.return;try{pv(e)}catch(l){lt(e,s,l)}}}catch(l){lt(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var RA=Math.ceil,Rf=Ei.ReactCurrentDispatcher,Ay=Ei.ReactCurrentOwner,nr=Ei.ReactCurrentBatchConfig,Ie=0,Lt=null,_t=null,Wt=0,$n=0,Xs=yo(0),Ot=0,Eu=null,is=0,$h=0,$y=0,Wl=null,wn=null,My=0,Sa=1/0,Yr=null,Of=!1,vv=null,eo=null,ld=!1,Hi=null,Nf=0,ql=0,yv=null,Vd=-1,Hd=0;function gn(){return Ie&6?pt():Vd!==-1?Vd:Vd=pt()}function to(t){return t.mode&1?Ie&2&&Wt!==0?Wt&-Wt:fA.transition!==null?(Hd===0&&(Hd=q_()),Hd):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:Z_(t.type)),t):1}function gr(t,e,n,r){if(50<ql)throw ql=0,yv=null,Error(z(185));Wu(t,n,r),(!(Ie&2)||t!==Lt)&&(t===Lt&&(!(Ie&2)&&($h|=n),Ot===4&&Di(t,Wt)),Tn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Sa=pt()+500,Oh&&wo()))}function Tn(t,e){var n=t.callbackNode;fP(t,e);var r=pf(t,t===Lt?Wt:0);if(r===0)n!==null&&sE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sE(n),e===1)t.tag===0?dA(JE.bind(null,t)):yx(JE.bind(null,t)),aA(function(){!(Ie&6)&&wo()}),n=null;else{switch(G_(r)){case 1:n=ay;break;case 4:n=H_;break;case 16:n=hf;break;case 536870912:n=W_;break;default:n=hf}n=vT(n,cT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cT(t,e){if(Vd=-1,Hd=0,Ie&6)throw Error(z(327));var n=t.callbackNode;if(la()&&t.callbackNode!==n)return null;var r=pf(t,t===Lt?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Pf(t,r);else{e=r;var i=Ie;Ie|=2;var o=fT();(Lt!==t||Wt!==e)&&(Yr=null,Sa=pt()+500,Ko(t,e));do try{PA();break}catch(a){dT(t,a)}while(1);Ey(),Rf.current=o,Ie=i,_t!==null?e=0:(Lt=null,Wt=0,e=Ot)}if(e!==0){if(e===2&&(i=Wg(t),i!==0&&(r=i,e=wv(t,i))),e===1)throw n=Eu,Ko(t,0),Di(t,r),Tn(t,pt()),n;if(e===6)Di(t,r);else{if(i=t.current.alternate,!(r&30)&&!OA(i)&&(e=Pf(t,r),e===2&&(o=Wg(t),o!==0&&(r=o,e=wv(t,o))),e===1))throw n=Eu,Ko(t,0),Di(t,r),Tn(t,pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:$o(t,wn,Yr);break;case 3:if(Di(t,r),(r&130023424)===r&&(e=My+500-pt(),10<e)){if(pf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zg($o.bind(null,t,wn,Yr),e);break}$o(t,wn,Yr);break;case 4:if(Di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-mr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*RA(r/1960))-r,10<r){t.timeoutHandle=Zg($o.bind(null,t,wn,Yr),r);break}$o(t,wn,Yr);break;case 5:$o(t,wn,Yr);break;default:throw Error(z(329))}}}return Tn(t,pt()),t.callbackNode===n?cT.bind(null,t):null}function wv(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(Ko(t,e).flags|=256),t=Pf(t,e),t!==2&&(e=wn,wn=n,e!==null&&Ev(e)),t}function Ev(t){wn===null?wn=t:wn.push.apply(wn,t)}function OA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!yr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Di(t,e){for(e&=~$y,e&=~$h,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),r=1<<n;t[n]=-1,e&=~r}}function JE(t){if(Ie&6)throw Error(z(327));la();var e=pf(t,0);if(!(e&1))return Tn(t,pt()),null;var n=Pf(t,e);if(t.tag!==0&&n===2){var r=Wg(t);r!==0&&(e=r,n=wv(t,r))}if(n===1)throw n=Eu,Ko(t,0),Di(t,e),Tn(t,pt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$o(t,wn,Yr),Tn(t,pt()),null}function Ly(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Sa=pt()+500,Oh&&wo())}}function os(t){Hi!==null&&Hi.tag===0&&!(Ie&6)&&la();var e=Ie;Ie|=1;var n=nr.transition,r=Ne;try{if(nr.transition=null,Ne=1,t)return t()}finally{Ne=r,nr.transition=n,Ie=e,!(Ie&6)&&wo()}}function Dy(){$n=Xs.current,He(Xs)}function Ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sA(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(vy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&wf();break;case 3:Ea(),He(_n),He(ln),Ty();break;case 5:xy(r);break;case 4:Ea();break;case 13:He(et);break;case 19:He(et);break;case 10:Cy(r.type._context);break;case 22:case 23:Dy()}n=n.return}if(Lt=t,_t=t=no(t.current,null),Wt=$n=e,Ot=0,Eu=null,$y=$h=is=0,wn=Wl=null,jo!==null){for(e=0;e<jo.length;e++)if(n=jo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}jo=null}return t}function dT(t,e){do{var n=_t;try{if(Ey(),Ud.current=kf,If){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}If=!1}if(rs=0,Mt=Rt=nt=null,Vl=!1,vu=0,Ay.current=null,n===null||n.return===null){Ot=1,Eu=e,_t=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=jE(s);if(m!==null){m.flags&=-257,UE(m,s,a,o,e),m.mode&1&&FE(o,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){FE(o,u,e),Fy();break e}l=Error(z(426))}}else if(Qe&&a.mode&1){var C=jE(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),UE(C,s,a,o,e),yy(Ca(l,a));break e}}o=l=Ca(l,a),Ot!==4&&(Ot=2),Wl===null?Wl=[o]:Wl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Kx(o,l,e);NE(o,g);break e;case 1:a=l;var p=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(eo===null||!eo.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=Qx(o,a,e);NE(o,E);break e}}o=o.return}while(o!==null)}pT(n)}catch(S){e=S,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(1)}function fT(){var t=Rf.current;return Rf.current=kf,t===null?kf:t}function Fy(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Lt===null||!(is&268435455)&&!($h&268435455)||Di(Lt,Wt)}function Pf(t,e){var n=Ie;Ie|=2;var r=fT();(Lt!==t||Wt!==e)&&(Yr=null,Ko(t,e));do try{NA();break}catch(i){dT(t,i)}while(1);if(Ey(),Ie=n,Rf.current=r,_t!==null)throw Error(z(261));return Lt=null,Wt=0,Ot}function NA(){for(;_t!==null;)hT(_t)}function PA(){for(;_t!==null&&!rP();)hT(_t)}function hT(t){var e=gT(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?pT(t):_t=e,Ay.current=null}function pT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xA(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,_t=null;return}}else if(n=_A(n,e,$n),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);Ot===0&&(Ot=5)}function $o(t,e,n){var r=Ne,i=nr.transition;try{nr.transition=null,Ne=1,AA(t,e,n,r)}finally{nr.transition=i,Ne=r}return null}function AA(t,e,n,r){do la();while(Hi!==null);if(Ie&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(hP(t,o),t===Lt&&(_t=Lt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ld||(ld=!0,vT(hf,function(){return la(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nr.transition,nr.transition=null;var s=Ne;Ne=1;var a=Ie;Ie|=4,Ay.current=null,IA(t,n),lT(n,t),ZP(Yg),mf=!!Xg,Yg=Xg=null,t.current=n,kA(n),iP(),Ie=a,Ne=s,nr.transition=o}else t.current=n;if(ld&&(ld=!1,Hi=t,Nf=i),o=t.pendingLanes,o===0&&(eo=null),aP(n.stateNode),Tn(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Of)throw Of=!1,t=vv,vv=null,t;return Nf&1&&t.tag!==0&&la(),o=t.pendingLanes,o&1?t===yv?ql++:(ql=0,yv=t):ql=0,wo(),null}function la(){if(Hi!==null){var t=G_(Nf),e=nr.transition,n=Ne;try{if(nr.transition=null,Ne=16>t?16:t,Hi===null)var r=!1;else{if(t=Hi,Hi=null,Nf=0,Ie&6)throw Error(z(331));var i=Ie;for(Ie|=4,K=t.current;K!==null;){var o=K,s=o.child;if(K.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;K!==null;){var c=K;switch(c.tag){case 0:case 11:case 15:Hl(8,c,o)}var d=c.child;if(d!==null)d.return=c,K=d;else for(;K!==null;){c=K;var f=c.sibling,m=c.return;if(oT(c),c===u){K=null;break}if(f!==null){f.return=m,K=f;break}K=m}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}K=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,K=s;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hl(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,K=g;break e}K=o.return}}var p=t.current;for(K=p;K!==null;){s=K;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,K=y;else e:for(s=p;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ah(9,a)}}catch(S){lt(a,a.return,S)}if(a===s){K=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,K=E;break e}K=a.return}}if(Ie=i,wo(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(xh,t)}catch{}r=!0}return r}finally{Ne=n,nr.transition=e}}return!1}function ZE(t,e,n){e=Ca(n,e),e=Kx(t,e,1),t=Zi(t,e,1),e=gn(),t!==null&&(Wu(t,1,e),Tn(t,e))}function lt(t,e,n){if(t.tag===3)ZE(t,t,n);else for(;e!==null;){if(e.tag===3){ZE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(eo===null||!eo.has(r))){t=Ca(n,t),t=Qx(e,t,1),e=Zi(e,t,1),t=gn(),e!==null&&(Wu(e,1,t),Tn(e,t));break}}e=e.return}}function $A(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(Wt&n)===n&&(Ot===4||Ot===3&&(Wt&130023424)===Wt&&500>pt()-My?Ko(t,0):$y|=n),Tn(t,e)}function mT(t,e){e===0&&(t.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var n=gn();t=ci(t,e),t!==null&&(Wu(t,e,n),Tn(t,n))}function MA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mT(t,n)}function LA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),mT(t,n)}var gT;gT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)Sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sn=!1,bA(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,Qe&&e.flags&1048576&&wx(e,Sf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bd(t,e),t=e.pendingProps;var i=va(e,ln.current);aa(e,n),i=ky(null,e,r,t,i,n);var o=Ry();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xn(r)?(o=!0,Ef(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,by(e),i.updater=Nh,e.stateNode=i,i._reactInternals=e,sv(e,r,t,n),e=uv(null,e,r,!0,o,n)):(e.tag=0,Qe&&o&&gy(e),pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=FA(r),t=ur(r,t),i){case 0:e=lv(null,e,r,t,n);break e;case 1:e=VE(null,e,r,t,n);break e;case 11:e=zE(null,e,r,t,n);break e;case 14:e=BE(null,e,r,ur(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),lv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),VE(t,e,r,i,n);case 3:e:{if(Zx(e),t===null)throw Error(z(387));r=e.pendingProps,o=e.memoizedState,i=o.element,bx(t,e),xf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ca(Error(z(423)),e),e=HE(t,e,r,n,i);break e}else if(r!==i){i=Ca(Error(z(424)),e),e=HE(t,e,r,n,i);break e}else for(Mn=Ji(e.stateNode.containerInfo.firstChild),jn=e,Qe=!0,hr=null,n=Ix(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ya(),r===i){e=di(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return kx(e),t===null&&rv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Jg(r,i)?s=null:o!==null&&Jg(r,o)&&(e.flags|=32),Jx(t,e),pn(t,e,s,n),e.child;case 6:return t===null&&rv(e),null;case 13:return eT(t,e,n);case 4:return _y(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wa(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),zE(t,e,r,i,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,je(bf,r._currentValue),r._currentValue=s,o!==null)if(yr(o.value,s)){if(o.children===i.children&&!_n.current){e=di(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=oi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),iv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),iv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,aa(e,n),i=ir(i),r=r(i),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,i=ur(r,e.pendingProps),i=ur(r.type,i),BE(t,e,r,i,n);case 15:return Xx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ur(r,i),Bd(t,e),e.tag=1,xn(r)?(t=!0,Ef(e)):t=!1,aa(e,n),xx(e,r,i),sv(e,r,i,n),uv(null,e,r,!0,t,n);case 19:return tT(t,e,n);case 22:return Yx(t,e,n)}throw Error(z(156,e.tag))};function vT(t,e){return V_(t,e)}function DA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new DA(t,e,n,r)}function jy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FA(t){if(typeof t=="function")return jy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iy)return 11;if(t===oy)return 14}return 2}function no(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wd(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")jy(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Us:return Qo(n.children,i,o,e);case ry:s=8,i|=8;break;case Og:return t=tr(12,n,e,i|2),t.elementType=Og,t.lanes=o,t;case Ng:return t=tr(13,n,e,i),t.elementType=Ng,t.lanes=o,t;case Pg:return t=tr(19,n,e,i),t.elementType=Pg,t.lanes=o,t;case T_:return Mh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case __:s=10;break e;case x_:s=9;break e;case iy:s=11;break e;case oy:s=14;break e;case Ai:s=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=tr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Qo(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function Mh(t,e,n,r){return t=tr(22,t,r,e),t.elementType=T_,t.lanes=n,t.stateNode={isHidden:!1},t}function Lm(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function Dm(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vm(0),this.expirationTimes=vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uy(t,e,n,r,i,o,s,a,l){return t=new jA(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=tr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},by(o),t}function UA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yT(t){if(!t)return uo;t=t._reactInternals;e:{if(gs(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(xn(n))return vx(t,n,e)}return e}function wT(t,e,n,r,i,o,s,a,l){return t=Uy(n,r,!0,t,i,o,s,a,l),t.context=yT(null),n=t.current,r=gn(),i=to(n),o=oi(r,i),o.callback=e??null,Zi(n,o,i),t.current.lanes=i,Wu(t,i,r),Tn(t,r),t}function Lh(t,e,n,r){var i=e.current,o=gn(),s=to(i);return n=yT(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zi(i,e,s),t!==null&&(gr(t,i,s,o),jd(t,i,s)),s}function Af(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function eC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zy(t,e){eC(t,e),(t=t.alternate)&&eC(t,e)}function zA(){return null}var ET=typeof reportError=="function"?reportError:function(t){console.error(t)};function By(t){this._internalRoot=t}Dh.prototype.render=By.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Lh(t,e,null,null)};Dh.prototype.unmount=By.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;os(function(){Lh(null,t,null,null)}),e[ui]=null}};function Dh(t){this._internalRoot=t}Dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=X_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&J_(t)}};function Vy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tC(){}function BA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Af(s);o.call(u)}}var s=wT(e,r,t,0,null,!1,!1,"",tC);return t._reactRootContainer=s,t[ui]=s.current,fu(t.nodeType===8?t.parentNode:t),os(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Af(l);a.call(u)}}var l=Uy(t,0,!1,null,null,!1,!1,"",tC);return t._reactRootContainer=l,t[ui]=l.current,fu(t.nodeType===8?t.parentNode:t),os(function(){Lh(e,l,n,r)}),l}function jh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Af(s);a.call(l)}}Lh(e,s,t,i)}else s=BA(n,e,t,i,r);return Af(s)}K_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Il(e.pendingLanes);n!==0&&(ly(e,n|1),Tn(e,pt()),!(Ie&6)&&(Sa=pt()+500,wo()))}break;case 13:os(function(){var r=ci(t,1);if(r!==null){var i=gn();gr(r,t,1,i)}}),zy(t,1)}};uy=function(t){if(t.tag===13){var e=ci(t,134217728);if(e!==null){var n=gn();gr(e,t,134217728,n)}zy(t,134217728)}};Q_=function(t){if(t.tag===13){var e=to(t),n=ci(t,e);if(n!==null){var r=gn();gr(n,t,e,r)}zy(t,e)}};X_=function(){return Ne};Y_=function(t,e){var n=Ne;try{return Ne=t,e()}finally{Ne=n}};Bg=function(t,e,n){switch(e){case"input":if(Mg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Rh(r);if(!i)throw Error(z(90));k_(r),Mg(r,i)}}}break;case"textarea":O_(t,n);break;case"select":e=n.value,e!=null&&ra(t,!!n.multiple,e,!1)}};D_=Ly;F_=os;var VA={usingClientEntryPoint:!1,Events:[Gu,Hs,Rh,M_,L_,Ly]},vl={findFiberByHostInstance:Fo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HA={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=z_(t),t===null?null:t.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||zA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{xh=ud.inject(HA),Ar=ud}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VA;Wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vy(e))throw Error(z(200));return UA(t,e,null,n)};Wn.createRoot=function(t,e){if(!Vy(t))throw Error(z(299));var n=!1,r="",i=ET;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Uy(t,1,!1,null,null,n,!1,r,i),t[ui]=e.current,fu(t.nodeType===8?t.parentNode:t),new By(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=z_(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return os(t)};Wn.hydrate=function(t,e,n){if(!Fh(e))throw Error(z(200));return jh(null,t,e,!0,n)};Wn.hydrateRoot=function(t,e,n){if(!Vy(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=ET;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=wT(e,null,t,1,n??null,i,!1,o,s),t[ui]=e.current,fu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dh(e)};Wn.render=function(t,e,n){if(!Fh(e))throw Error(z(200));return jh(null,t,e,!1,n)};Wn.unmountComponentAtNode=function(t){if(!Fh(t))throw Error(z(40));return t._reactRootContainer?(os(function(){jh(null,null,t,!1,function(){t._reactRootContainer=null,t[ui]=null})}),!0):!1};Wn.unstable_batchedUpdates=Ly;Wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return jh(t,e,n,!1,r)};Wn.version="18.2.0-next-9e3b772b8-20220608";function CT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CT)}catch(t){console.error(t)}}CT(),w_.exports=Wn;var Uh=w_.exports;const $f=K0(Uh),WA=l_({__proto__:null,default:$f},[Uh]);var nC=Uh;kg.createRoot=nC.createRoot,kg.hydrateRoot=nC.hydrateRoot;/**
 * @remix-run/router v1.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}var Wi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wi||(Wi={}));const rC="popstate";function qA(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Cv("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mf(i)}return KA(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GA(){return Math.random().toString(36).substr(2,8)}function iC(t,e){return{usr:t.state,key:t.key,idx:e}}function Cv(t,e,n,r){return n===void 0&&(n=null),Cu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ua(e):e,{state:n,key:e&&e.key||r||GA()})}function Mf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ua(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function KA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Wi.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Cu({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Wi.Pop;let C=c(),g=C==null?null:C-u;u=C,l&&l({action:a,location:w.location,delta:g})}function f(C,g){a=Wi.Push;let p=Cv(w.location,C,g);n&&n(p,C),u=c()+1;let y=iC(p,u),E=w.createHref(p);try{s.pushState(y,"",E)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(E)}o&&l&&l({action:a,location:w.location,delta:1})}function m(C,g){a=Wi.Replace;let p=Cv(w.location,C,g);n&&n(p,C),u=c();let y=iC(p,u),E=w.createHref(p);s.replaceState(y,"",E),o&&l&&l({action:a,location:w.location,delta:0})}function v(C){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof C=="string"?C:Mf(C);return gt(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return a},get location(){return t(i,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(rC,d),l=C,()=>{i.removeEventListener(rC,d),l=null}},createHref(C){return e(i,C)},createURL:v,encodeLocation(C){let g=v(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(C){return s.go(C)}};return w}var oC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oC||(oC={}));function QA(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ua(e):e,i=Wy(r.pathname||"/",n);if(i==null)return null;let o=ST(t);XA(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=o4(o[a],l4(i));return s}function ST(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ro([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(gt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ST(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:r4(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of bT(o.path))i(o,s,l)}),e}function bT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=bT(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function XA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:i4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YA=/^:\w+$/,JA=3,ZA=2,e4=1,t4=10,n4=-2,sC=t=>t==="*";function r4(t,e){let n=t.split("/"),r=n.length;return n.some(sC)&&(r+=n4),e&&(r+=ZA),n.filter(i=>!sC(i)).reduce((i,o)=>i+(YA.test(o)?JA:o===""?e4:t4),r)}function i4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function o4(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=s4({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:ro([i,c.pathname]),pathnameBase:f4(ro([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ro([i,c.pathnameBase]))}return o}function s4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=a4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=u4(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function a4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function l4(t){try{return decodeURI(t)}catch(e){return Hy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function u4(t,e){try{return decodeURIComponent(t)}catch(n){return Hy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Wy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function c4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ua(t):t;return{pathname:n?n.startsWith("/")?n:d4(n,e):e,search:h4(r),hash:p4(i)}}function d4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ua(t):(i=Cu({},t),gt(!i.pathname||!i.pathname.includes("?"),Fm("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),Fm("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),Fm("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=c4(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ro=t=>t.join("/").replace(/\/\/+/g,"/"),f4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),h4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function m4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _T=["post","put","patch","delete"];new Set(_T);const g4=["get",..._T];new Set(g4);/**
 * React Router v6.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lf.apply(this,arguments)}const Ky=h.createContext(null),v4=h.createContext(null),za=h.createContext(null),zh=h.createContext(null),Eo=h.createContext({outlet:null,matches:[],isDataRoute:!1}),xT=h.createContext(null);function y4(t,e){let{relative:n}=e===void 0?{}:e;Ba()||gt(!1);let{basename:r,navigator:i}=h.useContext(za),{hash:o,pathname:s,search:a}=IT(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ro([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ba(){return h.useContext(zh)!=null}function Qu(){return Ba()||gt(!1),h.useContext(zh).location}function TT(t){h.useContext(za).static||h.useLayoutEffect(t)}function Va(){let{isDataRoute:t}=h.useContext(Eo);return t?N4():w4()}function w4(){Ba()||gt(!1);let t=h.useContext(Ky),{basename:e,navigator:n}=h.useContext(za),{matches:r}=h.useContext(Eo),{pathname:i}=Qu(),o=JSON.stringify(qy(r).map(l=>l.pathnameBase)),s=h.useRef(!1);return TT(()=>{s.current=!0}),h.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=Gy(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ro([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}function IT(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=h.useContext(Eo),{pathname:i}=Qu(),o=JSON.stringify(qy(r).map(s=>s.pathnameBase));return h.useMemo(()=>Gy(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function E4(t,e){return C4(t,e)}function C4(t,e,n){Ba()||gt(!1);let{navigator:r}=h.useContext(za),{matches:i}=h.useContext(Eo),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Qu(),u;if(e){var c;let w=typeof e=="string"?Ua(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||gt(!1),u=w}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",m=QA(t,{pathname:f}),v=T4(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:ro([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:ro([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&v?h.createElement(zh.Provider,{value:{location:Lf({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wi.Pop}},v):v}function S4(){let t=O4(),e=m4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},e),n?h.createElement("pre",{style:i},n):null,o)}const b4=h.createElement(S4,null);class _4 extends h.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?h.createElement(Eo.Provider,{value:this.props.routeContext},h.createElement(xT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x4(t){let{routeContext:e,match:n,children:r}=t,i=h.useContext(Ky);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Eo.Provider,{value:e},r)}function T4(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||gt(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||b4);let f=e.concat(o.slice(0,u+1)),m=()=>{let v;return c?v=d:l.route.Component?v=h.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,h.createElement(x4,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?h.createElement(_4,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var Sv;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Sv||(Sv={}));var Su;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Su||(Su={}));function I4(t){let e=h.useContext(Ky);return e||gt(!1),e}function k4(t){let e=h.useContext(v4);return e||gt(!1),e}function R4(t){let e=h.useContext(Eo);return e||gt(!1),e}function kT(t){let e=R4(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function O4(){var t;let e=h.useContext(xT),n=k4(Su.UseRouteError),r=kT(Su.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function N4(){let{router:t}=I4(Sv.UseNavigateStable),e=kT(Su.UseNavigateStable),n=h.useRef(!1);return TT(()=>{n.current=!0}),h.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Lf({fromRouteId:e},o)))},[t,e])}function P4(t){let{to:e,replace:n,state:r,relative:i}=t;Ba()||gt(!1);let{matches:o}=h.useContext(Eo),{pathname:s}=Qu(),a=Va(),l=Gy(e,qy(o).map(c=>c.pathnameBase),s,i==="path"),u=JSON.stringify(l);return h.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function Rl(t){gt(!1)}function A4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wi.Pop,navigator:o,static:s=!1}=t;Ba()&&gt(!1);let a=e.replace(/^\/*/,"/"),l=h.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=Ua(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:m="default"}=r,v=h.useMemo(()=>{let w=Wy(u,a);return w==null?null:{location:{pathname:w,search:c,hash:d,state:f,key:m},navigationType:i}},[a,u,c,d,f,m,i]);return v==null?null:h.createElement(za.Provider,{value:l},h.createElement(zh.Provider,{children:n,value:v}))}function $4(t){let{children:e,location:n}=t;return E4(bv(e),n)}var aC;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(aC||(aC={}));new Promise(()=>{});function bv(t,e){e===void 0&&(e=[]);let n=[];return h.Children.forEach(t,(r,i)=>{if(!h.isValidElement(r))return;let o=[...e,i];if(r.type===h.Fragment){n.push.apply(n,bv(r.props.children,o));return}r.type!==Rl&&gt(!1),!r.props.index||!r.props.children||gt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=bv(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.14.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(this,arguments)}function M4(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function L4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function D4(t,e){return t.button===0&&(!e||e==="_self")&&!L4(t)}const F4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],j4="startTransition",lC=Z0[j4];function U4(t){let{basename:e,children:n,future:r,window:i}=t,o=h.useRef();o.current==null&&(o.current=qA({window:i,v5Compat:!0}));let s=o.current,[a,l]=h.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=h.useCallback(d=>{u&&lC?lC(()=>l(d)):l(d)},[l,u]);return h.useLayoutEffect(()=>s.listen(c),[s,c]),h.createElement(A4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}const z4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RT=h.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=e,d=M4(e,F4),{basename:f}=h.useContext(za),m,v=!1;if(typeof u=="string"&&B4.test(u)&&(m=u,z4))try{let p=new URL(window.location.href),y=u.startsWith("//")?new URL(p.protocol+u):new URL(u),E=Wy(y.pathname,f);y.origin===p.origin&&E!=null?u=E+y.search+y.hash:v=!0}catch{}let w=y4(u,{relative:i}),C=V4(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function g(p){r&&r(p),p.defaultPrevented||C(p)}return h.createElement("a",_v({},d,{href:m||w,onClick:v||o?r:g,ref:n,target:l}))});var uC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(uC||(uC={}));var cC;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cC||(cC={}));function V4(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=Va(),l=Qu(),u=IT(t,{relative:s});return h.useCallback(c=>{if(D4(c,n)){c.preventDefault();let d=r!==void 0?r:Mf(l)===Mf(u);a(t,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},H4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},NT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(f=64)),r.push(n[c],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):H4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new W4;const f=o<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q4=function(t){const e=OT(t);return NT.encodeByteArray(e,!0)},Df=function(t){return q4(t).replace(/\./g,"")},PT=function(t){try{return NT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=()=>G4().__FIREBASE_DEFAULTS__,Q4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PT(t[1]);return e&&JSON.parse(e)},Bh=()=>{try{return K4()||Q4()||X4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AT=t=>{var e,n;return(n=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$T=t=>{const e=AT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MT=()=>{var t;return(t=Bh())===null||t===void 0?void 0:t.config},LT=t=>{var e;return(e=Bh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Df(JSON.stringify(n)),Df(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Z4(){var t;const e=(t=Bh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n$(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r$(){try{return typeof indexedDB=="object"}catch{return!1}}function i$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$="FirebaseError";class Br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=o$,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?s$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Br(i,a,r)}}function s$(t,e){return t.replace(a$,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const a$=/\{\$([^}]+)}/g;function l$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ff(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(dC(o)&&dC(s)){if(!Ff(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function dC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ol(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Nl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u$(t,e){const n=new c$(t,e);return n.subscribe.bind(n)}class c${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");d$(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=jm),i.error===void 0&&(i.error=jm),i.complete===void 0&&(i.complete=jm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t){return t&&t._delegate?t._delegate:t}class co{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p$(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:h$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function h$(t){return t===Mo?void 0:t}function p$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const g$={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},v$=ke.INFO,y$={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},w$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=y$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=v$,this._logHandler=w$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const E$=(t,e)=>e.some(n=>t instanceof n);let fC,hC;function C$(){return fC||(fC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S$(){return hC||(hC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FT=new WeakMap,xv=new WeakMap,jT=new WeakMap,Um=new WeakMap,Xy=new WeakMap;function b$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(io(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&FT.set(n,t)}).catch(()=>{}),Xy.set(e,t),e}function _$(t){if(xv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});xv.set(t,e)}let Tv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function x$(t){Tv=t(Tv)}function T$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zm(this),e,...n);return jT.set(r,e.sort?e.sort():[e]),io(r)}:S$().includes(t)?function(...e){return t.apply(zm(this),e),io(FT.get(this))}:function(...e){return io(t.apply(zm(this),e))}}function I$(t){return typeof t=="function"?T$(t):(t instanceof IDBTransaction&&_$(t),E$(t,C$())?new Proxy(t,Tv):t)}function io(t){if(t instanceof IDBRequest)return b$(t);if(Um.has(t))return Um.get(t);const e=I$(t);return e!==t&&(Um.set(t,e),Xy.set(e,t)),e}const zm=t=>Xy.get(t);function k$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=io(s);return r&&s.addEventListener("upgradeneeded",l=>{r(io(s.result),l.oldVersion,l.newVersion,io(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const R$=["get","getKey","getAll","getAllKeys","count"],O$=["put","add","delete","clear"],Bm=new Map;function pC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bm.get(e))return Bm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=O$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R$.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Bm.set(e,o),o}x$(t=>({...t,get:(e,n,r)=>pC(e,n)||t.get(e,n,r),has:(e,n)=>!!pC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function P$(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Iv="@firebase/app",mC="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new Qy("@firebase/app"),A$="@firebase/app-compat",$$="@firebase/analytics-compat",M$="@firebase/analytics",L$="@firebase/app-check-compat",D$="@firebase/app-check",F$="@firebase/auth",j$="@firebase/auth-compat",U$="@firebase/database",z$="@firebase/database-compat",B$="@firebase/functions",V$="@firebase/functions-compat",H$="@firebase/installations",W$="@firebase/installations-compat",q$="@firebase/messaging",G$="@firebase/messaging-compat",K$="@firebase/performance",Q$="@firebase/performance-compat",X$="@firebase/remote-config",Y$="@firebase/remote-config-compat",J$="@firebase/storage",Z$="@firebase/storage-compat",eM="@firebase/firestore",tM="@firebase/firestore-compat",nM="firebase",rM="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="[DEFAULT]",iM={[Iv]:"fire-core",[A$]:"fire-core-compat",[M$]:"fire-analytics",[$$]:"fire-analytics-compat",[D$]:"fire-app-check",[L$]:"fire-app-check-compat",[F$]:"fire-auth",[j$]:"fire-auth-compat",[U$]:"fire-rtdb",[z$]:"fire-rtdb-compat",[B$]:"fire-fn",[V$]:"fire-fn-compat",[H$]:"fire-iid",[W$]:"fire-iid-compat",[q$]:"fire-fcm",[G$]:"fire-fcm-compat",[K$]:"fire-perf",[Q$]:"fire-perf-compat",[X$]:"fire-rc",[Y$]:"fire-rc-compat",[J$]:"fire-gcs",[Z$]:"fire-gcs-compat",[eM]:"fire-fst",[tM]:"fire-fst-compat","fire-js":"fire-js",[nM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,Rv=new Map;function oM(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function as(t){const e=t.name;if(Rv.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Rv.set(e,t);for(const n of jf.values())oM(n,t);return!0}function Vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},oo=new Xu("app","Firebase",sM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new co("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=rM;function UT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=MT()),!n)throw oo.create("no-options");const o=jf.get(i);if(o){if(Ff(n,o.options)&&Ff(r,o.config))return o;throw oo.create("duplicate-app",{appName:i})}const s=new m$(i);for(const l of Rv.values())s.addComponent(l);const a=new aM(n,r,s);return jf.set(i,a),a}function Yy(t=kv){const e=jf.get(t);if(!e&&t===kv&&MT())return UT();if(!e)throw oo.create("no-app",{appName:t});return e}function Mr(t,e,n){var r;let i=(r=iM[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(a.join(" "));return}as(new co(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="firebase-heartbeat-database",uM=1,bu="firebase-heartbeat-store";let Vm=null;function zT(){return Vm||(Vm=k$(lM,uM,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(bu)}}}).catch(t=>{throw oo.create("idb-open",{originalErrorMessage:t.message})})),Vm}async function cM(t){try{return await(await zT()).transaction(bu).objectStore(bu).get(BT(t))}catch(e){if(e instanceof Br)ss.warn(e.message);else{const n=oo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(n.message)}}}async function gC(t,e){try{const r=(await zT()).transaction(bu,"readwrite");await r.objectStore(bu).put(e,BT(t)),await r.done}catch(n){if(n instanceof Br)ss.warn(n.message);else{const r=oo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ss.warn(r.message)}}}function BT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=1024,fM=30*24*60*60*1e3;class hM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=fM}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vC(),{heartbeatsToSend:n,unsentEntries:r}=pM(this._heartbeatsCache.heartbeats),i=Df(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function vC(){return new Date().toISOString().substring(0,10)}function pM(t,e=dM){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),yC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return r$()?i$().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await cM(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function yC(t){return Df(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){as(new co("platform-logger",e=>new N$(e),"PRIVATE")),as(new co("heartbeat",e=>new hM(e),"PRIVATE")),Mr(Iv,mC,t),Mr(Iv,mC,"esm2017"),Mr("fire-js","")}gM("");function Jy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function VT(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vM=VT,HT=new Xu("auth","Firebase",VT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Qy("@firebase/auth");function yM(t,...e){Uf.logLevel<=ke.WARN&&Uf.warn(`Auth (${vs}): ${t}`,...e)}function qd(t,...e){Uf.logLevel<=ke.ERROR&&Uf.error(`Auth (${vs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,...e){throw Zy(t,...e)}function Lr(t,...e){return Zy(t,...e)}function wM(t,e,n){const r=Object.assign(Object.assign({},vM()),{[e]:n});return new Xu("auth","Firebase",r).create(e,{appName:t.name})}function Zy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HT.create(t,...e)}function ae(t,e,...n){if(!t)throw Zy(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function fi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function EM(){return wC()==="http:"||wC()==="https:"}function wC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EM()||e$()||"connection"in navigator)?navigator.onLine:!0}function SM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=J4()||t$()}get(){return CM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Ju(3e4,6e4);function Ha(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ys(t,e,n,r,i={}){return qT(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Yu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),WT.fetch()(GT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function qT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bM),e);try{const i=new xM(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw cd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw cd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw cd(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw wM(t,c,u);wr(t,c)}}catch(i){if(i instanceof Br)throw i;wr(t,"network-request-failed",{message:String(i)})}}async function Zu(t,e,n,r,i={}){const o=await ys(t,e,n,r,i);return"mfaPendingCredential"in o&&wr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function GT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?e1(t.config,i):`${t.config.apiScheme}://${i}`}class xM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),_M.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TM(t,e){return ys(t,"POST","/v1/accounts:delete",e)}async function IM(t,e){return ys(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kM(t,e=!1){const n=Xe(t),r=await n.getIdToken(e),i=t1(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Gl(Hm(i.auth_time)),issuedAtTime:Gl(Hm(i.iat)),expirationTime:Gl(Hm(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hm(t){return Number(t)*1e3}function t1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const i=PT(n);return i?JSON.parse(i):(qd("Failed to decode base64 JWT payload"),null)}catch(i){return qd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RM(t){const e=t1(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Br&&OM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ba(t,IM(n,{idToken:r}));ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$M(o.providerUserInfo):[],a=AM(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new KT(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function PM(t){const e=Xe(t);await zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $M(t){return t.map(e=>{var{providerId:n}=e,r=Jy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(t,e){const n=await qT(t,{},async()=>{const r=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=GT(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WT.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ae(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await MM(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new _u;return r&&(ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _u,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new KT(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ba(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kM(this,e)}reload(){return PM(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ba(this,TM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:E,isAnonymous:S,providerData:_,stsTokenManager:b}=n;ae(y&&b,e,"internal-error");const x=_u.fromJSON(this.name,b);ae(typeof y=="string",e,"internal-error"),Oi(d,e.name),Oi(f,e.name),ae(typeof E=="boolean",e,"internal-error"),ae(typeof S=="boolean",e,"internal-error"),Oi(m,e.name),Oi(v,e.name),Oi(w,e.name),Oi(C,e.name),Oi(g,e.name),Oi(p,e.name);const N=new Xo({uid:y,auth:e,email:f,emailVerified:E,displayName:d,isAnonymous:S,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:x,createdAt:g,lastLoginAt:p});return _&&Array.isArray(_)&&(N.providerData=_.map(k=>Object.assign({},k))),C&&(N._redirectEventId=C),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new _u;i.updateFromServerResponse(n);const o=new Xo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zf(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=new Map;function ri(t){fi(t instanceof Function,"Expected a class definition");let e=EC.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QT.type="NONE";const CC=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t,e,n){return`firebase:${t}:${e}:${n}`}class ua{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Gd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ua(ri(CC),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ri(CC);const s=Gd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=Xo._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ua(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ua(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(e2(e))return"Blackberry";if(t2(e))return"Webos";if(n1(e))return"Safari";if((e.includes("chrome/")||YT(e))&&!e.includes("edge/"))return"Chrome";if(ZT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XT(t=un()){return/firefox\//i.test(t)}function n1(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YT(t=un()){return/crios\//i.test(t)}function JT(t=un()){return/iemobile/i.test(t)}function ZT(t=un()){return/android/i.test(t)}function e2(t=un()){return/blackberry/i.test(t)}function t2(t=un()){return/webos/i.test(t)}function Hh(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LM(t=un()){var e;return Hh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DM(){return n$()&&document.documentMode===10}function n2(t=un()){return Hh(t)||ZT(t)||t2(t)||e2(t)||/windows phone/i.test(t)||JT(t)}function FM(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t,e=[]){let n;switch(t){case"Browser":n=SC(un());break;case"Worker":n=`${SC(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vs}/${r}`}async function i2(t,e){return ys(t,"GET","/v2/recaptchaConfig",Ha(t,e))}function bC(t){return t!==void 0&&t.enterprise!==void 0}class o2{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function s2(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Lr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",jM().appendChild(r)})}function UM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zM="https://www.google.com/recaptcha/enterprise.js?render=",BM="recaptcha-enterprise",VM="NO_RECAPTCHA";class a2{constructor(e){this.type=BM,this.auth=Wa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{i2(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new o2(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;bC(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(VM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&bC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}s2(zM+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function Bf(t,e,n,r=!1){const i=new a2(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _C(this),this.idTokenSubscription=new _C(this),this.beforeStateQueue=new HM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ua.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Xe(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}async initializeRecaptchaConfig(){const e=await i2(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new o2(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new a2(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await ua.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(s,this,"internal-error"),s.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wa(t){return Xe(t)}class _C{constructor(e){this.auth=e,this.observer=null,this.addObserver=u$(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t,e){const n=Vh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ff(o,e??{}))return i;wr(i,"already-initialized")}return n.initialize({options:e})}function GM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function KM(t,e,n){const r=Wa(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=l2(e),{host:s,port:a}=QM(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||XM()}function l2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QM(t){const e=l2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:xC(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:xC(s)}}}function xC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function YM(t,e){return ys(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(t,e){return Zu(t,"POST","/v1/accounts:signInWithPassword",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e){return Zu(t,"POST","/v1/accounts:signInWithEmailLink",Ha(t,e))}async function ZM(t,e){return Zu(t,"POST","/v1/accounts:signInWithEmailLink",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends r1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Bf(e,r,"signInWithPassword");return Wm(e,i)}else return Wm(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await Bf(e,r,"signInWithPassword");return Wm(e,o)}else return Promise.reject(i)});case"emailLink":return JM(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return YM(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return ZM(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t,e){return Zu(t,"POST","/v1/accounts:signInWithIdp",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL="http://localhost";class ls extends r1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Jy(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new ls(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ca(e,n)}buildRequest(){const e={requestUri:eL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nL(t){const e=Ol(Nl(t)).link,n=e?Ol(Nl(e)).deep_link_id:null,r=Ol(Nl(t)).deep_link_id;return(r?Ol(Nl(r)).link:null)||r||n||e||t}class i1{constructor(e){var n,r,i,o,s,a;const l=Ol(Nl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=tL((i=l.mode)!==null&&i!==void 0?i:null);ae(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=nL(e);try{return new i1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.providerId=qa.PROVIDER_ID}static credential(e,n){return xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=i1.parseLink(n);return ae(r,"argument-error"),xu._fromEmailAndCode(e,r.code,r.tenantId)}}qa.PROVIDER_ID="password";qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec extends u2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ec{constructor(){super("facebook.com")}static credential(e){return ls._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ls._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends ec{constructor(){super("github.com")}static credential(e){return ls._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends ec{constructor(){super("twitter.com")}static credential(e,n){return ls._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(t,e){return Zu(t,"POST","/v1/accounts:signUp",Ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Xo._fromIdTokenResponse(e,r,i),s=TC(r);return new us({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=TC(r);return new us({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function TC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf extends Br{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Vf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Vf(e,n,r,i)}}function c2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vf._fromErrorAndOperation(t,o,e,r):o})}async function rL(t,e,n=!1){const r=await ba(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return us._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await ba(t,c2(r,i,e,t),n);ae(o.idToken,r,"internal-error");const s=t1(o.idToken);ae(s,r,"internal-error");const{sub:a}=s;return ae(t.uid===a,r,"user-mismatch"),us._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&wr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(t,e,n=!1){const r="signIn",i=await c2(t,r,e),o=await us._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function oL(t,e){return d2(Wa(t),e)}async function sL(t,e,n){var r;const i=Wa(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Bf(i,o,"signUpPassword");s=qm(i,u)}else s=qm(i,o).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await Bf(i,o,"signUpPassword");return qm(i,c)}else return Promise.reject(u)});const a=await s.catch(u=>Promise.reject(u)),l=await us._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function aL(t,e,n){return oL(Xe(t),qa.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){return ys(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Xe(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await ba(r,lL(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function cL(t,e,n,r){return Xe(t).onIdTokenChanged(e,n,r)}function dL(t,e,n){return Xe(t).beforeAuthStateChanged(e,n)}function fL(t,e,n,r){return Xe(t).onAuthStateChanged(e,n,r)}function hL(t){return Xe(t).signOut()}const Hf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hf,"1"),this.storage.removeItem(Hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(){const t=un();return n1(t)||Hh(t)}const mL=1e3,gL=10;class h2 extends f2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=pL()&&FM(),this.fallbackToPolling=n2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);DM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h2.type="LOCAL";const vL=h2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2 extends f2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}p2.type="SESSION";const m2=p2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await yL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=o1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function EL(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function CL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bL(){return g2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebaseLocalStorageDb",_L=1,Wf="firebaseLocalStorage",y2="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(t,e){return t.transaction([Wf],e?"readwrite":"readonly").objectStore(Wf)}function xL(){const t=indexedDB.deleteDatabase(v2);return new tc(t).toPromise()}function Nv(){const t=indexedDB.open(v2,_L);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wf,{keyPath:y2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wf)?e(r):(r.close(),await xL(),e(await Nv()))})})}async function IC(t,e,n){const r=qh(t,!0).put({[y2]:e,value:n});return new tc(r).toPromise()}async function TL(t,e){const n=qh(t,!1).get(e),r=await new tc(n).toPromise();return r===void 0?null:r.value}function kC(t,e){const n=qh(t,!0).delete(e);return new tc(n).toPromise()}const IL=800,kL=3;class w2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(bL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CL(),!this.activeServiceWorker)return;this.sender=new wL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nv();return await IC(e,Hf,"1"),await kC(e,Hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>TL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=qh(i,!1).getAll();return new tc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w2.type="LOCAL";const RL=w2;new Ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t,e){return e?ri(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1 extends r1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function NL(t){return d2(t.auth,new s1(t),t.bypassAuthState)}function PL(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),iL(n,new s1(t),t.bypassAuthState)}async function AL(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),rL(n,new s1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return NL;case"linkViaPopup":case"linkViaRedirect":return AL;case"reauthViaPopup":case"reauthViaRedirect":return PL;default:wr(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new Ju(2e3,1e4);class Ys extends E2{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=o1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$L.get())};e()}}Ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="pendingRedirect",Kd=new Map;class LL extends E2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kd.get(this.auth._key());if(!e){try{const r=await DL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kd.set(this.auth._key(),e)}return this.bypassAuthState||Kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DL(t,e){const n=UL(e),r=jL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function FL(t,e){Kd.set(t._key(),e)}function jL(t){return ri(t._redirectPersistence)}function UL(t){return Gd(ML,t.config.apiKey,t.name)}async function zL(t,e,n=!1){const r=Wa(t),i=OL(r,e),s=await new LL(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=10*60*1e3;class VL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!C2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BL&&this.cachedEventUids.clear(),this.cachedEventUids.has(RC(e))}saveEventToCache(e){this.cachedEventUids.add(RC(e)),this.lastProcessedEventTime=Date.now()}}function RC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function C2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e={}){return ys(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GL=/^https?/;async function KL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WL(t);for(const n of e)try{if(QL(n))return}catch{}wr(t,"unauthorized-domain")}function QL(t){const e=Ov(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!GL.test(n))return!1;if(qL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new Ju(3e4,6e4);function OC(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YL(t){return new Promise((e,n)=>{var r,i,o;function s(){OC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OC(),n(Lr(t,"network-request-failed"))},timeout:XL.get()})}if(!((i=(r=Dr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Dr().gapi)===null||o===void 0)&&o.load)s();else{const a=UM("iframefcb");return Dr()[a]=()=>{gapi.load?s():n(Lr(t,"network-request-failed"))},s2(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function JL(t){return Qd=Qd||YL(t),Qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new Ju(5e3,15e3),eD="__/auth/iframe",tD="emulator/auth/iframe",nD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iD(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e1(e,tD):`https://${t.config.authDomain}/${eD}`,r={apiKey:e.apiKey,appName:t.name,v:vs},i=rD.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yu(r).slice(1)}`}async function oD(t){const e=await JL(t),n=Dr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:iD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nD,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Lr(t,"network-request-failed"),a=Dr().setTimeout(()=>{o(s)},ZL.get());function l(){Dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aD=500,lD=600,uD="_blank",cD="http://localhost";class NC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dD(t,e,n,r=aD,i=lD){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sD),{width:r.toString(),height:i.toString(),top:o,left:s}),u=un().toLowerCase();n&&(a=YT(u)?uD:n),XT(u)&&(e=e||cD,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(LM(u)&&a!=="_self")return fD(e||"",a),new NC(null);const d=window.open(e||"",a,c);ae(d,t,"popup-blocked");try{d.focus()}catch{}return new NC(d)}function fD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="__/auth/handler",pD="emulator/auth/handler",mD=encodeURIComponent("fac");async function PC(t,e,n,r,i,o){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vs,eventId:i};if(e instanceof u2){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",l$(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof ec){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${mD}=${encodeURIComponent(l)}`:"";return`${gD(t)}?${Yu(a).slice(1)}${u}`}function gD({config:t}){return t.emulator?e1(t,pD):`https://${t.authDomain}/${hD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class vD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m2,this._completeRedirectFn=zL,this._overrideRedirectResult=FL}async _openPopup(e,n,r,i){var o;fi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await PC(e,n,r,Ov(),i);return dD(e,s,o1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await PC(e,n,r,Ov(),i);return EL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oD(e),r=new VL(e);return n.register("authEvent",i=>(ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gm,{type:Gm},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Gm];s!==void 0&&n(!!s),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return n2()||n1()||Hh()}}const yD=vD;var AC="@firebase/auth",$C="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function CD(t){as(new co("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r2(t)},u=new WM(r,i,o,l);return GM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),as(new co("auth-internal",e=>{const n=Wa(e.getProvider("auth").getImmediate());return(r=>new wD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(AC,$C,ED(t)),Mr(AC,$C,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=5*60,bD=LT("authIdTokenMaxAge")||SD;let MC=null;const _D=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bD)return;const i=n==null?void 0:n.token;MC!==i&&(MC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xD(t=Yy()){const e=Vh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qM(t,{popupRedirectResolver:yD,persistence:[RL,vL,m2]}),r=LT("authTokenSyncURL");if(r){const o=_D(r);dL(n,o,()=>o(n.currentUser)),cL(n,s=>o(s))}const i=AT("auth");return i&&KM(n,`http://${i}`),n}CD("Browser");var TD="firebase",ID="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(TD,ID,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="firebasestorage.googleapis.com",b2="storageBucket",kD=2*60*1e3,RD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends Br{constructor(e,n,r=0){super(Km(e),`Firebase Storage: ${n} (${Km(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function Km(t){return"storage/"+t}function a1(){const t="An unknown error occurred, please check the error payload for server response.";return new ft(ct.UNKNOWN,t)}function OD(t){return new ft(ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ND(t){return new ft(ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ft(ct.UNAUTHENTICATED,t)}function AD(){return new ft(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $D(t){return new ft(ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function MD(){return new ft(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LD(){return new ft(ct.CANCELED,"User canceled the upload/download.")}function DD(t){return new ft(ct.INVALID_URL,"Invalid URL '"+t+"'.")}function FD(t){return new ft(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function jD(){return new ft(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+b2+"' property when initializing the app?")}function UD(){return new ft(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zD(){return new ft(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BD(t){return new ft(ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Pv(t){return new ft(ct.INVALID_ARGUMENT,t)}function _2(){return new ft(ct.APP_DELETED,"The Firebase app was deleted.")}function VD(t){return new ft(ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kl(t,e){return new ft(ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function yl(t){throw new ft(ct.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(r.path==="")return r;throw FD(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},w=n===S2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",g=new RegExp(`^https?://${w}/${i}/${C}`,"i"),y=[{regex:a,indices:l,postModify:o},{regex:m,indices:v,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<y.length;E++){const S=y[E],_=S.regex.exec(e);if(_){const b=_[S.indices.bucket];let x=_[S.indices.path];x||(x=""),r=new Ln(b,x),S.postModify(r);break}}if(r==null)throw DD(e);return r}}class HD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...C){u||(u=!0,e.apply(null,C))}function d(C){i=setTimeout(()=>{i=null,t(m,l())},C)}function f(){o&&clearTimeout(o)}function m(C,...g){if(u){f();return}if(C){f(),c.call(null,C,...g);return}if(l()||s){f(),c.call(null,C,...g);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let v=!1;function w(C){v||(v=!0,f(),!u&&(i!==null?(C||(a=2),clearTimeout(i),d(0)):C||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,w(!0)},n),w}function qD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){return t!==void 0}function KD(t){return typeof t=="object"&&!Array.isArray(t)}function l1(t){return typeof t=="string"||t instanceof String}function LC(t){return u1()&&t instanceof Blob}function u1(){return typeof Blob<"u"&&!Z4()}function DC(t,e,n,r){if(r<e)throw Pv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Pv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function x2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yo||(Yo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,i,o,s,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new dd(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Yo.NO_ERROR,l=o.getStatus();if(!a||QD(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Yo.ABORT;r(!1,new dd(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new dd(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());GD(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=a1();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?_2():LD();s(l)}else{const l=MD();s(l)}};this.canceled_?n(!1,new dd(!1,null,!0)):this.backoffId_=WD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function YD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function JD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function e3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function t3(t,e,n,r,i,o,s=!0){const a=x2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return ZD(u,e),YD(u,n),JD(u,o),e3(u,r),new XD(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function r3(...t){const e=n3();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(u1())return new Blob(t);throw new ft(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function i3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){if(typeof atob>"u")throw BD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qm{constructor(e,n){this.data=e,this.contentType=n||null}}function s3(t,e){switch(t){case Or.RAW:return new Qm(T2(e));case Or.BASE64:case Or.BASE64URL:return new Qm(I2(t,e));case Or.DATA_URL:return new Qm(l3(e),u3(e))}throw a1()}function T2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function a3(t){let e;try{e=decodeURIComponent(t)}catch{throw Kl(Or.DATA_URL,"Malformed data URL.")}return T2(e)}function I2(t,e){switch(t){case Or.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Kl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Or.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Kl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=o3(e)}catch(i){throw i.message.includes("polyfill")?i:Kl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class k2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kl(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=c3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function l3(t){const e=new k2(t);return e.base64?I2(Or.BASE64,e.rest):a3(e.rest)}function u3(t){return new k2(t).contentType}function c3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){let r=0,i="";LC(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(LC(this.data_)){const r=this.data_,i=i3(r,e,n);return i===null?null:new Bi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Bi(r,!0)}}static getBlob(...e){if(u1()){const n=e.map(r=>r instanceof Bi?r.data_:r);return new Bi(r3.apply(null,n))}else{const n=e.map(s=>l1(s)?s3(Or.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Bi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){let e;try{e=JSON.parse(t)}catch{return null}return KD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function f3(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function O2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t,e){return e}class hn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||h3}}let fd=null;function p3(t){return!l1(t)||t.length<2?t:O2(t)}function N2(){if(fd)return fd;const t=[];t.push(new hn("bucket")),t.push(new hn("generation")),t.push(new hn("metageneration")),t.push(new hn("name","fullPath",!0));function e(o,s){return p3(s)}const n=new hn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new hn("size");return i.xform=r,t.push(i),t.push(new hn("timeCreated")),t.push(new hn("updated")),t.push(new hn("md5Hash",null,!0)),t.push(new hn("cacheControl",null,!0)),t.push(new hn("contentDisposition",null,!0)),t.push(new hn("contentEncoding",null,!0)),t.push(new hn("contentLanguage",null,!0)),t.push(new hn("contentType",null,!0)),t.push(new hn("metadata","customMetadata",!0)),fd=t,fd}function m3(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Ln(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function g3(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return m3(r,t),r}function P2(t,e,n){const r=R2(e);return r===null?null:g3(t,r,n)}function v3(t,e,n,r){const i=R2(e);if(i===null||!l1(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,f="/b/"+s(c)+"/o/"+s(d),m=c1(f,n,r),v=x2({alt:"media",token:u});return m+v})[0]}function y3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class A2{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t){if(!t)throw a1()}function w3(t,e){function n(r,i){const o=P2(t,i,e);return $2(o!==null),o}return n}function E3(t,e){function n(r,i){const o=P2(t,i,e);return $2(o!==null),v3(o,i,t.host,t._protocol)}return n}function M2(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=AD():i=PD():n.getStatus()===402?i=ND(t.bucket):n.getStatus()===403?i=$D(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function C3(t){const e=M2(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=OD(t.path)),o.serverResponse=i.serverResponse,o}return n}function S3(t,e,n){const r=e.fullServerUrl(),i=c1(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new A2(i,o,E3(t,n),s);return a.errorHandler=C3(e),a}function b3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=b3(null,e)),r}function x3(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let E=0;E<2;E++)y=y+Math.random().toString().slice(2);return y}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=_3(e,r,i),c=y3(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Bi.getBlob(d,r,f);if(m===null)throw UD();const v={name:u.fullPath},w=c1(o,t.host,t._protocol),C="POST",g=t.maxUploadRetryTime,p=new A2(w,C,w3(t,n),g);return p.urlParams=v,p.headers=s,p.body=m.uploadData(),p.errorHandler=M2(e),p}class T3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw yl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw yl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class I3 extends T3{initXhr(){this.xhr_.responseType="text"}}function L2(){return new I3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cs(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return O2(this._location.path)}get storage(){return this._service}get parent(){const e=d3(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new cs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw VD(e)}}function k3(t,e,n){t._throwIfRoot("uploadBytes");const r=x3(t.storage,t._location,N2(),new Bi(e,!0),n);return t.storage.makeRequestWithTokens(r,L2).then(i=>({metadata:i,ref:t}))}function R3(t){t._throwIfRoot("getDownloadURL");const e=S3(t.storage,t._location,N2());return t.storage.makeRequestWithTokens(e,L2).then(n=>{if(n===null)throw zD();return n})}function O3(t,e){const n=f3(t._location.path,e),r=new Ln(t._location.bucket,n);return new cs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){return/^[A-Za-z]+:\/\//.test(t)}function P3(t,e){return new cs(t,e)}function D2(t,e){if(t instanceof d1){const n=t;if(n._bucket==null)throw jD();const r=new cs(n,n._bucket);return e!=null?D2(r,e):r}else return e!==void 0?O3(t,e):t}function A3(t,e){if(e&&N3(e)){if(t instanceof d1)return P3(t,e);throw Pv("To use ref(service, url), the first argument must be a Storage instance.")}else return D2(t,e)}function FC(t,e){const n=e==null?void 0:e[b2];return n==null?null:Ln.makeFromBucketSpec(n,t)}function $3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:DT(i,t.app.options.projectId))}class d1{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=S2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kD,this._maxUploadRetryTime=RD,this._requests=new Set,i!=null?this._bucket=Ln.makeFromBucketSpec(i,this._host):this._bucket=FC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=FC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cs(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new HD(_2());{const s=t3(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const jC="@firebase/storage",UC="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="storage";function j2(t,e,n){return t=Xe(t),k3(t,e,n)}function U2(t){return t=Xe(t),R3(t)}function z2(t,e){return t=Xe(t),A3(t,e)}function M3(t=Yy(),e){t=Xe(t);const r=Vh(t,F2).getImmediate({identifier:e}),i=$T("storage");return i&&L3(r,...i),r}function L3(t,e,n,r={}){$3(t,e,n,r)}function D3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new d1(n,r,i,e,vs)}function F3(){as(new co(F2,D3,"PUBLIC").setMultipleInstances(!0)),Mr(jC,UC,""),Mr(jC,UC,"esm2017")}F3();var j3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W,f1=f1||{},de=j3||self;function Gh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function U3(t){return Object.prototype.hasOwnProperty.call(t,Xm)&&t[Xm]||(t[Xm]=++z3)}var Xm="closure_uid_"+(1e9*Math.random()>>>0),z3=0;function B3(t,e,n){return t.call.apply(t.bind,arguments)}function V3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function rn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?rn=B3:rn=V3,rn.apply(null,arguments)}function hd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ft(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Co(){this.s=this.s,this.o=this.o}var H3=0;Co.prototype.s=!1;Co.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),H3!=0)&&U3(this)};Co.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const B2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function h1(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Gh(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function on(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}on.prototype.h=function(){this.defaultPrevented=!0};var W3=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{de.addEventListener("test",()=>{},e),de.removeEventListener("test",()=>{},e)}catch{}return t}();function Tu(t){return/^[\s\xa0]*$/.test(t)}function Kh(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function Rr(t){return Kh().indexOf(t)!=-1}function p1(t){return p1[" "](t),t}p1[" "]=function(){};function q3(t,e){var n=F6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var G3=Rr("Opera"),_a=Rr("Trident")||Rr("MSIE"),V2=Rr("Edge"),Av=V2||_a,H2=Rr("Gecko")&&!(Kh().toLowerCase().indexOf("webkit")!=-1&&!Rr("Edge"))&&!(Rr("Trident")||Rr("MSIE"))&&!Rr("Edge"),K3=Kh().toLowerCase().indexOf("webkit")!=-1&&!Rr("Edge");function W2(){var t=de.document;return t?t.documentMode:void 0}var $v;e:{var Ym="",Jm=function(){var t=Kh();if(H2)return/rv:([^\);]+)(\)|;)/.exec(t);if(V2)return/Edge\/([\d\.]+)/.exec(t);if(_a)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(K3)return/WebKit\/(\S+)/.exec(t);if(G3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jm&&(Ym=Jm?Jm[1]:""),_a){var Zm=W2();if(Zm!=null&&Zm>parseFloat(Ym)){$v=String(Zm);break e}}$v=Ym}var Mv;if(de.document&&_a){var BC=W2();Mv=BC||parseInt($v,10)||void 0}else Mv=void 0;var Q3=Mv;function Iu(t,e){if(on.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(H2){e:{try{p1(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:X3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Iu.$.h.call(this)}}Ft(Iu,on);var X3={2:"touch",3:"pen",4:"mouse"};Iu.prototype.h=function(){Iu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rc="closure_listenable_"+(1e6*Math.random()|0),Y3=0;function J3(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Y3,this.fa=this.ia=!1}function Qh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function m1(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Z3(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function q2(t){const e={};for(const n in t)e[n]=t[n];return e}const VC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G2(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<VC.length;o++)n=VC[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Xh(t){this.src=t,this.g={},this.h=0}Xh.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Dv(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new J3(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Lv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=B2(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Qh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Dv(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var g1="closure_lm_"+(1e6*Math.random()|0),eg={};function K2(t,e,n,r,i){if(r&&r.once)return X2(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)K2(t,e[o],n,r,i);return null}return n=w1(n),t&&t[rc]?t.O(e,n,nc(r)?!!r.capture:!!r,i):Q2(t,e,n,!1,r,i)}function Q2(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=nc(i)?!!i.capture:!!i,a=y1(t);if(a||(t[g1]=a=new Xh(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=e6(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)W3||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(J2(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function e6(){function t(n){return e.call(t.src,t.listener,n)}const e=t6;return t}function X2(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)X2(t,e[o],n,r,i);return null}return n=w1(n),t&&t[rc]?t.P(e,n,nc(r)?!!r.capture:!!r,i):Q2(t,e,n,!0,r,i)}function Y2(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Y2(t,e[o],n,r,i);else r=nc(r)?!!r.capture:!!r,n=w1(n),t&&t[rc]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Dv(o,n,r,i),-1<n&&(Qh(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=y1(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Dv(e,n,r,i)),(n=-1<t?e[t]:null)&&v1(n))}function v1(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[rc])Lv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(J2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=y1(e))?(Lv(n,t),n.h==0&&(n.src=null,e[g1]=null)):Qh(t)}}}function J2(t){return t in eg?eg[t]:eg[t]="on"+t}function t6(t,e){if(t.fa)t=!0;else{e=new Iu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&v1(t),t=n.call(r,e)}return t}function y1(t){return t=t[g1],t instanceof Xh?t:null}var tg="__closure_events_fn_"+(1e9*Math.random()>>>0);function w1(t){return typeof t=="function"?t:(t[tg]||(t[tg]=function(e){return t.handleEvent(e)}),t[tg])}function Dt(){Co.call(this),this.i=new Xh(this),this.S=this,this.J=null}Ft(Dt,Co);Dt.prototype[rc]=!0;Dt.prototype.removeEventListener=function(t,e,n,r){Y2(this,t,e,n,r)};function qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new on(e,t);else if(e instanceof on)e.target=e.target||t;else{var i=e;e=new on(r,t),G2(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=pd(s,r,!0,e)&&i}if(s=e.g=t,i=pd(s,r,!0,e)&&i,i=pd(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=pd(s,r,!1,e)&&i}Dt.prototype.N=function(){if(Dt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qh(n[r]);delete t.g[e],t.h--}}this.J=null};Dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Dt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function pd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Lv(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var E1=de.JSON.stringify;class n6{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function r6(){var t=C1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class i6{constructor(){this.h=this.g=null}add(e,n){const r=Z2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Z2=new n6(()=>new o6,t=>t.reset());class o6{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function s6(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function a6(t){de.setTimeout(()=>{throw t},0)}let ku,Ru=!1,C1=new i6,eI=()=>{const t=de.Promise.resolve(void 0);ku=()=>{t.then(l6)}};var l6=()=>{for(var t;t=r6();){try{t.h.call(t.g)}catch(n){a6(n)}var e=Z2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ru=!1};function Yh(t,e){Dt.call(this),this.h=t||1,this.g=e||de,this.j=rn(this.qb,this),this.l=Date.now()}Ft(Yh,Dt);W=Yh.prototype;W.ga=!1;W.T=null;W.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qt(this,"tick"),this.ga&&(S1(this),this.start()))}};W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function S1(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}W.N=function(){Yh.$.N.call(this),S1(this),delete this.g};function b1(t,e,n){if(typeof t=="function")n&&(t=rn(t,n));else if(t&&typeof t.handleEvent=="function")t=rn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function tI(t){t.g=b1(()=>{t.g=null,t.i&&(t.i=!1,tI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class u6 extends Co{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:tI(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ou(t){Co.call(this),this.h=t,this.g={}}Ft(Ou,Co);var HC=[];function nI(t,e,n,r){Array.isArray(n)||(n&&(HC[0]=n.toString()),n=HC);for(var i=0;i<n.length;i++){var o=K2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function rI(t){m1(t.g,function(e,n){this.g.hasOwnProperty(n)&&v1(e)},t),t.g={}}Ou.prototype.N=function(){Ou.$.N.call(this),rI(this)};Ou.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jh(){this.g=!0}Jh.prototype.Ea=function(){this.g=!1};function c6(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function d6(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Js(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+h6(t,n)+(r?" "+r:"")})}function f6(t,e){t.info(function(){return"TIMEOUT: "+e})}Jh.prototype.info=function(){};function h6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return E1(n)}catch{return e}}var ws={},WC=null;function Zh(){return WC=WC||new Dt}ws.Ta="serverreachability";function iI(t){on.call(this,ws.Ta,t)}Ft(iI,on);function Nu(t){const e=Zh();qt(e,new iI(e))}ws.STAT_EVENT="statevent";function oI(t,e){on.call(this,ws.STAT_EVENT,t),this.stat=e}Ft(oI,on);function mn(t){const e=Zh();qt(e,new oI(e,t))}ws.Ua="timingevent";function sI(t,e){on.call(this,ws.Ua,t),this.size=e}Ft(sI,on);function ic(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var ep={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},aI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function _1(){}_1.prototype.h=null;function qC(t){return t.h||(t.h=t.i())}function lI(){}var oc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function x1(){on.call(this,"d")}Ft(x1,on);function T1(){on.call(this,"c")}Ft(T1,on);var Fv;function tp(){}Ft(tp,_1);tp.prototype.g=function(){return new XMLHttpRequest};tp.prototype.i=function(){return{}};Fv=new tp;function sc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ou(this),this.P=p6,t=Av?125:void 0,this.V=new Yh(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new uI}function uI(){this.i=null,this.g="",this.h=!1}var p6=45e3,jv={},qf={};W=sc.prototype;W.setTimeout=function(t){this.P=t};function Uv(t,e,n){t.L=1,t.v=rp(hi(e)),t.s=n,t.S=!0,cI(t,null)}function cI(t,e){t.G=Date.now(),ac(t),t.A=hi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),yI(n.i,"t",r),t.C=0,n=t.l.J,t.h=new uI,t.g=jI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new u6(rn(t.Pa,t,t.g),t.O)),nI(t.U,t.g,"readystatechange",t.nb),e=t.I?q2(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Nu(),c6(t.j,t.u,t.A,t.m,t.W,t.s)}W.nb=function(t){t=t.target;const e=this.M;e&&Nr(t)==3?e.l():this.Pa(t)};W.Pa=function(t){try{if(t==this.g)e:{const c=Nr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Av||this.g&&(this.h.h||this.g.ja()||XC(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Nu(3):Nu(2)),np(this);var n=this.g.da();this.ca=n;t:if(dI(this)){var r=XC(this.g);t="";var i=r.length,o=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zo(this),Ql(this);var s="";break t}this.h.i=new de.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,d6(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tu(a)){var u=a;break t}}u=null}if(n=u)Js(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zv(this,n);else{this.i=!1,this.o=3,mn(12),zo(this),Ql(this);break e}}this.S?(fI(this,c,s),Av&&this.i&&c==3&&(nI(this.U,this.V,"tick",this.mb),this.V.start())):(Js(this.j,this.m,s,null),zv(this,s)),c==4&&zo(this),this.i&&!this.J&&(c==4?MI(this.l,this):(this.i=!1,ac(this)))}else M6(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,mn(12)):(this.o=0,mn(13)),zo(this),Ql(this)}}}catch{}finally{}};function dI(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function fI(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=m6(t,n),i==qf){e==4&&(t.o=4,mn(14),r=!1),Js(t.j,t.m,null,"[Incomplete Response]");break}else if(i==jv){t.o=4,mn(15),Js(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Js(t.j,t.m,i,null),zv(t,i);dI(t)&&i!=qf&&i!=jv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),P1(e),e.M=!0,mn(11))):(Js(t.j,t.m,n,"[Invalid Chunked Response]"),zo(t),Ql(t))}W.mb=function(){if(this.g){var t=Nr(this.g),e=this.g.ja();this.C<e.length&&(np(this),fI(this,t,e),this.i&&t!=4&&ac(this))}};function m6(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?qf:(n=Number(e.substring(n,r)),isNaN(n)?jv:(r+=1,r+n>e.length?qf:(e=e.slice(r,r+n),t.C=r+n,e)))}W.cancel=function(){this.J=!0,zo(this)};function ac(t){t.Y=Date.now()+t.P,hI(t,t.P)}function hI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ic(rn(t.lb,t),e)}function np(t){t.B&&(de.clearTimeout(t.B),t.B=null)}W.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(f6(this.j,this.A),this.L!=2&&(Nu(),mn(17)),zo(this),this.o=2,Ql(this)):hI(this,this.Y-t)};function Ql(t){t.l.H==0||t.J||MI(t.l,t)}function zo(t){np(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,S1(t.V),rI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function zv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Bv(n.i,t))){if(!t.K&&Bv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Qf(n),sp(n);else break e;N1(n),mn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ic(rn(n.ib,n),6e3));if(1>=CI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Bo(n,11)}else if((t.K||n.g==t)&&Qf(n),!Tu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(I1(o,o.h),o.h=null))}if(r.F){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Be(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=FI(r,r.J?r.pa:null,r.Y),s.K){SI(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(np(a),ac(a)),r.g=s}else AI(r);0<n.j.length&&ap(n)}else u[0]!="stop"&&u[0]!="close"||Bo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Bo(n,7):O1(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Nu(4)}catch{}}function g6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Gh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function v6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Gh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function pI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Gh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=v6(t),r=g6(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var mI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function y6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Jo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Jo){this.h=t.h,Gf(this,t.j),this.s=t.s,this.g=t.g,Kf(this,t.m),this.l=t.l;var e=t.i,n=new Pu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),GC(this,n),this.o=t.o}else t&&(e=String(t).match(mI))?(this.h=!1,Gf(this,e[1]||"",!0),this.s=Pl(e[2]||""),this.g=Pl(e[3]||"",!0),Kf(this,e[4]),this.l=Pl(e[5]||"",!0),GC(this,e[6]||"",!0),this.o=Pl(e[7]||"")):(this.h=!1,this.i=new Pu(null,this.h))}Jo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Al(e,KC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Al(e,KC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Al(n,n.charAt(0)=="/"?C6:E6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Al(n,b6)),t.join("")};function hi(t){return new Jo(t)}function Gf(t,e,n){t.j=n?Pl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Kf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function GC(t,e,n){e instanceof Pu?(t.i=e,_6(t.i,t.h)):(n||(e=Al(e,S6)),t.i=new Pu(e,t.h))}function Be(t,e,n){t.i.set(e,n)}function rp(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Pl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Al(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,w6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function w6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var KC=/[#\/\?@]/g,E6=/[#\?:]/g,C6=/[#\?]/g,S6=/[#\?@]/g,b6=/#/g;function Pu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function So(t){t.g||(t.g=new Map,t.h=0,t.i&&y6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}W=Pu.prototype;W.add=function(t,e){So(this),this.i=null,t=Ga(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function gI(t,e){So(t),e=Ga(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function vI(t,e){return So(t),e=Ga(t,e),t.g.has(e)}W.forEach=function(t,e){So(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};W.ta=function(){So(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};W.Z=function(t){So(this);let e=[];if(typeof t=="string")vI(this,t)&&(e=e.concat(this.g.get(Ga(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};W.set=function(t,e){return So(this),this.i=null,t=Ga(this,t),vI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};W.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function yI(t,e,n){gI(t,e),0<n.length&&(t.i=null,t.g.set(Ga(t,e),h1(n)),t.h+=n.length)}W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Ga(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _6(t,e){e&&!t.j&&(So(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(gI(this,r),yI(this,i,n))},t)),t.j=e}var x6=class{constructor(t,e){this.g=t,this.map=e}};function wI(t){this.l=t||T6,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var T6=10;function EI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function CI(t){return t.h?1:t.g?t.g.size:0}function Bv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function I1(t,e){t.g?t.g.add(e):t.h=e}function SI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}wI.prototype.cancel=function(){if(this.i=bI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function bI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return h1(t.i)}var I6=class{stringify(t){return de.JSON.stringify(t,void 0)}parse(t){return de.JSON.parse(t,void 0)}};function k6(){this.g=new I6}function R6(t,e,n){const r=n||"";try{pI(t,function(i,o){let s=i;nc(i)&&(s=E1(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function O6(t,e){const n=new Jh;if(de.Image){const r=new Image;r.onload=hd(md,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hd(md,n,r,"TestLoadImage: error",!1,e),r.onabort=hd(md,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hd(md,n,r,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function md(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function lc(t){this.l=t.fc||null,this.j=t.ob||!1}Ft(lc,_1);lc.prototype.g=function(){return new ip(this.l,this.j)};lc.prototype.i=function(t){return function(){return t}}({});function ip(t,e){Dt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=k1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft(ip,Dt);var k1=0;W=ip.prototype;W.open=function(t,e){if(this.readyState!=k1)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Au(this)};W.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,uc(this)),this.readyState=k1};W.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Au(this)),this.g&&(this.readyState=3,Au(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_I(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _I(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}W.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?uc(this):Au(this),this.readyState==3&&_I(this)}};W.Za=function(t){this.g&&(this.response=this.responseText=t,uc(this))};W.Ya=function(t){this.g&&(this.response=t,uc(this))};W.ka=function(){this.g&&uc(this)};function uc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Au(t)}W.setRequestHeader=function(t,e){this.v.append(t,e)};W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Au(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ip.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var N6=de.JSON.parse;function dt(t){Dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xI,this.L=this.M=!1}Ft(dt,Dt);var xI="",P6=/^https?$/i,A6=["POST","PUT"];W=dt.prototype;W.Oa=function(t){this.M=t};W.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Fv.g(),this.C=this.u?qC(this.u):qC(Fv),this.g.onreadystatechange=rn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){QC(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=de.FormData&&t instanceof de.FormData,!(0<=B2(A6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kI(this),0<this.B&&((this.L=$6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.ua,this)):this.A=b1(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){QC(this,o)}};function $6(t){return _a&&typeof t.timeout=="number"&&t.ontimeout!==void 0}W.ua=function(){typeof f1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qt(this,"timeout"),this.abort(8))};function QC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,TI(t),op(t)}function TI(t){t.F||(t.F=!0,qt(t,"complete"),qt(t,"error"))}W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qt(this,"complete"),qt(this,"abort"),op(this))};W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),op(this,!0)),dt.$.N.call(this)};W.La=function(){this.s||(this.G||this.v||this.l?II(this):this.kb())};W.kb=function(){II(this)};function II(t){if(t.h&&typeof f1<"u"&&(!t.C[1]||Nr(t)!=4||t.da()!=2)){if(t.v&&Nr(t)==4)b1(t.La,0,t);else if(qt(t,"readystatechange"),Nr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(mI)[1]||null;!i&&de.self&&de.self.location&&(i=de.self.location.protocol.slice(0,-1)),r=!P6.test(i?i.toLowerCase():"")}n=r}if(n)qt(t,"complete"),qt(t,"success");else{t.m=6;try{var o=2<Nr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",TI(t)}}finally{op(t)}}}}function op(t,e){if(t.g){kI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function kI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}W.isActive=function(){return!!this.g};function Nr(t){return t.g?t.g.readyState:0}W.da=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}};W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};W.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),N6(e)}};function XC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case xI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function M6(t){const e={};t=(t.g&&2<=Nr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Tu(t[r]))continue;var n=s6(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}Z3(e,function(r){return r.join(", ")})}W.Ia=function(){return this.m};W.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function RI(t){let e="";return m1(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function R1(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=RI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Be(t,e,n))}function wl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function OI(t){this.Ga=0,this.j=[],this.l=new Jh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wl("baseRetryDelayMs",5e3,t),this.hb=wl("retryDelaySeedMs",1e4,t),this.eb=wl("forwardChannelMaxRetries",2,t),this.xa=wl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new wI(t&&t.concurrentRequestLimit),this.Ja=new k6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}W=OI.prototype;W.ra=8;W.H=1;function O1(t){if(NI(t),t.H==3){var e=t.W++,n=hi(t.I);if(Be(n,"SID",t.K),Be(n,"RID",e),Be(n,"TYPE","terminate"),cc(t,n),e=new sc(t,t.l,e),e.L=2,e.v=rp(hi(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&de.Image&&(new Image().src=e.v,n=!0),n||(e.g=jI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ac(e)}DI(t)}function sp(t){t.g&&(P1(t),t.g.cancel(),t.g=null)}function NI(t){sp(t),t.u&&(de.clearTimeout(t.u),t.u=null),Qf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function ap(t){if(!EI(t.i)&&!t.m){t.m=!0;var e=t.Na;ku||eI(),Ru||(ku(),Ru=!0),C1.add(e,t),t.C=0}}function L6(t,e){return CI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ic(rn(t.Na,t,e),LI(t,t.C)),t.C++,!0)}W.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new sc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=q2(o),G2(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=PI(this,i,e),n=hi(this.I),Be(n,"RID",t),Be(n,"CVER",22),this.F&&Be(n,"X-HTTP-Session-Id",this.F),cc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(RI(o)))+"&"+e:this.o&&R1(n,this.o,o)),I1(this.i,i),this.bb&&Be(n,"TYPE","init"),this.P?(Be(n,"$req",e),Be(n,"SID","null"),i.aa=!0,Uv(i,n,null)):Uv(i,n,e),this.H=2}}else this.H==3&&(t?YC(this,t):this.j.length==0||EI(this.i)||YC(this))};function YC(t,e){var n;e?n=e.m:n=t.W++;const r=hi(t.I);Be(r,"SID",t.K),Be(r,"RID",n),Be(r,"AID",t.V),cc(t,r),t.o&&t.s&&R1(r,t.o,t.s),n=new sc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=PI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),I1(t.i,n),Uv(n,r,e)}function cc(t,e){t.na&&m1(t.na,function(n,r){Be(e,r,n)}),t.h&&pI({},function(n,r){Be(e,r,n)})}function PI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?rn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{R6(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function AI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ku||eI(),Ru||(ku(),Ru=!0),C1.add(e,t),t.A=0}}function N1(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ic(rn(t.Ma,t),LI(t,t.A)),t.A++,!0)}W.Ma=function(){if(this.u=null,$I(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ic(rn(this.jb,this),t)}};W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,mn(10),sp(this),$I(this))};function P1(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function $I(t){t.g=new sc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=hi(t.wa);Be(e,"RID","rpc"),Be(e,"SID",t.K),Be(e,"AID",t.V),Be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Be(e,"TO",t.qa),Be(e,"TYPE","xmlhttp"),cc(t,e),t.o&&t.s&&R1(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=rp(hi(e)),n.s=null,n.S=!0,cI(n,t)}W.ib=function(){this.v!=null&&(this.v=null,sp(this),N1(this),mn(19))};function Qf(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function MI(t,e){var n=null;if(t.g==e){Qf(t),P1(t),t.g=null;var r=2}else if(Bv(t.i,e))n=e.F,SI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Zh(),qt(r,new sI(r,n)),ap(t)}else AI(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&L6(t,e)||r==2&&N1(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Bo(t,5);break;case 4:Bo(t,10);break;case 3:Bo(t,6);break;default:Bo(t,2)}}}function LI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Bo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=rn(t.pb,t);n||(n=new Jo("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||Gf(n,"https"),rp(n)),O6(n.toString(),r)}else mn(2);t.H=0,t.h&&t.h.za(e),DI(t),NI(t)}W.pb=function(t){t?(this.l.info("Successfully pinged google.com"),mn(2)):(this.l.info("Failed to ping google.com"),mn(1))};function DI(t){if(t.H=0,t.ma=[],t.h){const e=bI(t.i);(e.length!=0||t.j.length!=0)&&(zC(t.ma,e),zC(t.ma,t.j),t.i.i.length=0,h1(t.j),t.j.length=0),t.h.ya()}}function FI(t,e,n){var r=n instanceof Jo?hi(n):new Jo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Kf(r,r.m);else{var i=de.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Jo(null);r&&Gf(o,r),e&&(o.g=e),i&&Kf(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Be(r,n,e),Be(r,"VER",t.ra),cc(t,r),r}function jI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new dt(new lc({ob:!0})):new dt(t.va),e.Oa(t.J),e}W.isActive=function(){return!!this.h&&this.h.isActive(this)};function UI(){}W=UI.prototype;W.Ba=function(){};W.Aa=function(){};W.za=function(){};W.ya=function(){};W.isActive=function(){return!0};W.Va=function(){};function Xf(){if(_a&&!(10<=Number(Q3)))throw Error("Environmental error: no available transport.")}Xf.prototype.g=function(t,e){return new Bn(t,e)};function Bn(t,e){Dt.call(this),this.g=new OI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ka(this)}Ft(Bn,Dt);Bn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;mn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=FI(t,null,t.Y),ap(t)};Bn.prototype.close=function(){O1(this.g)};Bn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=E1(t),t=n);e.j.push(new x6(e.fb++,t)),e.H==3&&ap(e)};Bn.prototype.N=function(){this.g.h=null,delete this.j,O1(this.g),delete this.g,Bn.$.N.call(this)};function zI(t){x1.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ft(zI,x1);function BI(){T1.call(this),this.status=1}Ft(BI,T1);function Ka(t){this.g=t}Ft(Ka,UI);Ka.prototype.Ba=function(){qt(this.g,"a")};Ka.prototype.Aa=function(t){qt(this.g,new zI(t))};Ka.prototype.za=function(t){qt(this.g,new BI)};Ka.prototype.ya=function(){qt(this.g,"b")};function D6(){this.blockSize=-1}function Er(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ft(Er,D6);Er.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ng(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Er.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)ng(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){ng(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){ng(this,r),i=0;break}}this.h=i,this.i+=e};Er.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var F6={};function A1(t){return-128<=t&&128>t?q3(t,function(e){return new Pe([e|0],0>e?-1:0)}):new Pe([t|0],0>t?-1:0)}function Pr(t){if(isNaN(t)||!isFinite(t))return da;if(0>t)return Ht(Pr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Vv;return new Pe(e,0)}function VI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ht(VI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pr(Math.pow(e,8)),r=da,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Pr(Math.pow(e,o)),r=r.R(o).add(Pr(s))):(r=r.R(n),r=r.add(Pr(s)))}return r}var Vv=4294967296,da=A1(0),Hv=A1(1),JC=A1(16777216);W=Pe.prototype;W.ea=function(){if(er(this))return-Ht(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Vv+r)*e,e*=Vv}return t};W.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ii(this))return"0";if(er(this))return"-"+Ht(this).toString(t);for(var e=Pr(Math.pow(t,6)),n=this,r="";;){var i=Jf(n,e).g;n=Yf(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ii(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};W.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ii(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function er(t){return t.h==-1}W.X=function(t){return t=Yf(this,t),er(t)?-1:ii(t)?0:1};function Ht(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pe(n,~t.h).add(Hv)}W.abs=function(){return er(this)?Ht(this):this};W.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Pe(n,n[n.length-1]&-2147483648?-1:0)};function Yf(t,e){return t.add(Ht(e))}W.R=function(t){if(ii(this)||ii(t))return da;if(er(this))return er(t)?Ht(this).R(Ht(t)):Ht(Ht(this).R(t));if(er(t))return Ht(this.R(Ht(t)));if(0>this.X(JC)&&0>t.X(JC))return Pr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,gd(n,2*r+2*i),n[2*r+2*i+1]+=o*l,gd(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,gd(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,gd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pe(n,0)};function gd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function El(t,e){this.g=t,this.h=e}function Jf(t,e){if(ii(e))throw Error("division by zero");if(ii(t))return new El(da,da);if(er(t))return e=Jf(Ht(t),e),new El(Ht(e.g),Ht(e.h));if(er(e))return e=Jf(t,Ht(e)),new El(Ht(e.g),e.h);if(30<t.g.length){if(er(t)||er(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Hv,r=e;0>=r.X(t);)n=ZC(n),r=ZC(r);var i=ks(n,1),o=ks(r,1);for(r=ks(r,2),n=ks(n,2);!ii(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=ks(r,1),n=ks(n,1)}return e=Yf(t,i.R(e)),new El(i,e)}for(i=da;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Pr(n),s=o.R(e);er(s)||0<s.X(t);)n-=r,o=Pr(n),s=o.R(e);ii(o)&&(o=Hv),i=i.add(o),t=Yf(t,s)}return new El(i,t)}W.gb=function(t){return Jf(this,t).h};W.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pe(n,this.h&t.h)};W.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pe(n,this.h|t.h)};W.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pe(n,this.h^t.h)};function ZC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pe(n,t.h)}function ks(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Pe(i,t.h)}Xf.prototype.createWebChannel=Xf.prototype.g;Bn.prototype.send=Bn.prototype.u;Bn.prototype.open=Bn.prototype.m;Bn.prototype.close=Bn.prototype.close;ep.NO_ERROR=0;ep.TIMEOUT=8;ep.HTTP_ERROR=6;aI.COMPLETE="complete";lI.EventType=oc;oc.OPEN="a";oc.CLOSE="b";oc.ERROR="c";oc.MESSAGE="d";Dt.prototype.listen=Dt.prototype.O;dt.prototype.listenOnce=dt.prototype.P;dt.prototype.getLastError=dt.prototype.Sa;dt.prototype.getLastErrorCode=dt.prototype.Ia;dt.prototype.getStatus=dt.prototype.da;dt.prototype.getResponseJson=dt.prototype.Wa;dt.prototype.getResponseText=dt.prototype.ja;dt.prototype.send=dt.prototype.ha;dt.prototype.setWithCredentials=dt.prototype.Oa;Er.prototype.digest=Er.prototype.l;Er.prototype.reset=Er.prototype.reset;Er.prototype.update=Er.prototype.j;Pe.prototype.add=Pe.prototype.add;Pe.prototype.multiply=Pe.prototype.R;Pe.prototype.modulo=Pe.prototype.gb;Pe.prototype.compare=Pe.prototype.X;Pe.prototype.toNumber=Pe.prototype.ea;Pe.prototype.toString=Pe.prototype.toString;Pe.prototype.getBits=Pe.prototype.D;Pe.fromNumber=Pr;Pe.fromString=VI;var j6=function(){return new Xf},U6=function(){return Zh()},rg=ep,z6=aI,B6=ws,eS={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},V6=lc,vd=lI,H6=dt,W6=Er,fa=Pe;const tS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Qy("@firebase/firestore");function nS(){return ds.logLevel}function X(t,...e){if(ds.logLevel<=ke.DEBUG){const n=e.map($1);ds.debug(`Firestore (${Qa}): ${t}`,...n)}}function pi(t,...e){if(ds.logLevel<=ke.ERROR){const n=e.map($1);ds.error(`Firestore (${Qa}): ${t}`,...n)}}function xa(t,...e){if(ds.logLevel<=ke.WARN){const n=e.map($1);ds.warn(`Firestore (${Qa}): ${t}`,...n)}}function $1(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: `+t;throw pi(e),new Error(e)}function We(t,e){t||le()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class q6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class G6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let K6=class{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new si;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new si,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new si)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string"),new HI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new Zt(e)}};class Q6{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class X6{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Q6(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J6{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.T;return this.T=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string"),this.T=n.token,new Y6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Z6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Re(t,e){return t<e?-1:t>e?1:0}function Ta(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new rt(0,0))}static max(){return new fe(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $u.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $u?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends $u{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const eF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends $u{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return eF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new G(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ve.fromString(e))}static fromName(e){return new J(Ve.fromString(e).popFirst(5))}static empty(){return new J(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ve(e.slice()))}}function tF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new fo(i,J.empty(),e)}function nF(t){return new fo(t.readTime,t.key,-1)}class fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fo(fe.min(),J.empty(),-1)}static max(){return new fo(fe.max(),J.empty(),-1)}}function rF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:Re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==iF)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function fc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}M1.ct=-1;function lp(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}function sF(t){return typeof t=="number"&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=o??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Vt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iS(this.data.getIterator())}getIteratorFrom(e){return new iS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class iS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new sn(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new GI("Invalid base64 string: "+i):i}}(e);return new cn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const aF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(t){if(We(!!t),typeof t=="string"){let e=0;const n=aF.exec(t);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fs(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function D1(t){const e=t.mapValue.fields.__previous_value__;return L1(e)?D1(e):e}function Mu(t){const e=ho(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Lu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Lu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?L1(t)?4:uF(t)?9007199254740991:10:le()}function Ur(t,e){if(t===e)return!0;const n=hs(t);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mu(t).isEqual(Mu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ho(r.timestampValue),s=ho(i.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return fs(r.bytesValue).isEqual(fs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return St(r.geoPointValue.latitude)===St(i.geoPointValue.latitude)&&St(r.geoPointValue.longitude)===St(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return St(r.integerValue)===St(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=St(r.doubleValue),s=St(i.doubleValue);return o===s?Zf(o)===Zf(s):isNaN(o)&&isNaN(s)}return!1}(t,e);case 9:return Ta(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:return function(r,i){const o=r.mapValue.fields||{},s=i.mapValue.fields||{};if(rS(o)!==rS(s))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(s[a]===void 0||!Ur(o[a],s[a])))return!1;return!0}(t,e);default:return le()}}function Du(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function Ia(t,e){if(t===e)return 0;const n=hs(t),r=hs(e);if(n!==r)return Re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(i,o){const s=St(i.integerValue||i.doubleValue),a=St(o.integerValue||o.doubleValue);return s<a?-1:s>a?1:s===a?0:isNaN(s)?isNaN(a)?0:-1:1}(t,e);case 3:return oS(t.timestampValue,e.timestampValue);case 4:return oS(Mu(t),Mu(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(i,o){const s=fs(i),a=fs(o);return s.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const s=i.split("/"),a=o.split("/");for(let l=0;l<s.length&&l<a.length;l++){const u=Re(s[l],a[l]);if(u!==0)return u}return Re(s.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const s=Re(St(i.latitude),St(o.latitude));return s!==0?s:Re(St(i.longitude),St(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const s=i.values||[],a=o.values||[];for(let l=0;l<s.length&&l<a.length;++l){const u=Ia(s[l],a[l]);if(u)return u}return Re(s.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===wd.mapValue&&o===wd.mapValue)return 0;if(i===wd.mapValue)return 1;if(o===wd.mapValue)return-1;const s=i.fields||{},a=Object.keys(s),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=Re(a[c],u[c]);if(d!==0)return d;const f=Ia(s[a[c]],l[u[c]]);if(f!==0)return f}return Re(a.length,u.length)}(t.mapValue,e.mapValue);default:throw le()}}function oS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);const n=ho(t),r=ho(e),i=Re(n.seconds,r.seconds);return i!==0?i:Re(n.nanos,r.nanos)}function ka(t){return Wv(t)}function Wv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ho(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,J.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",o=!0;for(const s of r.values||[])o?o=!1:i+=",",i+=Wv(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",s=!0;for(const a of i)s?s=!1:o+=",",o+=`${a}:${Wv(r.fields[a])}`;return o+"}"}(t.mapValue):le();var e,n}function sS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qv(t){return!!t&&"integerValue"in t}function F1(t){return!!t&&"arrayValue"in t}function aS(t){return!!t&&"nullValue"in t}function lS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xd(t){return!!t&&"mapValue"in t}function Xl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=nn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Xl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Es(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Cn(Xl(this.value))}}function KI(t){const e=[];return Es(t.fields,(n,r)=>{const i=new nn([n]);if(Xd(r)){const o=KI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new tn(e,0,fe.min(),fe.min(),fe.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new tn(e,1,n,fe.min(),r,i,0)}static newNoDocument(e,n){return new tn(e,2,n,fe.min(),fe.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,fe.min(),fe.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.position=e,this.inclusive=n}}function uS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=Ia(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n="asc"){this.field=e,this.dir=n}}function cF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{}class xt extends QI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fF(e,n,r):n==="array-contains"?new mF(e,r):n==="in"?new gF(e,r):n==="not-in"?new vF(e,r):n==="array-contains-any"?new yF(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hF(e,r):new pF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ia(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(Ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cr extends QI{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Cr(e,n)}matches(e){return XI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function XI(t){return t.op==="and"}function YI(t){return dF(t)&&XI(t)}function dF(t){for(const e of t.filters)if(e instanceof Cr)return!1;return!0}function Gv(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+ka(t.value);if(YI(t))return t.filters.map(e=>Gv(e)).join(",");{const e=t.filters.map(n=>Gv(n)).join(",");return`${t.op}(${e})`}}function JI(t,e){return t instanceof xt?function(n,r){return r instanceof xt&&n.op===r.op&&n.field.isEqual(r.field)&&Ur(n.value,r.value)}(t,e):t instanceof Cr?function(n,r){return r instanceof Cr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,o,s)=>i&&JI(o,r.filters[s]),!0):!1}(t,e):void le()}function ZI(t){return t instanceof xt?function(e){return`${e.field.canonicalString()} ${e.op} ${ka(e.value)}`}(t):t instanceof Cr?function(e){return e.op.toString()+" {"+e.getFilters().map(ZI).join(" ,")+"}"}(t):"Filter"}class fF extends xt{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class hF extends xt{constructor(e,n){super(e,"in",n),this.keys=ek("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pF extends xt{constructor(e,n){super(e,"not-in",n),this.keys=ek("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ek(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class mF extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return F1(n)&&Du(n.arrayValue,this.value)}}class gF extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class vF extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Du(this.value.arrayValue,n)}}class yF extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!F1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.dt=null}}function dS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new wF(t,e,n,r,i,o,s)}function j1(t){const e=pe(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Gv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),lp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),e.dt=n}return e.dt}function U1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!cS(t.startAt,e.startAt)&&cS(t.endAt,e.endAt)}function Kv(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function EF(t,e,n,r,i,o,s,a){return new hc(t,e,n,r,i,o,s,a)}function up(t){return new hc(t)}function fS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tk(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function z1(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function nk(t){return t.collectionGroup!==null}function ha(t){const e=pe(t);if(e.wt===null){e.wt=[];const n=z1(e),r=tk(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Yl(n)),e.wt.push(new Yl(nn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Yl(nn.keyField(),o))}}}return e.wt}function mi(t){const e=pe(t);if(!e._t)if(e.limitType==="F")e._t=dS(e.path,e.collectionGroup,ha(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ha(e)){const s=o.dir==="desc"?"asc":"desc";n.push(new Yl(o.field,s))}const r=e.endAt?new eh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new eh(e.startAt.position,e.startAt.inclusive):null;e._t=dS(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Qv(t,e){e.getFirstInequalityField(),z1(t);const n=t.filters.concat([e]);return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xv(t,e,n){return new hc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cp(t,e){return U1(mi(t),mi(e))&&t.limitType===e.limitType}function rk(t){return`${j1(mi(t))}|lt:${t.limitType}`}function Yv(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>ZI(r)).join(", ")}]`),lp(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),`Target(${n})`}(mi(t))}; limitType=${t.limitType})`}function dp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):J.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ha(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,o,s){const a=uS(i,o,s);return i.inclusive?a<=0:a<0}(n.startAt,ha(n),r)||n.endAt&&!function(i,o,s){const a=uS(i,o,s);return i.inclusive?a>=0:a>0}(n.endAt,ha(n),r))}(t,e)}function CF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ik(t){return(e,n)=>{let r=!1;for(const i of ha(t)){const o=SF(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function SF(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,o,s){const a=o.data.field(i),l=s.data.field(i);return a!==null&&l!==null?Ia(a,l):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return qI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=new ot(J.comparator);function gi(){return bF}const ok=new ot(J.comparator);function $l(...t){let e=ok;for(const n of t)e=e.insert(n.key,n);return e}function sk(t){let e=ok;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vo(){return Jl()}function ak(){return Jl()}function Jl(){return new Xa(t=>t.toString(),(t,e)=>t.isEqual(e))}const _F=new ot(J.comparator),xF=new sn(J.comparator);function Ce(...t){let e=xF;for(const n of t)e=e.add(n);return e}const TF=new sn(Re);function IF(){return TF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function uk(t){return{integerValue:""+t}}function kF(t,e){return sF(e)?uk(e):lk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(){this._=void 0}}function RF(t,e,n){return t instanceof Fu?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&L1(i)&&(i=D1(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ra?dk(t,e):t instanceof ju?fk(t,e):function(r,i){const o=ck(r,i),s=hS(o)+hS(r.gt);return qv(o)&&qv(r.gt)?uk(s):lk(r.serializer,s)}(t,e)}function OF(t,e,n){return t instanceof Ra?dk(t,e):t instanceof ju?fk(t,e):n}function ck(t,e){return t instanceof th?qv(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Fu extends fp{}class Ra extends fp{constructor(e){super(),this.elements=e}}function dk(t,e){const n=hk(e);for(const r of t.elements)n.some(i=>Ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class ju extends fp{constructor(e){super(),this.elements=e}}function fk(t,e){let n=hk(e);for(const r of t.elements)n=n.filter(i=>!Ur(i,r));return{arrayValue:{values:n}}}class th extends fp{constructor(e,n){super(),this.serializer=e,this.gt=n}}function hS(t){return St(t.integerValue||t.doubleValue)}function hk(t){return F1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n){this.field=e,this.transform=n}}function NF(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Ra&&r instanceof Ra||n instanceof ju&&r instanceof ju?Ta(n.elements,r.elements,Ur):n instanceof th&&r instanceof th?Ur(n.gt,r.gt):n instanceof Fu&&r instanceof Fu}(t.transform,e.transform)}class PF{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hp{}function mk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vk(t.key,Fr.none()):new pc(t.key,t.data,Fr.none());{const n=t.data,r=Cn.empty();let i=new sn(nn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new bo(t.key,r,new Dn(i.toArray()),Fr.none())}}function AF(t,e,n){t instanceof pc?function(r,i,o){const s=r.value.clone(),a=mS(r.fieldTransforms,i,o.transformResults);s.setAll(a),i.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(t,e,n):t instanceof bo?function(r,i,o){if(!Yd(r.precondition,i))return void i.convertToUnknownDocument(o.version);const s=mS(r.fieldTransforms,i,o.transformResults),a=i.data;a.setAll(gk(r)),a.setAll(s),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Zl(t,e,n,r){return t instanceof pc?function(i,o,s,a){if(!Yd(i.precondition,o))return s;const l=i.value.clone(),u=gS(i.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof bo?function(i,o,s,a){if(!Yd(i.precondition,o))return s;const l=gS(i.fieldTransforms,a,o),u=o.data;return u.setAll(gk(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),s===null?null:s.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,o,s){return Yd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(t,e,n)}function $F(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=ck(r.transform,i||null);o!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,o))}return n||null}function pS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ta(n,r,(i,o)=>NF(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends hp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bo extends hp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mS(t,e,n){const r=new Map;We(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,OF(s,a,n[i]))}return r}function gS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,RF(o,s,e))}return r}class vk extends hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MF extends hp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&AF(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ak();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=mk(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(n,r)=>pS(n,r))&&Ta(this.baseMutations,e.baseMutations,(n,r)=>pS(n,r))}}class B1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length);let i=_F;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new B1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,_e;function jF(t){switch(t){default:return le();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function yk(t){if(t===void 0)return pi("GRPC error has no .code"),D.UNKNOWN;switch(t){case Ct.OK:return D.OK;case Ct.CANCELLED:return D.CANCELLED;case Ct.UNKNOWN:return D.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return D.INTERNAL;case Ct.UNAVAILABLE:return D.UNAVAILABLE;case Ct.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ct.NOT_FOUND:return D.NOT_FOUND;case Ct.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ct.ABORTED:return D.ABORTED;case Ct.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ct.DATA_LOSS:return D.DATA_LOSS;default:return le()}}(_e=Ct||(Ct={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ed}static getOrCreateInstance(){return Ed===null&&(Ed=new V1),Ed}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ed=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=new fa([4294967295,4294967295],0);function vS(t){const e=UF().encode(t),n=new W6;return n.update(e),new Uint8Array(n.digest())}function yS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fa([n,r],0),new fa([i,o],0)]}class H1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=fa.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(fa.fromNumber(r)));return i.compare(zF)===1&&(i=new fa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=vS(e),[r,i]=yS(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);if(!this.At(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new H1(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.It===0)return;const n=vS(e),[r,i]=yS(n);for(let o=0;o<this.hashCount;o++){const s=this.Et(r,i,o);this.Rt(s)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pp(fe.min(),i,new ot(Re),gi(),Ce())}}class mc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mc(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class wk{constructor(e,n){this.targetId=e,this.Vt=n}}class Ek{constructor(e,n,r=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wS{constructor(){this.St=0,this.Dt=CS(),this.Ct=cn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ce(),n=Ce(),r=Ce();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new mc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=CS()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class BF{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gi(),this.zt=ES(),this.Wt=new ot(Re)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const s=o.target;if(Kv(s))if(i===0){const a=new J(s.path);this.Yt(r,a,tn.newNoDocument(a,fe.min()))}else We(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=V1.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var f,m,v,w,C,g;const p={localCacheCount:c,existenceFilterCount:d.count},y=d.unchangedNames;return y&&(p.bloomFilter={applied:u===0,hashCount:(f=y==null?void 0:y.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(w=(v=(m=y==null?void 0:y.bits)===null||m===void 0?void 0:m.bitmap)===null||v===void 0?void 0:v.length)!==null&&w!==void 0?w:0,padding:(g=(C=y==null?void 0:y.bits)===null||C===void 0?void 0:C.padding)!==null&&g!==void 0?g:0}),p}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:s=0},hashCount:a=0}=r;let l,u;try{l=fs(o).toUint8Array()}catch(c){if(c instanceof GI)return xa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new H1(l,s,a)}catch(c){return xa(c instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const s=this.Gt.ue(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((o,s)=>{const a=this.se(s);if(a){if(o.current&&Kv(a.target)){const l=new J(a.target.path);this.jt.get(l)!==null||this.ae(s,l)||this.Yt(s,l,tn.newNoDocument(l,e))}o.Mt&&(n.set(s,o.Ot()),o.Ft())}});let r=Ce();this.zt.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,s)=>s.setReadTime(e));const i=new pp(e,n,this.Wt,this.jt,r);return this.jt=gi(),this.zt=ES(),this.Wt=new ot(Re),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new wS,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new sn(Re),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new wS),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function ES(){return new ot(J.comparator)}function CS(){return new ot(J.comparator)}const VF=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),HF=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),WF=(()=>({and:"AND",or:"OR"}))();class qF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jv(t,e){return t.useProto3Json||lp(e)?e:{value:e}}function nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ck(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GF(t,e){return nh(t,e.toTimestamp())}function jr(t){return We(!!t),fe.fromTimestamp(function(e){const n=ho(e);return new rt(n.seconds,n.nanos)}(t))}function W1(t,e){return function(n){return new Ve(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Sk(t){const e=Ve.fromString(t);return We(Tk(e)),e}function Zv(t,e){return W1(t.databaseId,e.path)}function ig(t,e){const n=Sk(e);if(n.get(1)!==t.databaseId.projectId)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(bk(n))}function e0(t,e){return W1(t.databaseId,e)}function KF(t){const e=Sk(t);return e.length===4?Ve.emptyPath():bk(e)}function t0(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bk(t){return We(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function SS(t,e,n){return{name:Zv(t,e),fields:n.value.mapValue.fields}}function QF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(We(u===void 0||typeof u=="string"),cn.fromBase64String(u||"")):(We(u===void 0||u instanceof Uint8Array),cn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const u=l.code===void 0?D.UNKNOWN:yk(l.code);return new G(u,l.message||"")}(s);n=new Ek(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ig(t,r.document.name),o=jr(r.document.updateTime),s=r.document.createTime?jr(r.document.createTime):fe.min(),a=new Cn({mapValue:{fields:r.document.fields}}),l=tn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Jd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ig(t,r.document),o=r.readTime?jr(r.readTime):fe.min(),s=tn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Jd([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ig(t,r.document),o=r.removedTargetIds||[];n=new Jd([],o,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new FF(i,o),a=r.targetId;n=new wk(a,s)}}return n}function XF(t,e){let n;if(e instanceof pc)n={update:SS(t,e.key,e.value)};else if(e instanceof vk)n={delete:Zv(t,e.key)};else if(e instanceof bo)n={update:SS(t,e.key,e.data),updateMask:o5(e.fieldMask)};else{if(!(e instanceof MF))return le();n={verify:Zv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const s=o.transform;if(s instanceof Fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ra)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ju)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof th)return{fieldPath:o.field.canonicalString(),increment:s.gt};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:GF(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le()}(t,e.precondition)),n}function YF(t,e){return t&&t.length>0?(We(e!==void 0),t.map(n=>function(r,i){let o=r.updateTime?jr(r.updateTime):jr(i);return o.isEqual(fe.min())&&(o=jr(i)),new PF(o,r.transformResults||[])}(n,e))):[]}function JF(t,e){return{documents:[e0(t,e.path)]}}function ZF(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=e0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=e0(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return xk(Cr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Ls(c.field),direction:n5(c.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Jv(t,e.limit);var a;return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function e5(t){let e=KF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(c){const d=_k(c);return d instanceof Cr&&YI(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(c=>function(d){return new Yl(Ds(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,lp(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new eh(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new eh(f,d)}(n.endAt)),EF(e,i,s,o,a,"F",l,u)}function t5(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _k(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ds(e.unaryFilter.field);return xt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ds(e.unaryFilter.field);return xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ds(e.unaryFilter.field);return xt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ds(e.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(e){return xt.create(Ds(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Cr.create(e.compositeFilter.filters.map(n=>_k(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return le()}}(e.compositeFilter.op))}(t):le()}function n5(t){return VF[t]}function r5(t){return HF[t]}function i5(t){return WF[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Ds(t){return nn.fromServerFormat(t.fieldPath)}function xk(t){return t instanceof xt?function(e){if(e.op==="=="){if(lS(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NAN"}};if(aS(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(lS(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NOT_NAN"}};if(aS(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(e.field),op:r5(e.op),value:e.value}}}(t):t instanceof Cr?function(e){const n=e.getFilters().map(r=>xk(r));return n.length===1?n[0]:{compositeFilter:{op:i5(e.op),filters:n}}}(t):le()}function o5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,i,o=fe.min(),s=fe.min(),a=cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e){this.fe=e}}function a5(t){const e=e5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(){this.rn=new u5}addToCollectionParentIndex(e,n){return this.rn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(fo.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class u5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new sn(Ve.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new sn(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Oa(0)}static Mn(){return new Oa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.changes=new Xa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zl(r.mutation,i,Dn.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const i=Vo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=$l();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Vo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=gi();const s=Jl(),a=Jl();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof bo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Zl(c.mutation,u,c.mutation.getFieldMask(),rt.now())):s.set(u.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new d5(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Jl();let i=new ot((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Dn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ce()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=ak();c.forEach(f=>{if(!o.has(f)){const m=mk(n.get(f),r.get(f));m!==null&&d.set(f,m),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return J.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(Vo());let a=-1,l=o;return s.next(u=>B.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?B.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ce())).next(c=>({batchId:a,changes:sk(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=$l();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let o=$l();return this.indexManager.getCollectionParents(e,i).next(s=>B.forEach(s,a=>{const l=function(u,c){return new hc(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{o=o.insert(c,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(o=>{i.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,tn.newInvalidDocument(u)))});let s=$l();return o.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Zl(u.mutation,l,Dn.empty(),rt.now()),dp(n,l)&&(s=s.insert(a,l))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return B.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:jr(r.createTime)}),B.resolve()}getNamedQuery(e,n){return B.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:a5(r.bundledQuery),readTime:jr(r.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.overlays=new ot(J.comparator),this.ls=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vo();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.we(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Vo(),o=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ot((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Vo(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Vo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return B.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new DF(n,r));let o=this.ls.get(n);o===void 0&&(o=Ce(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.fs=new sn($t.ds),this.ws=new sn($t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new $t(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new $t(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new J(new Ve([])),r=new $t(n,e),i=new $t(n,e+1),o=[];return this.ws.forEachInRange([r,i],s=>{this.ys(s),o.push(s.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new J(new Ve([])),r=new $t(n,e),i=new $t(n,e+1);let o=Ce();return this.ws.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new $t(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return J.comparator(e.key,n.key)||Re(e.As,n.As)}static _s(e,n){return Re(e.As,n.As)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new sn($t.ds)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new LF(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Rs=this.Rs.add(new $t(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],s=>{const a=this.Ps(s.As);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(Re);return n.forEach(i=>{const o=new $t(i,0),s=new $t(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,s],a=>{r=r.add(a.As)})}),B.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;J.isDocumentKey(o)||(o=o.child(""));const s=new $t(new J(o),0);let a=new sn(Re);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},s),B.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){We(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return B.forEach(n.mutations,i=>{const o=new $t(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new $t(n,0),i=this.Rs.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.Ds=e,this.docs=new ot(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=gi();const s=n.path,a=new J(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||rF(nF(c),r)<=0||(i.has(c.key)||dp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){le()}Cs(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new v5(this)}getSize(e){return B.resolve(this.size)}}class v5 extends c5{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.persistence=e,this.xs=new Xa(n=>j1(n),U1),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new q1,this.targetCount=0,this.Ms=Oa.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),B.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Oa(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Fn(n),B.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n){this.$s={},this.overlays={},this.Os=new M1(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new y5(this),this.indexManager=new l5,this.remoteDocumentCache=function(r){return new g5(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new s5(n),this.qs=new h5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new m5(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new E5(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,n){return B.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class E5 extends oF{constructor(e){super(),this.currentSequenceNumber=e}}class G1{constructor(e){this.persistence=e,this.Qs=new q1,this.js=null}static zs(e){return new G1(e)}get Ws(){if(this.js)return this.js;throw le()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),B.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Ws,r=>{const i=J.fromPath(r);return this.Hs(e,i).next(o=>{o||n.removeEntry(i,fe.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return B.or([()=>B.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Ce(),i=Ce();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new K1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(o=>o||this.Gi(e,n,i,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(fS(n))return B.resolve(null);let r=mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xv(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ce(...o);return this.Ui.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,s,l.readTime)?this.Ki(e,Xv(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,i){return fS(n)||i.isEqual(fe.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const s=this.ji(n,o);return this.zi(n,s,r,i)?this.Qi(e,n):(nS()<=ke.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yv(n)),this.Wi(e,s,n,tF(i,-1)))})}ji(e,n){let r=new sn(ik(e));return n.forEach((i,o)=>{dp(e,o)&&(r=r.add(o))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,n){return nS()<=ke.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Yv(n)),this.Ui.getDocumentsMatchingQuery(e,n,fo.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ot(Re),this.Yi=new Xa(o=>j1(o),U1),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f5(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function b5(t,e,n,r){return new S5(t,e,n,r)}async function Ik(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ce();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:s,addedBatchIds:a}))})})}function _5(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(s,a,l,u){const c=l.batch,d=c.keys();let f=B.resolve();return d.forEach(m=>{f=f.next(()=>u.getEntry(a,m)).next(v=>{const w=l.docVersions.get(m);We(w!==null),v.version.compareTo(w)<0&&(c.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),f.next(()=>s.mutationQueue.removeMutationBatch(a,c))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let a=Ce();for(let l=0;l<s.mutationResults.length;++l)s.mutationResults[l].transformResults.length>0&&(a=a.add(s.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kk(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function x5(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(o,c.addedDocuments,d)));let m=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(cn.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,r)),i=i.insert(d,m),function(v,w,C){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,m,c)&&a.push(n.Bs.updateTargetData(o,m))});let l=gi(),u=Ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(T5(o,s,e.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(fe.min())){const c=n.Bs.getLastRemoteSnapshotVersion(o).next(d=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=i,o))}function T5(t,e,n){let r=Ce(),i=Ce();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=gi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:s,sr:i}})}function I5(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function k5(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.Bs.allocateTargetId(r).next(s=>(i=new qi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function n0(t,e,n){const r=pe(t),i=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!fc(s))throw s;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function bS(t,e,n){const r=pe(t);let i=fe.min(),o=Ce();return r.persistence.runTransaction("Execute query","readonly",s=>function(a,l,u){const c=pe(a),d=c.Yi.get(u);return d!==void 0?B.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,s,mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(s,e,n?i:fe.min(),n?o:Ce())).next(a=>(R5(r,CF(e),a),{documents:a,ir:o})))}function R5(t,e,n){let r=t.Xi.get(e)||fe.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class _S{constructor(){this.activeTargetIds=IF()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O5{constructor(){this.Hr=new _S,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new _S,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd=null;function og(){return Cd===null?Cd=268435456+Math.round(2147483648*Math.random()):Cd++,"0x"+Cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class $5 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,o){const s=og(),a=this.To(e,n);X("RestConnection",`Sending RPC '${e}' ${s}:`,a,r);const l={};return this.Eo(l,i,o),this.Ao(e,a,l,r).then(u=>(X("RestConnection",`Received RPC '${e}' ${s}: `,u),u),u=>{throw xa("RestConnection",`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,o,s){return this.Io(e,n,r,i,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,n){const r=P5[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const o=og();return new Promise((s,a)=>{const l=new H6;l.setWithCredentials(!0),l.listenOnce(z6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rg.NO_ERROR:const c=l.getResponseJson();X(Jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case rg.TIMEOUT:X(Jt,`RPC '${e}' ${o} timed out`),a(new G(D.DEADLINE_EXCEEDED,"Request time out"));break;case rg.HTTP_ERROR:const d=l.getStatus();if(X(Jt,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(w){const C=w.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(C)>=0?C:D.UNKNOWN}(m.status);a(new G(v,m.message))}else a(new G(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G(D.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{X(Jt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);X(Jt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=og(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=j6(),a=U6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new V6({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");X(Jt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,m=!1;const v=new A5({ro:C=>{m?X(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(f||(X(Jt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),X(Jt,`RPC '${e}' stream ${i} sending:`,C),d.send(C))},oo:()=>d.close()}),w=(C,g,p)=>{C.listen(g,y=>{try{p(y)}catch(E){setTimeout(()=>{throw E},0)}})};return w(d,vd.EventType.OPEN,()=>{m||X(Jt,`RPC '${e}' stream ${i} transport opened.`)}),w(d,vd.EventType.CLOSE,()=>{m||(m=!0,X(Jt,`RPC '${e}' stream ${i} transport closed`),v.wo())}),w(d,vd.EventType.ERROR,C=>{m||(m=!0,xa(Jt,`RPC '${e}' stream ${i} transport errored:`,C),v.wo(new G(D.UNAVAILABLE,"The operation could not be completed")))}),w(d,vd.EventType.MESSAGE,C=>{var g;if(!m){const p=C.data[0];We(!!p);const y=p,E=y.error||((g=y[0])===null||g===void 0?void 0:g.error);if(E){X(Jt,`RPC '${e}' stream ${i} received error:`,E);const S=E.status;let _=function(x){const N=Ct[x];if(N!==void 0)return yk(N)}(S),b=E.message;_===void 0&&(_=D.INTERNAL,b="Unknown error status: "+S+" with message "+E.message),m=!0,v.wo(new G(_,b)),d.close()}else X(Jt,`RPC '${e}' stream ${i} received:`,p),v._o(p)}}),w(a,B6.STAT_EVENT,C=>{C.stat===eS.PROXY?X(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===eS.NOPROXY&&X(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function sg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){return new qF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r,i,o,s,a,l){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Rk(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new G(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class M5 extends Ok{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=QF(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?jr(o.readTime):fe.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=t0(this.serializer),n.addTarget=function(i,o){let s;const a=o.target;if(s=Kv(a)?{documents:JF(i,a)}:{query:ZF(i,a)},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=Ck(i,o.resumeToken);const l=Jv(i,o.expectedCount);l!==null&&(s.expectedCount=l)}else if(o.snapshotVersion.compareTo(fe.min())>0){s.readTime=nh(i,o.snapshotVersion.toTimestamp());const l=Jv(i,o.expectedCount);l!==null&&(s.expectedCount=l)}return s}(this.serializer,e);const r=t5(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=t0(this.serializer),n.removeTarget=e,this.Wo(n)}}class L5 extends Ok{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=YF(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.cu(r,n)}return We(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=t0(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XF(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(D.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(D.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class F5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(pi(n),this.mu=!1):X("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(s=>{r.enqueueAndForget(async()=>{Cs(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=pe(a);l.vu.add(4),await gc(l),l.bu.set("Unknown"),l.vu.delete(4),await gp(l)}(this))})}),this.bu=new F5(r,i)}}async function gp(t){if(Cs(t))for(const e of t.Ru)await e(!0)}async function gc(t){for(const e of t.Ru)await e(!1)}function Nk(t,e){const n=pe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Y1(n)?X1(n):Ya(n).Ko()&&Q1(n,e))}function Pk(t,e){const n=pe(t),r=Ya(n);n.Au.delete(e),r.Ko()&&Ak(n,e),n.Au.size===0&&(r.Ko()?r.jo():Cs(n)&&n.bu.set("Unknown"))}function Q1(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ya(t).su(e)}function Ak(t,e){t.Vu.qt(e),Ya(t).iu(e)}function X1(t){t.Vu=new BF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ya(t).start(),t.bu.gu()}function Y1(t){return Cs(t)&&!Ya(t).Uo()&&t.Au.size>0}function Cs(t){return pe(t).vu.size===0}function $k(t){t.Vu=void 0}async function U5(t){t.Au.forEach((e,n)=>{Q1(t,e)})}async function z5(t,e){$k(t),Y1(t)?(t.bu.Iu(e),X1(t)):t.bu.set("Unknown")}async function B5(t,e,n){if(t.bu.set("Online"),e instanceof Ek&&e.state===2&&e.cause)try{await async function(r,i){const o=i.cause;for(const s of i.targetIds)r.Au.has(s)&&(await r.remoteSyncer.rejectListen(s,o),r.Au.delete(s),r.Vu.removeTarget(s))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(t,r)}else if(e instanceof Jd?t.Vu.Ht(e):e instanceof wk?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(fe.min()))try{const r=await kk(t.localStore);n.compareTo(r)>=0&&await function(i,o){const s=i.Vu.ce(o);return s.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,o))}}),s.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(cn.EMPTY_BYTE_STRING,u.snapshotVersion)),Ak(i,a);const c=new qi(u.target,a,l,u.sequenceNumber);Q1(i,c)}),i.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await rh(t,r)}}async function rh(t,e,n){if(!fc(e))throw e;t.vu.add(1),await gc(t),t.bu.set("Offline"),n||(n=()=>kk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await gp(t)})}function Mk(t,e){return e().catch(n=>rh(t,n,e))}async function vp(t){const e=pe(t),n=po(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;V5(e);)try{const i=await I5(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,H5(e,i)}catch(i){await rh(e,i)}Lk(e)&&Dk(e)}function V5(t){return Cs(t)&&t.Eu.length<10}function H5(t,e){t.Eu.push(e);const n=po(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Lk(t){return Cs(t)&&!po(t).Uo()&&t.Eu.length>0}function Dk(t){po(t).start()}async function W5(t){po(t).hu()}async function q5(t){const e=po(t);for(const n of t.Eu)e.uu(n.mutations)}async function G5(t,e,n){const r=t.Eu.shift(),i=B1.from(r,e,n);await Mk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vp(t)}async function K5(t,e){e&&po(t).ou&&await async function(n,r){if(i=r.code,jF(i)&&i!==D.ABORTED){const o=n.Eu.shift();po(n).Qo(),await Mk(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await vp(n)}var i}(t,e),Lk(t)&&Dk(t)}async function TS(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Cs(n);n.vu.add(3),await gc(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await gp(n)}async function Q5(t,e){const n=pe(t);e?(n.vu.delete(2),await gp(n)):e||(n.vu.add(2),await gc(n),n.bu.set("Unknown"))}function Ya(t){return t.Su||(t.Su=function(e,n,r){const i=pe(e);return i.fu(),new M5(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:U5.bind(null,t),ao:z5.bind(null,t),nu:B5.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Y1(t)?X1(t):t.bu.set("Unknown")):(await t.Su.stop(),$k(t))})),t.Su}function po(t){return t.Du||(t.Du=function(e,n,r){const i=pe(e);return i.fu(),new L5(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:W5.bind(null,t),ao:K5.bind(null,t),au:q5.bind(null,t),cu:G5.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await vp(t)):(await t.Du.stop(),t.Eu.length>0&&(X("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new J1(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z1(t,e){if(pi("AsyncQueue",`${e}: ${t}`),fc(t))return new G(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=$l(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new pa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.Cu=new ot(J.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):le():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Na{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Na(e,n,pa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(){this.Nu=void 0,this.listeners=[]}}class Y5{constructor(){this.queries=new Xa(e=>rk(e),cp),this.onlineState="Unknown",this.ku=new Set}}async function ew(t,e){const n=pe(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new X5),i)try{o.Nu=await n.onListen(r)}catch(s){const a=Z1(s,`Initialization of query '${Yv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&nw(n)}async function tw(t,e){const n=pe(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function J5(t,e){const n=pe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.$u(i)&&(r=!0);s.Nu=i}}r&&nw(n)}function Z5(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function nw(t){t.ku.forEach(e=>{e.next()})}class rw{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e){this.key=e}}class jk{constructor(e){this.key=e}}class ej{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ce(),this.mutatedKeys=Ce(),this.tc=ik(e),this.ec=new pa(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new IS,i=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),m=dp(this.query,d)?d:null,v=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let C=!1;f&&m?f.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),C=!0):this.rc(f,m)||(r.track({type:2,doc:m}),C=!0,(l&&this.tc(m,l)>0||u&&this.tc(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),C=!0):f&&!m&&(r.track({type:1,doc:f}),C=!0,(l||u)&&(a=!0)),C&&(m?(s=s.add(m),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ec:s,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,c)=>function(d,f){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return m(d)-m(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const s=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new Na(this.query,e.ec,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new IS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ce(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new jk(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Fk(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Ce();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Na.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class tj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nj{constructor(e){this.key=e,this.fc=!1}}class rj{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Xa(a=>rk(a),cp),this._c=new Map,this.mc=new Set,this.gc=new ot(J.comparator),this.yc=new Map,this.Ic=new q1,this.Tc={},this.Ec=new Map,this.Ac=Oa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function ij(t,e){const n=pj(t);let r,i;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const s=await k5(n.localStore,mi(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await oj(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&Nk(n.remoteStore,s)}return i}async function oj(t,e,n,r,i){t.Rc=(d,f,m)=>async function(v,w,C,g){let p=w.view.sc(C);p.zi&&(p=await bS(v.localStore,w.query,!1).then(({documents:S})=>w.view.sc(S,p)));const y=g&&g.targetChanges.get(w.targetId),E=w.view.applyChanges(p,v.isPrimaryClient,y);return RS(v,w.targetId,E.cc),E.snapshot}(t,d,f,m);const o=await bS(t.localStore,e,!0),s=new ej(e,o.ir),a=s.sc(o.documents),l=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);RS(t,n,u.cc);const c=new tj(e,n,s);return t.wc.set(e,c),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function sj(t,e){const n=pe(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(o=>!cp(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await n0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Pk(n.remoteStore,r.targetId),r0(n,r.targetId)}).catch(dc)):(r0(n,r.targetId),await n0(n.localStore,r.targetId,!0))}async function aj(t,e,n){const r=mj(t);try{const i=await function(o,s){const a=pe(o),l=rt.now(),u=s.reduce((f,m)=>f.add(m.key),Ce());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=gi(),v=Ce();return a.Zi.getEntries(f,u).next(w=>{m=w,m.forEach((C,g)=>{g.isValidDocument()||(v=v.add(C))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(w=>{c=w;const C=[];for(const g of s){const p=$F(g,c.get(g.key).overlayedDocument);p!=null&&C.push(new bo(g.key,p,KI(p.value.mapValue),Fr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,C,s)}).next(w=>{d=w;const C=w.applyToLocalDocumentSet(c,v);return a.documentOverlayCache.saveOverlays(f,w.batchId,C)})}).then(()=>({batchId:d.batchId,changes:sk(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,s,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new ot(Re)),l=l.insert(s,a),o.Tc[o.currentUser.toKey()]=l}(r,i.batchId,n),await vc(r,i.changes),await vp(r.remoteStore)}catch(i){const o=Z1(i,"Failed to persist write");n.reject(o)}}async function Uk(t,e){const n=pe(t);try{const r=await x5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.yc.get(o);s&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.fc=!0:i.modifiedDocuments.size>0?We(s.fc):i.removedDocuments.size>0&&(We(s.fc),s.fc=!1))}),await vc(n,r,e)}catch(r){await dc(r)}}function kS(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((o,s)=>{const a=s.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(o,s){const a=pe(o);a.onlineState=s;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(s)&&(l=!0)}),l&&nw(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lj(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),o=i&&i.key;if(o){let s=new ot(J.comparator);s=s.insert(o,tn.newNoDocument(o,fe.min()));const a=Ce().add(o),l=new pp(fe.min(),new Map,new ot(Re),s,a);await Uk(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),iw(r)}else await n0(r.localStore,e,!1).then(()=>r0(r,e,n)).catch(dc)}async function uj(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await _5(n.localStore,e);Bk(n,r,null),zk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,i)}catch(i){await dc(i)}}async function cj(t,e,n){const r=pe(t);try{const i=await function(o,s){const a=pe(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,s).next(c=>(We(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,s)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Bk(r,e,n),zk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vc(r,i)}catch(i){await dc(i)}}function zk(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Bk(t,e,n){const r=pe(t);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function r0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Vk(t,r)})}function Vk(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Pk(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),iw(t))}function RS(t,e,n){for(const r of n)r instanceof Fk?(t.Ic.addReference(r.key,e),dj(t,r)):r instanceof jk?(X("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Vk(t,r.key)):le()}function dj(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(X("SyncEngine","New document in limbo: "+n),t.mc.add(r),iw(t))}function iw(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new J(Ve.fromString(e)),r=t.Ac.next();t.yc.set(r,new nj(n)),t.gc=t.gc.insert(n,r),Nk(t.remoteStore,new qi(mi(up(n.path)),r,"TargetPurposeLimboResolution",M1.ct))}}async function vc(t,e,n){const r=pe(t),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{s.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=K1.Li(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.dc.nu(i),await async function(a,l){const u=pe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>B.forEach(l,d=>B.forEach(d.Fi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>B.forEach(d.Bi,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!fc(c))throw c;X("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Ji.get(d),m=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(m);u.Ji=u.Ji.insert(d,v)}}}(r.localStore,o))}async function fj(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await Ik(n.localStore,e);n.currentUser=e,function(i,o){i.Ec.forEach(s=>{s.forEach(a=>{a.reject(new G(D.CANCELLED,o))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(n,r.er)}}function hj(t,e){const n=pe(t),r=n.yc.get(e);if(r&&r.fc)return Ce().add(r.key);{let i=Ce();const o=n._c.get(e);if(!o)return i;for(const s of o){const a=n.wc.get(s);i=i.unionWith(a.view.nc)}return i}}function pj(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lj.bind(null,e),e.dc.nu=J5.bind(null,e.eventManager),e.dc.Pc=Z5.bind(null,e.eventManager),e}function mj(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cj.bind(null,e),e}class OS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=mp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return b5(this.persistence,new C5,e.initialUser,this.serializer)}createPersistence(e){return new w5(G1.zs,this.serializer)}createSharedClientState(e){return new O5}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fj.bind(null,this.syncEngine),await Q5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Y5}createDatastore(e){const n=mp(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new $5(i));var i;return function(o,s,a,l){return new D5(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,o=a=>kS(this.syncEngine,a,0),s=xS.D()?new xS:new N5,new j5(n,r,i,o,s);var n,r,i,o,s}createSyncEngine(e,n){return function(r,i,o,s,a,l,u){const c=new rj(r,i,o,s,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=pe(e);X("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await gc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=WI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ag(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ik(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wj(t);X("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>TS(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>TS(e.remoteStore,o)),t._onlineComponents=e}function yj(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function wj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await ag(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yj(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await ag(t,new OS)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await ag(t,new OS);return t._offlineComponents}async function Hk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await NS(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await NS(t,new gj))),t._onlineComponents}function Ej(t){return Hk(t).then(e=>e.syncEngine)}async function ih(t){const e=await Hk(t),n=e.eventManager;return n.onListen=ij.bind(null,e.syncEngine),n.onUnlisten=sj.bind(null,e.syncEngine),n}function Cj(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new ow({next:d=>{o.enqueueAndForget(()=>tw(i,c));const f=d.docs.has(s);!f&&d.fromCache?l.reject(new G(D.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new G(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new rw(up(s.path),u,{includeMetadataChanges:!0,Ku:!0});return ew(i,c)}(await ih(t),t.asyncQueue,e,n,r)),r.promise}function Sj(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,s,a,l){const u=new ow({next:d=>{o.enqueueAndForget(()=>tw(i,c)),d.fromCache&&a.source==="server"?l.reject(new G(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new rw(s,u,{includeMetadataChanges:!0,Ku:!0});return ew(i,c)}(await ih(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e,n){if(!n)throw new G(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bj(t,e,n,r){if(e===!0&&r===!0)throw new G(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AS(t){if(!J.isDocumentKey(t))throw new G(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $S(t){if(J.isDocumentKey(t))throw new G(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yp(t);throw new G(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class wp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MS(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new q6;switch(n.type){case"firstParty":return new X6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new G(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=PS.get(e);n&&(X("ComponentProvider","Removing Datastore"),PS.delete(e),n.terminate())}(this),Promise.resolve()}}function _j(t,e,n,r={}){var i;const o=(t=rr(t,wp))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Zt.MOCK_USER;else{a=DT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new G(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Zt(u)}t._authCredentials=new G6(new HI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class Ss{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class so extends Ss{constructor(e,n,r){super(e,n,up(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new J(e))}withConverter(e){return new so(this.firestore,e,this._path)}}function xj(t,e,...n){if(t=Xe(t),qk("collection","path",e),t instanceof wp){const r=Ve.fromString(e,...n);return $S(r),new so(t,null,r)}{if(!(t instanceof an||t instanceof so))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return $S(r),new so(t.firestore,null,r)}}function ut(t,e,...n){if(t=Xe(t),arguments.length===1&&(e=WI.A()),qk("doc","path",e),t instanceof wp){const r=Ve.fromString(e,...n);return AS(r),new an(t,null,new J(r))}{if(!(t instanceof an||t instanceof so))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return AS(r),new an(t.firestore,t instanceof so?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Rk(this,"async_queue_retry"),this.Xc=()=>{const n=sg();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=sg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=sg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new si;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!fc(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(r);throw pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=J1.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&le()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function LS(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ps extends wp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gk(this),this._firestoreClient.terminate()}}function Ij(t,e){const n=typeof t=="object"?t:Yy(),r=typeof t=="string"?t:e||"(default)",i=Vh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$T("firestore");o&&_j(i,...o)}return i}function Ep(t){return t._firestoreClient||Gk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Gk(t){var e,n,r;const i=t._freezeSettings(),o=function(s,a,l,u){return new lF(s,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Wk(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new vj(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(cn.fromBase64String(e))}catch(n){throw new G(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pa(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=/^__.*__$/;class Rj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}class Kk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Sp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Sp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return oh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Qk(this.ca)&&kj.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Oj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mp(e)}ya(e,n,r,i=!1){return new Sp({ca:e,methodName:n,ga:r,path:nn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aw(t){const e=t._freezeSettings(),n=mp(t._databaseId);return new Oj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nj(t,e,n,r,i,o={}){const s=t.ya(o.merge||o.mergeFields?2:0,e,n,i);uw("Data must be an object, but it was:",s,r);const a=Xk(r,s);let l,u;if(o.merge)l=new Dn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=i0(e,d,n);if(!s.contains(f))throw new G(D.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Jk(c,f)||c.push(f)}l=new Dn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new Rj(new Cn(a),l,u)}class wc extends yc{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wc}}function Pj(t,e,n){return new Sp({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class lw extends yc{_toFieldTransform(e){return new pk(e.path,new Fu)}isEqual(e){return e instanceof lw}}class Aj extends yc{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Pj(this,e,!0),r=this.pa.map(o=>Ja(o,n)),i=new Ra(r);return new pk(e.path,i)}isEqual(e){return this===e}}function $j(t,e,n,r){const i=t.ya(1,e,n);uw("Data must be an object, but it was:",i,r);const o=[],s=Cn.empty();Es(r,(l,u)=>{const c=cw(e,l,n);u=Xe(u);const d=i.da(c);if(u instanceof wc)o.push(c);else{const f=Ja(u,d);f!=null&&(o.push(c),s.set(c,f))}});const a=new Dn(o);return new Kk(s,a,i.fieldTransforms)}function Mj(t,e,n,r,i,o){const s=t.ya(1,e,n),a=[i0(e,r,n)],l=[i];if(o.length%2!=0)throw new G(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(i0(e,o[f])),l.push(o[f+1]);const u=[],c=Cn.empty();for(let f=a.length-1;f>=0;--f)if(!Jk(u,a[f])){const m=a[f];let v=l[f];v=Xe(v);const w=s.da(m);if(v instanceof wc)u.push(m);else{const C=Ja(v,w);C!=null&&(u.push(m),c.set(m,C))}}const d=new Dn(u);return new Kk(c,d,s.fieldTransforms)}function Lj(t,e,n,r=!1){return Ja(n,t.ya(r?4:3,e))}function Ja(t,e){if(Yk(t=Xe(t)))return uw("Unsupported field value:",e,t),Xk(t,e);if(t instanceof yc)return function(n,r){if(!Qk(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let o=0;for(const s of n){let a=Ja(s,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Xe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return kF(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=rt.fromDate(n);return{timestampValue:nh(r.serializer,i)}}if(n instanceof rt){const i=new rt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nh(r.serializer,i)}}if(n instanceof sw)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pa)return{bytesValue:Ck(r.serializer,n._byteString)};if(n instanceof an){const i=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:W1(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${yp(n)}`)}(t,e)}function Xk(t,e){const n={};return qI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(t,(r,i)=>{const o=Ja(i,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Yk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof sw||t instanceof Pa||t instanceof an||t instanceof yc)}function uw(t,e,n){if(!Yk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=yp(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function i0(t,e,n){if((e=Xe(e))instanceof Cp)return e._internalPath;if(typeof e=="string")return cw(t,e);throw oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Dj=new RegExp("[~\\*/\\[\\]]");function cw(t,e,n){if(e.search(Dj)>=0)throw oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cp(...e.split("."))._internalPath}catch{throw oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oh(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new G(D.INVALID_ARGUMENT,a+t+l)}function Jk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fj extends Zk{data(){return super.data()}}function dw(t,e){return typeof e=="string"?cw(t,e):e instanceof Cp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fw{}class jj extends fw{}function Uj(t,e,...n){let r=[];e instanceof fw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(a=>a instanceof hw).length,s=i.filter(a=>a instanceof bp).length;if(o>1||o>0&&s>0)throw new G(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class bp extends jj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bp(e,n,r)}_apply(e){const n=this._parse(e);return tR(e._query,n),new Ss(e.firestore,e.converter,Qv(e._query,n))}_parse(e){const n=aw(e.firestore);return function(i,o,s,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new G(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){FS(c,u);const f=[];for(const m of c)f.push(DS(a,i,m));d={arrayValue:{values:f}}}else d=DS(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||FS(c,u),d=Lj(s,o,c,u==="in"||u==="not-in");return xt.create(l,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zj(t,e,n){const r=e,i=dw("where",t);return bp._create(i,r,n)}class hw extends fw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let o=r;const s=i.getFlattenedFilters();for(const a of s)tR(o,a),o=Qv(o,a)}(e._query,n),new Ss(e.firestore,e.converter,Qv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DS(t,e,n){if(typeof(n=Xe(n))=="string"){if(n==="")throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nk(e)&&n.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!J.isDocumentKey(r))throw new G(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sS(t,new J(r))}if(n instanceof an)return sS(t,n._key);throw new G(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yp(n)}.`)}function FS(t,e){if(!Array.isArray(t)||t.length===0)throw new G(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tR(t,e){if(e.isInequality()){const r=z1(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new G(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=tk(t);o!==null&&Bj(t,i,o)}const n=function(r,i){for(const o of r)for(const s of o.getFlattenedFilters())if(i.indexOf(s.op)>=0)return s.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Bj(t,e,n){if(!n.isEqual(e))throw new G(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Vj{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Es(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new sw(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=D1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mu(e));default:return null}}convertTimestamp(e){const n=ho(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);We(Tk(r));const i=new Lu(r.get(1),r.get(3)),o=new J(r.popFirst(5));return i.isEqual(n)||pi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nR extends Zk{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Zd extends nR{data(e={}){return super.data(e)}}class rR{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zd(this._firestore,this._userDataWriter,r.key,r,new Ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(s=>{const a=new Zd(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ll(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);return s.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(s=>i||s.type!==3).map(s=>{const a=new Zd(r._firestore,r._userDataWriter,s.doc.key,s.doc,new Ll(r._snapshot.mutatedKeys.has(s.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return s.type!==0&&(l=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),u=o.indexOf(s.doc.key)),{type:Wj(s.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Wj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){t=rr(t,an);const e=rr(t.firestore,ps);return Cj(Ep(e),t._key).then(n=>oR(e,t,n))}class pw extends Vj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function Gj(t){t=rr(t,Ss);const e=rr(t.firestore,ps),n=Ep(e),r=new pw(e);return eR(t._query),Sj(n,t._query).then(i=>new rR(e,r,t,i))}function o0(t,e,n){t=rr(t,an);const r=rr(t.firestore,ps),i=Hj(t.converter,e,n);return iR(r,[Nj(aw(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Fr.none())])}function bn(t,e,n,...r){t=rr(t,an);const i=rr(t.firestore,ps),o=aw(i);let s;return s=typeof(e=Xe(e))=="string"||e instanceof Cp?Mj(o,"updateDoc",t._key,e,n,r):$j(o,"updateDoc",t._key,e),iR(i,[s.toMutation(t._key,Fr.exists(!0))])}function _p(t,...e){var n,r,i;t=Xe(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||LS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(LS(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof an)u=rr(t.firestore,ps),c=up(t._key.path),l={next:d=>{e[s]&&e[s](oR(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=rr(t,Ss);u=rr(d.firestore,ps),c=d._query;const f=new pw(u);l={next:m=>{e[s]&&e[s](new rR(u,f,d,m))},error:e[s+1],complete:e[s+2]},eR(t._query)}return function(d,f,m,v){const w=new ow(v),C=new rw(f,w,m);return d.asyncQueue.enqueueAndForget(async()=>ew(await ih(d),C)),()=>{w.Dc(),d.asyncQueue.enqueueAndForget(async()=>tw(await ih(d),C))}}(Ep(u),c,a,l)}function iR(t,e){return function(n,r){const i=new si;return n.asyncQueue.enqueueAndForget(async()=>aj(await Ej(n),r,i)),i.promise}(Ep(t),e)}function oR(t,e,n){const r=n.docs.get(e._key),i=new pw(t);return new nR(t,i,e._key,r,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(){return new wc("deleteField")}function ai(){return new lw("serverTimestamp")}function jS(...t){return new Aj("arrayUnion",t)}(function(t,e=!0){(function(n){Qa=n})(vs),as(new co("firestore",(n,{instanceIdentifier:r,options:i})=>{const o=n.getProvider("app").getImmediate(),s=new ps(new K6(n.getProvider("auth-internal")),new J6(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new G(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(a.options.projectId,l)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),Mr(tS,"3.13.0",t),Mr(tS,"3.13.0","esm2017")})();const Qj={apiKey:"AIzaSyC14M35sCCMuV9llecRL_uM2G9z2HuB3AE",authDomain:"chat-app-abb23.firebaseapp.com",projectId:"chat-app-abb23",storageBucket:"chat-app-abb23.appspot.com",messagingSenderId:"956425406706",appId:"1:956425406706:web:a18ad0349bed7c07a6a86b"},Xj=UT(Qj),xp=xD(),sR=M3(),tt=Ij(Xj),Vr=h.createContext(),Yj=({children:t})=>{const[e,n]=h.useState({});return h.useEffect(()=>{const r=fL(xp,i=>{n(i)});return()=>{r()}},[]),O.jsx(Vr.Provider,{value:{currentUser:e},children:t})};var aR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},US=Y.createContext&&Y.createContext(aR),ao=globalThis&&globalThis.__assign||function(){return ao=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ao.apply(this,arguments)},Jj=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function lR(t){return t&&t.map(function(e,n){return Y.createElement(e.tag,ao({key:n},e.attr),lR(e.child))})}function Sr(t){return function(e){return Y.createElement(Zj,ao({attr:ao({},t.attr)},e),lR(t.child))}}function Zj(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=Jj(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Y.createElement("svg",ao({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:ao(ao({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&Y.createElement("title",null,o),t.children)};return US!==void 0?Y.createElement(US.Consumer,null,function(n){return e(n)}):e(aR)}function e8(t){return Sr({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"}}]})(t)}const bs=h.createContext();function t8({children:t}){const e={chatid:"",userinfor:{},isFriend:!1,isSendRequest:!1},n=(o,s)=>{switch(s.type){case"change_user":return{userinfor:s.payload.userinfor,chatid:s.payload.chatid,isFriend:s.payload.isFriend,isSendRequest:s.payload.isSendRequest}}},[r,i]=h.useReducer(n,e);return O.jsx(bs.Provider,{value:{currentChat:r,dispatch:i},children:t})}function Hr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function De(t){"@babel/helpers - typeof";return De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(t)}function n8(t,e){if(De(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(De(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uR(t){var e=n8(t,"string");return De(e)==="symbol"?e:String(e)}function zS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uR(r.key),r)}}function Wr(t,e,n){return e&&zS(t.prototype,e),n&&zS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s0(t,e){return s0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s0(t,e)}function Tp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s0(t,e)}function sh(t){return sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sh(t)}function r8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ah(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i8(t,e){if(e&&(De(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ah(t)}function Ip(t){var e=r8();return function(){var r=sh(t),i;if(e){var o=sh(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return i8(this,i)}}var cR={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(cR);var o8=cR.exports;const oe=K0(o8);function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ye.apply(this,arguments)}var dR={exports:{}},Ae={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jt=typeof Symbol=="function"&&Symbol.for,mw=jt?Symbol.for("react.element"):60103,gw=jt?Symbol.for("react.portal"):60106,kp=jt?Symbol.for("react.fragment"):60107,Rp=jt?Symbol.for("react.strict_mode"):60108,Op=jt?Symbol.for("react.profiler"):60114,Np=jt?Symbol.for("react.provider"):60109,Pp=jt?Symbol.for("react.context"):60110,vw=jt?Symbol.for("react.async_mode"):60111,Ap=jt?Symbol.for("react.concurrent_mode"):60111,$p=jt?Symbol.for("react.forward_ref"):60112,Mp=jt?Symbol.for("react.suspense"):60113,s8=jt?Symbol.for("react.suspense_list"):60120,Lp=jt?Symbol.for("react.memo"):60115,Dp=jt?Symbol.for("react.lazy"):60116,a8=jt?Symbol.for("react.block"):60121,l8=jt?Symbol.for("react.fundamental"):60117,u8=jt?Symbol.for("react.responder"):60118,c8=jt?Symbol.for("react.scope"):60119;function Gn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mw:switch(t=t.type,t){case vw:case Ap:case kp:case Op:case Rp:case Mp:return t;default:switch(t=t&&t.$$typeof,t){case Pp:case $p:case Dp:case Lp:case Np:return t;default:return e}}case gw:return e}}}function fR(t){return Gn(t)===Ap}Ae.AsyncMode=vw;Ae.ConcurrentMode=Ap;Ae.ContextConsumer=Pp;Ae.ContextProvider=Np;Ae.Element=mw;Ae.ForwardRef=$p;Ae.Fragment=kp;Ae.Lazy=Dp;Ae.Memo=Lp;Ae.Portal=gw;Ae.Profiler=Op;Ae.StrictMode=Rp;Ae.Suspense=Mp;Ae.isAsyncMode=function(t){return fR(t)||Gn(t)===vw};Ae.isConcurrentMode=fR;Ae.isContextConsumer=function(t){return Gn(t)===Pp};Ae.isContextProvider=function(t){return Gn(t)===Np};Ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mw};Ae.isForwardRef=function(t){return Gn(t)===$p};Ae.isFragment=function(t){return Gn(t)===kp};Ae.isLazy=function(t){return Gn(t)===Dp};Ae.isMemo=function(t){return Gn(t)===Lp};Ae.isPortal=function(t){return Gn(t)===gw};Ae.isProfiler=function(t){return Gn(t)===Op};Ae.isStrictMode=function(t){return Gn(t)===Rp};Ae.isSuspense=function(t){return Gn(t)===Mp};Ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===kp||t===Ap||t===Op||t===Rp||t===Mp||t===s8||typeof t=="object"&&t!==null&&(t.$$typeof===Dp||t.$$typeof===Lp||t.$$typeof===Np||t.$$typeof===Pp||t.$$typeof===$p||t.$$typeof===l8||t.$$typeof===u8||t.$$typeof===c8||t.$$typeof===a8)};Ae.typeOf=Gn;dR.exports=Ae;var hR=dR.exports;function lh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return Y.Children.forEach(t,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?n=n.concat(lh(r)):hR.isFragment(r)&&r.props?n=n.concat(lh(r.props.children,e)):n.push(r))}),n}var a0={},d8=function(e){};function f8(t,e){}function h8(t,e){}function p8(){a0={}}function pR(t,e,n){!e&&!a0[n]&&(t(!1,n),a0[n]=!0)}function Un(t,e){pR(f8,t,e)}function m8(t,e){pR(h8,t,e)}Un.preMessage=d8;Un.resetWarned=p8;Un.noteOnce=m8;function ce(t,e,n){return e=uR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BS(Object(n),!0).forEach(function(r){ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yw(t,e,n){var r=h.useRef({});return(!("value"in r.current)||n(r.current.condition,e))&&(r.current.value=t(),r.current.condition=e),r.current.value}function ww(t,e){typeof t=="function"?t(e):De(t)==="object"&&t&&"current"in t&&(t.current=e)}function Ec(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.filter(function(i){return i});return r.length<=1?r[0]:function(i){e.forEach(function(o){ww(o,i)})}}function mR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return yw(function(){return Ec.apply(void 0,e)},e,function(r,i){return r.length===i.length&&r.every(function(o,s){return o===i[s]})})}function Cc(t){var e,n,r=hR.isMemo(t)?t.type.type:t.type;return!(typeof r=="function"&&!((e=r.prototype)!==null&&e!==void 0&&e.render)||typeof t=="function"&&!((n=t.prototype)!==null&&n!==void 0&&n.render))}function uh(t){return t instanceof HTMLElement||t instanceof SVGElement}function l0(t){return uh(t)?t:t instanceof Y.Component?$f.findDOMNode(t):null}var gR=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},e}()}(),u0=typeof window<"u"&&typeof document<"u"&&window.document===document,ch=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),g8=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ch):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),v8=2;function y8(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){g8(o)}function a(){var l=Date.now();if(n){if(l-i<v8)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=l}return a}var w8=20,E8=["top","right","bottom","left","width","height","size","weight"],C8=typeof MutationObserver<"u",S8=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=y8(this.refresh.bind(this),w8)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!u0||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),C8?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!u0||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=E8.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),vR=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Aa=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ch},yR=Fp(0,0,0,0);function dh(t){return parseFloat(t)||0}function VS(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+dh(o)},0)}function b8(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],s=t["padding-"+o];n[o]=dh(s)}return n}function _8(t){var e=t.getBBox();return Fp(0,0,e.width,e.height)}function x8(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return yR;var r=Aa(t).getComputedStyle(t),i=b8(r),o=i.left+i.right,s=i.top+i.bottom,a=dh(r.width),l=dh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=VS(r,"left","right")+o),Math.round(l+s)!==n&&(l-=VS(r,"top","bottom")+s)),!I8(t)){var u=Math.round(a+o)-e,c=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return Fp(i.left,i.top,a,l)}var T8=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Aa(t).SVGGraphicsElement}:function(t){return t instanceof Aa(t).SVGElement&&typeof t.getBBox=="function"}}();function I8(t){return t===Aa(t).document.documentElement}function k8(t){return u0?T8(t)?_8(t):x8(t):yR}function R8(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return vR(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}function Fp(t,e,n,r){return{x:t,y:e,width:n,height:r}}var O8=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Fp(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=k8(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),N8=function(){function t(e,n){var r=R8(n);vR(this,{target:e,contentRect:r})}return t}(),P8=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new gR,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Aa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new O8(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Aa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new N8(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),wR=typeof WeakMap<"u"?new WeakMap:new gR,ER=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=S8.getInstance(),r=new P8(e,n,this);wR.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){ER.prototype[t]=function(){var e;return(e=wR.get(this))[t].apply(e,arguments)}});var A8=function(){return typeof ch.ResizeObserver<"u"?ch.ResizeObserver:ER}(),Gi=new Map;function $8(t){t.forEach(function(e){var n,r=e.target;(n=Gi.get(r))===null||n===void 0||n.forEach(function(i){return i(r)})})}var CR=new A8($8);function M8(t,e){Gi.has(t)||(Gi.set(t,new Set),CR.observe(t)),Gi.get(t).add(e)}function L8(t,e){Gi.has(t)&&(Gi.get(t).delete(e),Gi.get(t).size||(CR.unobserve(t),Gi.delete(t)))}var D8=function(t){Tp(n,t);var e=Ip(n);function n(){return Hr(this,n),e.apply(this,arguments)}return Wr(n,[{key:"render",value:function(){return this.props.children}}]),n}(h.Component),c0=h.createContext(null);function F8(t){var e=t.children,n=t.onBatchResize,r=h.useRef(0),i=h.useRef([]),o=h.useContext(c0),s=h.useCallback(function(a,l,u){r.current+=1;var c=r.current;i.current.push({size:a,element:l,data:u}),Promise.resolve().then(function(){c===r.current&&(n==null||n(i.current),i.current=[])}),o==null||o(a,l,u)},[n,o]);return h.createElement(c0.Provider,{value:s},e)}function j8(t,e){var n=t.children,r=t.disabled,i=h.useRef(null),o=h.useRef(null),s=h.useContext(c0),a=typeof n=="function",l=a?n(i):n,u=h.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),c=!a&&h.isValidElement(l)&&Cc(l),d=c?l.ref:null,f=h.useMemo(function(){return Ec(d,i)},[d,i]),m=function(){return l0(i.current)||l0(o.current)};h.useImperativeHandle(e,function(){return m()});var v=h.useRef(t);v.current=t;var w=h.useCallback(function(C){var g=v.current,p=g.onResize,y=g.data,E=C.getBoundingClientRect(),S=E.width,_=E.height,b=C.offsetWidth,x=C.offsetHeight,N=Math.floor(S),k=Math.floor(_);if(u.current.width!==N||u.current.height!==k||u.current.offsetWidth!==b||u.current.offsetHeight!==x){var M={width:N,height:k,offsetWidth:b,offsetHeight:x};u.current=M;var I=b===Math.round(S)?S:b,T=x===Math.round(_)?_:x,R=F(F({},M),{},{offsetWidth:I,offsetHeight:T});s==null||s(R,C,y),p&&Promise.resolve().then(function(){p(R,C)})}},[]);return h.useEffect(function(){var C=m();return C&&!r&&M8(C,w),function(){return L8(C,w)}},[i.current,r]),h.createElement(D8,{ref:o},c?h.cloneElement(l,{ref:f}):l)}var U8=h.forwardRef(j8),z8="rc-observer-key";function B8(t,e){var n=t.children,r=typeof n=="function"?[n]:lh(n);return r.map(function(i,o){var s=(i==null?void 0:i.key)||"".concat(z8,"-").concat(o);return h.createElement(U8,ye({},t,{key:s,ref:o===0?e:void 0}),i)})}var Ew=h.forwardRef(B8);Ew.Collection=F8;function V8(t,e){var n=F({},t);return Array.isArray(e)&&e.forEach(function(r){delete n[r]}),n}function d0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H8(t){if(Array.isArray(t))return d0(t)}function SR(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cw(t,e){if(t){if(typeof t=="string")return d0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d0(t,e)}}function W8(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function re(t){return H8(t)||SR(t)||Cw(t)||W8()}var bR=function(e){return+setTimeout(e,16)},_R=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(bR=function(e){return window.requestAnimationFrame(e)},_R=function(e){return window.cancelAnimationFrame(e)});var HS=0,Sw=new Map;function xR(t){Sw.delete(t)}var mo=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;HS+=1;var r=HS;function i(o){if(o===0)xR(r),e();else{var s=bR(function(){i(o-1)});Sw.set(r,s)}}return i(n),r};mo.cancel=function(t){var e=Sw.get(t);return xR(e),_R(e)};function bw(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}function q8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function In(t,e){if(t==null)return{};var n=q8(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(o,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(o);if(Un(!l,"Warning: There may be circular references"),l)return!1;if(o===s)return!0;if(n&&a>1)return!1;r.add(o);var u=a+1;if(Array.isArray(o)){if(!Array.isArray(s)||o.length!==s.length)return!1;for(var c=0;c<o.length;c++)if(!i(o[c],s[c],u))return!1;return!0}if(o&&s&&De(o)==="object"&&De(s)==="object"){var d=Object.keys(o);return d.length!==Object.keys(s).length?!1:d.every(function(f){return i(o[f],s[f],u)})}return!1}return i(t,e)}var K8=function(){function t(e){Hr(this,t),ce(this,"instanceId",void 0),ce(this,"cache",new Map),this.instanceId=e}return Wr(t,[{key:"get",value:function(n){return this.cache.get(n.join("%"))||null}},{key:"update",value:function(n,r){var i=n.join("%"),o=this.cache.get(i),s=r(o);s===null?this.cache.delete(i):this.cache.set(i,s)}}]),t}(),f0="data-token-hash",ma="data-css-hash",Zs="__cssinjs_instance__";function Q8(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(ma,"]"))||[],n=document.head.firstChild;Array.from(e).forEach(function(i){i[Zs]=i[Zs]||t,i[Zs]===t&&document.head.insertBefore(i,n)});var r={};Array.from(document.querySelectorAll("style[".concat(ma,"]"))).forEach(function(i){var o=i.getAttribute(ma);if(r[o]){if(i[Zs]===t){var s;(s=i.parentNode)===null||s===void 0||s.removeChild(i)}}else r[o]=!0})}return new K8(t)}var X8=h.createContext({hashPriority:"low",cache:Q8(),defaultCache:!0});const _w=X8;function Vn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function h0(t,e){if(!t)return!1;if(t.contains)return t.contains(e);for(var n=e;n;){if(n===t)return!0;n=n.parentNode}return!1}var WS="data-rc-order",Y8="rc-util-key",p0=new Map;function TR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Y8}function jp(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function J8(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function IR(t){return Array.from((p0.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function kR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Vn())return null;var n=e.csp,r=e.prepend,i=document.createElement("style");i.setAttribute(WS,J8(r)),n!=null&&n.nonce&&(i.nonce=n==null?void 0:n.nonce),i.innerHTML=t;var o=jp(e),s=o.firstChild;if(r){if(r==="queue"){var a=IR(o).filter(function(l){return["prepend","prependQueue"].includes(l.getAttribute(WS))});if(a.length)return o.insertBefore(i,a[a.length-1].nextSibling),i}o.insertBefore(i,s)}else o.appendChild(i);return i}function RR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=jp(e);return IR(n).find(function(r){return r.getAttribute(TR(e))===t})}function fh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=RR(t,e);if(n){var r=jp(e);r.removeChild(n)}}function Z8(t,e){var n=p0.get(t);if(!n||!h0(document,n)){var r=kR("",e),i=r.parentNode;p0.set(t,i),t.removeChild(r)}}function $a(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=jp(n);Z8(r,n);var i=RR(e,n);if(i){var o,s;if((o=n.csp)!==null&&o!==void 0&&o.nonce&&i.nonce!==((s=n.csp)===null||s===void 0?void 0:s.nonce)){var a;i.nonce=(a=n.csp)===null||a===void 0?void 0:a.nonce}return i.innerHTML!==t&&(i.innerHTML=t),i}var l=kR(t,n);return l.setAttribute(TR(n),e),l}function hh(t){var e="";return Object.keys(t).forEach(function(n){var r=t[n];e+=n,r&&De(r)==="object"?e+=hh(r):e+=r}),e}function e9(t,e){return bw("".concat(e,"_").concat(hh(t)))}var eu="layer-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),OR="903px";function t9(t,e){if(Vn()){var n;$a(t,eu);var r=document.createElement("div");r.style.position="fixed",r.style.left="0",r.style.top="0",e==null||e(r),document.body.appendChild(r);var i=getComputedStyle(r).width===OR;return(n=r.parentNode)===null||n===void 0||n.removeChild(r),fh(eu),i}return!1}var lg=void 0;function n9(){return lg===void 0&&(lg=t9("@layer ".concat(eu," { .").concat(eu," { width: ").concat(OR,"!important; } }"),function(t){t.className=eu})),lg}function NR(t){if(Array.isArray(t))return t}function r9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function PR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(t,e){return NR(t)||r9(t,e)||Cw(t,e)||PR()}function AR(t,e,n,r){var i=h.useContext(_w),o=i.cache,s=[t].concat(re(e));return h.useMemo(function(){o.update(s,function(a){var l=a||[],u=q(l,2),c=u[0],d=c===void 0?0:c,f=u[1],m=f,v=m||n();return[d+1,v]})},[s.join("_")]),h.useEffect(function(){return function(){o.update(s,function(a){var l=a||[],u=q(l,2),c=u[0],d=c===void 0?0:c,f=u[1],m=d-1;return m===0?(r==null||r(f,!1),null):[d-1,f]})}},s),o.get(s)[1]}var i9={},o9="css",Do=new Map;function s9(t){Do.set(t,(Do.get(t)||0)+1)}function a9(t,e){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(f0,'="').concat(t,'"]'));n.forEach(function(r){if(r[Zs]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}function l9(t,e){Do.set(t,(Do.get(t)||0)-1);var n=Array.from(Do.keys()),r=n.filter(function(i){var o=Do.get(i)||0;return o<=0});r.length<n.length&&r.forEach(function(i){a9(i,e),Do.delete(i)})}var $R=function(e,n,r,i){var o=r.getDerivativeToken(e),s=F(F({},o),n);return i&&(s=i(s)),s};function u9(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=h.useContext(_w),i=r.cache.instanceId,o=n.salt,s=o===void 0?"":o,a=n.override,l=a===void 0?i9:a,u=n.formatToken,c=h.useMemo(function(){return Object.assign.apply(Object,[{}].concat(re(e)))},[e]),d=h.useMemo(function(){return hh(c)},[c]),f=h.useMemo(function(){return hh(l)},[l]),m=AR("token",[s,t.id,d,f],function(){var v=$R(c,l,t,u),w=e9(v,s);v._tokenKey=w,s9(w);var C="".concat(o9,"-").concat(bw(w));return v._hashId=C,[v,C]},function(v){l9(v[0]._tokenKey,i)});return m}var c9={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},MR="comm",LR="rule",DR="decl",d9="@import",f9="@keyframes",h9="@layer",p9=Math.abs,xw=String.fromCharCode;function FR(t){return t.trim()}function ef(t,e,n){return t.replace(e,n)}function m9(t,e){return t.indexOf(e)}function Uu(t,e){return t.charCodeAt(e)|0}function zu(t,e,n){return t.slice(e,n)}function Mi(t){return t.length}function jR(t){return t.length}function Sd(t,e){return e.push(t),t}var Up=1,Ma=1,UR=0,sr=0,bt=0,Za="";function Tw(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Up,column:Ma,length:s,return:""}}function g9(){return bt}function v9(){return bt=sr>0?Uu(Za,--sr):0,Ma--,bt===10&&(Ma=1,Up--),bt}function vr(){return bt=sr<UR?Uu(Za,sr++):0,Ma++,bt===10&&(Ma=1,Up++),bt}function Zo(){return Uu(Za,sr)}function tf(){return sr}function zp(t,e){return zu(Za,t,e)}function m0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function y9(t){return Up=Ma=1,UR=Mi(Za=t),sr=0,[]}function w9(t){return Za="",t}function ug(t){return FR(zp(sr-1,g0(t===91?t+2:t===40?t+1:t)))}function E9(t){for(;(bt=Zo())&&bt<33;)vr();return m0(t)>2||m0(bt)>3?"":" "}function C9(t,e){for(;--e&&vr()&&!(bt<48||bt>102||bt>57&&bt<65||bt>70&&bt<97););return zp(t,tf()+(e<6&&Zo()==32&&vr()==32))}function g0(t){for(;vr();)switch(bt){case t:return sr;case 34:case 39:t!==34&&t!==39&&g0(bt);break;case 40:t===41&&g0(t);break;case 92:vr();break}return sr}function S9(t,e){for(;vr()&&t+bt!==47+10;)if(t+bt===42+42&&Zo()===47)break;return"/*"+zp(e,sr-1)+"*"+xw(t===47?t:vr())}function b9(t){for(;!m0(Zo());)vr();return zp(t,sr)}function _9(t){return w9(nf("",null,null,null,[""],t=y9(t),0,[0],t))}function nf(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,d=s,f=0,m=0,v=0,w=1,C=1,g=1,p=0,y="",E=i,S=o,_=r,b=y;C;)switch(v=p,p=vr()){case 40:if(v!=108&&Uu(b,d-1)==58){m9(b+=ef(ug(p),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:b+=ug(p);break;case 9:case 10:case 13:case 32:b+=E9(v);break;case 92:b+=C9(tf()-1,7);continue;case 47:switch(Zo()){case 42:case 47:Sd(x9(S9(vr(),tf()),e,n),l);break;default:b+="/"}break;case 123*w:a[u++]=Mi(b)*g;case 125*w:case 59:case 0:switch(p){case 0:case 125:C=0;case 59+c:g==-1&&(b=ef(b,/\f/g,"")),m>0&&Mi(b)-d&&Sd(m>32?GS(b+";",r,n,d-1):GS(ef(b," ","")+";",r,n,d-2),l);break;case 59:b+=";";default:if(Sd(_=qS(b,e,n,u,c,i,a,y,E=[],S=[],d),o),p===123)if(c===0)nf(b,e,_,_,E,o,d,a,S);else switch(f===99&&Uu(b,3)===110?100:f){case 100:case 108:case 109:case 115:nf(t,_,_,r&&Sd(qS(t,_,_,0,0,i,a,y,i,E=[],d),S),i,S,d,a,r?E:S);break;default:nf(b,_,_,_,[""],S,0,a,S)}}u=c=m=0,w=g=1,y=b="",d=s;break;case 58:d=1+Mi(b),m=v;default:if(w<1){if(p==123)--w;else if(p==125&&w++==0&&v9()==125)continue}switch(b+=xw(p),p*w){case 38:g=c>0?1:(b+="\f",-1);break;case 44:a[u++]=(Mi(b)-1)*g,g=1;break;case 64:Zo()===45&&(b+=ug(vr())),f=Zo(),c=d=Mi(y=b+=b9(tf())),p++;break;case 45:v===45&&Mi(b)==2&&(w=0)}}return o}function qS(t,e,n,r,i,o,s,a,l,u,c){for(var d=i-1,f=i===0?o:[""],m=jR(f),v=0,w=0,C=0;v<r;++v)for(var g=0,p=zu(t,d+1,d=p9(w=s[v])),y=t;g<m;++g)(y=FR(w>0?f[g]+" "+p:ef(p,/&\f/g,f[g])))&&(l[C++]=y);return Tw(t,e,n,i===0?LR:a,l,u,c)}function x9(t,e,n){return Tw(t,e,n,MR,xw(g9()),zu(t,2,-2),0)}function GS(t,e,n,r){return Tw(t,e,n,DR,zu(t,0,r),zu(t,r+1,-1),r)}function v0(t,e){for(var n="",r=jR(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function T9(t,e,n,r){switch(t.type){case h9:if(t.children.length)break;case d9:case DR:return t.return=t.return||t.value;case MR:return"";case f9:return t.return=t.value+"{"+v0(t.children,r)+"}";case LR:t.value=t.props.join(",")}return Mi(n=v0(t.children,r))?t.return=t.value+"{"+n+"}":""}var KS=Vn(),I9="_skip_check_",zR="_multi_value_";function QS(t){var e=v0(_9(t),T9);return e.replace(/\{%%%\:[^;];}/g,";")}function k9(t){return De(t)==="object"&&t&&(I9 in t||zR in t)}function R9(t,e,n){if(!e)return t;var r=".".concat(e),i=n==="low"?":where(".concat(r,")"):r,o=t.split(",").map(function(s){var a,l=s.trim().split(/\s+/),u=l[0]||"",c=((a=u.match(/^\w+/))===null||a===void 0?void 0:a[0])||"";return u="".concat(c).concat(i).concat(u.slice(c.length)),[u].concat(re(l.slice(1))).join(" ")});return o.join(",")}var O9=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,o=r.injectHash,s=r.parentSelectors,a=n.hashId,l=n.layer;n.path;var u=n.hashPriority,c=n.transformers,d=c===void 0?[]:c;n.linters;var f="",m={};function v(y){var E=y.getName(a);if(!m[E]){var S=t(y.style,n,{root:!1,parentSelectors:s}),_=q(S,1),b=_[0];m[E]="@keyframes ".concat(y.getName(a)).concat(b)}}function w(y){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return y.forEach(function(S){Array.isArray(S)?w(S,E):S&&E.push(S)}),E}var C=w(Array.isArray(e)?e:[e]);if(C.forEach(function(y){var E=typeof y=="string"&&!i?{}:y;if(typeof E=="string")f+="".concat(E,`
`);else if(E._keyframe)v(E);else{var S=d.reduce(function(_,b){var x;return(b==null||(x=b.visit)===null||x===void 0?void 0:x.call(b,_))||_},E);Object.keys(S).forEach(function(_){var b=S[_];if(De(b)==="object"&&b&&(_!=="animationName"||!b._keyframe)&&!k9(b)){var x=!1,N=_.trim(),k=!1;(i||o)&&a?N.startsWith("@")?x=!0:N=R9(_,a,u):i&&!a&&(N==="&"||N==="")&&(N="",k=!0);var M=t(b,n,{root:k,injectHash:x,parentSelectors:[].concat(re(s),[N])}),I=q(M,2),T=I[0],R=I[1];m=F(F({},m),R),f+="".concat(N).concat(T)}else{let A=function(j,U){var V=j.replace(/[A-Z]/g,function(Q){return"-".concat(Q.toLowerCase())}),H=U;!c9[j]&&typeof H=="number"&&H!==0&&(H="".concat(H,"px")),j==="animationName"&&U!==null&&U!==void 0&&U._keyframe&&(v(U),H=U.getName(a)),f+="".concat(V,":").concat(H,";")};var L=A,P,$=(P=b==null?void 0:b.value)!==null&&P!==void 0?P:b;De(b)==="object"&&b!==null&&b!==void 0&&b[zR]&&Array.isArray($)?$.forEach(function(j){A(_,j)}):A(_,$)}})}}),!i)f="{".concat(f,"}");else if(l&&n9()){var g=l.split(","),p=g[g.length-1].trim();f="@layer ".concat(p," {").concat(f,"}"),g.length>1&&(f="@layer ".concat(l,"{%%%:%}").concat(f))}return[f,m]};function N9(t,e){return bw("".concat(t.join("%")).concat(e))}function P9(){return null}function y0(t,e){var n=t.token,r=t.path,i=t.hashId,o=t.layer,s=t.nonce,a=h.useContext(_w),l=a.autoClear;a.mock;var u=a.defaultCache,c=a.hashPriority,d=a.container,f=a.ssrInline,m=a.transformers,v=a.linters,w=a.cache,C=n._tokenKey,g=[C].concat(re(r)),p=KS,y=AR("style",g,function(){var x=e(),N=O9(x,{hashId:i,hashPriority:c,layer:o,path:r.join("-"),transformers:m,linters:v}),k=q(N,2),M=k[0],I=k[1],T=QS(M),R=N9(g,T);if(p){var P={mark:ma,prepend:"queue",attachTo:d},$=typeof s=="function"?s():s;$&&(P.csp={nonce:$});var L=$a(T,R,P);L[Zs]=w.instanceId,L.setAttribute(f0,C),Object.keys(I).forEach(function(A){$a(QS(I[A]),"_effect-".concat(A),P)})}return[T,C,R]},function(x,N){var k=q(x,3),M=k[2];(N||l)&&KS&&fh(M,{mark:ma})}),E=q(y,3),S=E[0],_=E[1],b=E[2];return function(x){var N;if(!f||p||!u)N=h.createElement(P9,null);else{var k;N=h.createElement("style",ye({},(k={},ce(k,f0,_),ce(k,ma,b),k),{dangerouslySetInnerHTML:{__html:S}}))}return h.createElement(h.Fragment,null,N,x)}}var kn=function(){function t(e,n){Hr(this,t),ce(this,"name",void 0),ce(this,"style",void 0),ce(this,"_keyframe",!0),this.name=e,this.style=n}return Wr(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function A9(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var Iw=function(){function t(){Hr(this,t),ce(this,"cache",void 0),ce(this,"keys",void 0),ce(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Wr(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var r,i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s={map:this.cache};return n.forEach(function(a){if(!s)s=void 0;else{var l,u;s=(l=s)===null||l===void 0||(u=l.map)===null||u===void 0?void 0:u.get(a)}}),(r=s)!==null&&r!==void 0&&r.value&&o&&(s.value[1]=this.cacheCallTimes++),(i=s)===null||i===void 0?void 0:i.value}},{key:"get",value:function(n){var r;return(r=this.internalGet(n,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,r){var i=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var o=this.keys.reduce(function(u,c){var d=q(u,2),f=d[1];return i.internalGet(c)[1]<f?[c,i.internalGet(c)[1]]:u},[this.keys[0],this.cacheCallTimes]),s=q(o,1),a=s[0];this.delete(a)}this.keys.push(n)}var l=this.cache;n.forEach(function(u,c){if(c===n.length-1)l.set(u,{value:[r,i.cacheCallTimes++]});else{var d=l.get(u);d?d.map||(d.map=new Map):l.set(u,{map:new Map}),l=l.get(u).map}})}},{key:"deleteByPath",value:function(n,r){var i=n.get(r[0]);if(r.length===1){var o;return i.map?n.set(r[0],{map:i.map}):n.delete(r[0]),(o=i.value)===null||o===void 0?void 0:o[0]}var s=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&n.delete(r[0]),s}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(r){return!A9(r,n)}),this.deleteByPath(this.cache,n)}}]),t}();ce(Iw,"MAX_CACHE_SIZE",20);ce(Iw,"MAX_CACHE_OFFSET",5);var XS=0,$9=function(){function t(e){Hr(this,t),ce(this,"derivatives",void 0),ce(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=XS,e.length===0&&(e.length>0,void 0),XS+=1}return Wr(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(r,i){return i(n,r)},void 0)}}]),t}(),cg=new Iw;function ph(t){var e=Array.isArray(t)?t:[t];return cg.has(e)||cg.set(e,new $9(e)),cg.get(e)}function Rs(t){return t.notSplit=!0,t}Rs(["borderTop","borderBottom"]),Rs(["borderTop"]),Rs(["borderBottom"]),Rs(["borderLeft","borderRight"]),Rs(["borderLeft"]),Rs(["borderRight"]);var M9=h.createContext({});const kw=M9;function L9(t){return NR(t)||SR(t)||Cw(t)||PR()}function pr(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function BR(t,e,n,r){if(!e.length)return n;var i=L9(e),o=i[0],s=i.slice(1),a;return!t&&typeof o=="number"?a=[]:Array.isArray(t)?a=re(t):a=F({},t),r&&n===void 0&&s.length===1?delete a[o][s[0]]:a[o]=BR(a[o],s,n,r),a}function dr(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!pr(t,e.slice(0,-1))?t:BR(t,e,n,r)}function D9(t){return De(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function YS(t){return Array.isArray(t)?[]:{}}var F9=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function ea(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=YS(e[0]);return e.forEach(function(i){function o(s,a){var l=new Set(a),u=pr(i,s),c=Array.isArray(u);if(c||D9(u)){if(!l.has(u)){l.add(u);var d=pr(r,s);c?r=dr(r,s,[]):(!d||De(d)!=="object")&&(r=dr(r,s,YS(u))),F9(u).forEach(function(f){o([].concat(re(s),[f]),l)})}}else r=dr(r,s,u)}o([])}),r}const j9=h.createContext(void 0),U9={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"};var z9={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const B9={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},VR=B9,V9={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},z9),timePickerLocale:Object.assign({},VR)},JS=V9,Nn="${label} is not a valid ${type}",H9={locale:"en",Pagination:U9,DatePicker:JS,TimePicker:VR,Calendar:JS,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Nn,method:Nn,array:Nn,object:Nn,number:Nn,date:Nn,boolean:Nn,integer:Nn,float:Nn,regexp:Nn,email:Nn,url:Nn,hex:Nn},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"},ColorPicker:{presetEmpty:"Empty"}},go=H9;let rf=Object.assign({},go.Modal);function ZS(t){t?rf=Object.assign(Object.assign({},rf),t):rf=Object.assign({},go.Modal)}function HR(){return rf}const W9=h.createContext(void 0),Rw=W9,q9=(t,e)=>{const n=h.useContext(Rw),r=h.useMemo(()=>{var o;const s=e||go[t],a=(o=n==null?void 0:n[t])!==null&&o!==void 0?o:{};return Object.assign(Object.assign({},typeof s=="function"?s():s),a||{})},[t,e,n]),i=h.useMemo(()=>{const o=n==null?void 0:n.locale;return n!=null&&n.exist&&!o?go.locale:o},[n]);return[r,i]},Ow=q9,G9="internalMark",K9=t=>{const{locale:e={},children:n,_ANT_MARK__:r}=t;h.useEffect(()=>(ZS(e&&e.Modal),()=>{ZS()}),[e]);const i=h.useMemo(()=>Object.assign(Object.assign({},e),{exist:!0}),[e]);return h.createElement(Rw.Provider,{value:i},n)},Q9=K9,X9="5.6.3",mh=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Gt(t,e){Y9(t)&&(t="100%");var n=J9(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function bd(t){return Math.min(1,Math.max(0,t))}function Y9(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function J9(t){return typeof t=="string"&&t.indexOf("%")!==-1}function WR(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function _d(t){return t<=1?"".concat(Number(t)*100,"%"):t}function Ho(t){return t.length===1?"0"+t:String(t)}function Z9(t,e,n){return{r:Gt(t,255)*255,g:Gt(e,255)*255,b:Gt(n,255)*255}}function eb(t,e,n){t=Gt(t,255),e=Gt(e,255),n=Gt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=0,a=(r+i)/2;if(r===i)s=0,o=0;else{var l=r-i;switch(s=a>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s,l:a}}function dg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function eU(t,e,n){var r,i,o;if(t=Gt(t,360),e=Gt(e,100),n=Gt(n,100),e===0)i=n,o=n,r=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;r=dg(a,s,t+1/3),i=dg(a,s,t),o=dg(a,s,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function w0(t,e,n){t=Gt(t,255),e=Gt(e,255),n=Gt(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,s=r,a=r-i,l=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:l,v:s}}function tU(t,e,n){t=Gt(t,360)*6,e=Gt(e,100),n=Gt(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),s=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,s,o,o,a,n][l],c=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:u*255,g:c*255,b:d*255}}function E0(t,e,n,r){var i=[Ho(Math.round(t).toString(16)),Ho(Math.round(e).toString(16)),Ho(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function nU(t,e,n,r,i){var o=[Ho(Math.round(t).toString(16)),Ho(Math.round(e).toString(16)),Ho(Math.round(n).toString(16)),Ho(rU(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function rU(t){return Math.round(parseFloat(t)*255).toString(16)}function tb(t){return An(t)/255}function An(t){return parseInt(t,16)}function iU(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var C0={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Fs(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;return typeof t=="string"&&(t=aU(t)),typeof t=="object"&&(Qr(t.r)&&Qr(t.g)&&Qr(t.b)?(e=Z9(t.r,t.g,t.b),s=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Qr(t.h)&&Qr(t.s)&&Qr(t.v)?(r=_d(t.s),i=_d(t.v),e=tU(t.h,r,i),s=!0,a="hsv"):Qr(t.h)&&Qr(t.s)&&Qr(t.l)&&(r=_d(t.s),o=_d(t.l),e=eU(t.h,r,o),s=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=WR(n),{ok:s,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var oU="[-\\+]?\\d+%?",sU="[-\\+]?\\d*\\.\\d+%?",Ki="(?:".concat(sU,")|(?:").concat(oU,")"),fg="[\\s|\\(]+(".concat(Ki,")[,|\\s]+(").concat(Ki,")[,|\\s]+(").concat(Ki,")\\s*\\)?"),hg="[\\s|\\(]+(".concat(Ki,")[,|\\s]+(").concat(Ki,")[,|\\s]+(").concat(Ki,")[,|\\s]+(").concat(Ki,")\\s*\\)?"),lr={CSS_UNIT:new RegExp(Ki),rgb:new RegExp("rgb"+fg),rgba:new RegExp("rgba"+hg),hsl:new RegExp("hsl"+fg),hsla:new RegExp("hsla"+hg),hsv:new RegExp("hsv"+fg),hsva:new RegExp("hsva"+hg),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function aU(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(C0[t])t=C0[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=lr.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=lr.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=lr.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=lr.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=lr.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=lr.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=lr.hex8.exec(t),n?{r:An(n[1]),g:An(n[2]),b:An(n[3]),a:tb(n[4]),format:e?"name":"hex8"}:(n=lr.hex6.exec(t),n?{r:An(n[1]),g:An(n[2]),b:An(n[3]),format:e?"name":"hex"}:(n=lr.hex4.exec(t),n?{r:An(n[1]+n[1]),g:An(n[2]+n[2]),b:An(n[3]+n[3]),a:tb(n[4]+n[4]),format:e?"name":"hex8"}:(n=lr.hex3.exec(t),n?{r:An(n[1]+n[1]),g:An(n[2]+n[2]),b:An(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Qr(t){return!!lr.CSS_UNIT.exec(String(t))}var mt=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=iU(e)),this.originalInput=e;var i=Fs(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,s=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=WR(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=w0(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=w0(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=eb(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=eb(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),E0(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),nU(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(Gt(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(Gt(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+E0(this.r,this.g,this.b,!1),n=0,r=Object.entries(C0);n<r.length;n++){var i=r[n],o=i[0],s=i[1];if(e===s)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=bd(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=bd(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=bd(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=bd(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,s={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(s)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/e;e--;)s.push(new t({h:r,s:i,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,s=1;s<e;s++)i.push(new t({h:(r+s*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),xd=2,nb=.16,lU=.05,uU=.05,cU=.15,qR=5,GR=4,dU=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function rb(t){var e=t.r,n=t.g,r=t.b,i=w0(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function Td(t){var e=t.r,n=t.g,r=t.b;return"#".concat(E0(e,n,r,!1))}function fU(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function ib(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-xd*e:Math.round(t.h)+xd*e:r=n?Math.round(t.h)+xd*e:Math.round(t.h)-xd*e,r<0?r+=360:r>=360&&(r-=360),r}function ob(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-nb*e:e===GR?r=t.s+nb:r=t.s+lU*e,r>1&&(r=1),n&&e===qR&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function sb(t,e,n){var r;return n?r=t.v+uU*e:r=t.v-cU*e,r>1&&(r=1),Number(r.toFixed(2))}function vi(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=Fs(t),i=qR;i>0;i-=1){var o=rb(r),s=Td(Fs({h:ib(o,i,!0),s:ob(o,i,!0),v:sb(o,i,!0)}));n.push(s)}n.push(Td(r));for(var a=1;a<=GR;a+=1){var l=rb(r),u=Td(Fs({h:ib(l,a),s:ob(l,a),v:sb(l,a)}));n.push(u)}return e.theme==="dark"?dU.map(function(c){var d=c.index,f=c.opacity,m=Td(fU(Fs(e.backgroundColor||"#141414"),Fs(n[d]),f*100));return m}):n}var pg={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},of={},mg={};Object.keys(pg).forEach(function(t){of[t]=vi(pg[t]),of[t].primary=of[t][5],mg[t]=vi(pg[t],{theme:"dark",backgroundColor:"#141414"}),mg[t].primary=mg[t][5]});var hU=of.blue;const pU=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},KR=pU;function mU(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const Nw={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},gU=Object.assign(Object.assign({},Nw),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),Sc=gU;function QR(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:s,colorInfo:a,colorPrimary:l,colorBgBase:u,colorTextBase:c}=t,d=n(l),f=n(i),m=n(o),v=n(s),w=n(a),C=r(u,c);return Object.assign(Object.assign({},C),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:v[1],colorErrorBgHover:v[2],colorErrorBorder:v[3],colorErrorBorderHover:v[4],colorErrorHover:v[5],colorError:v[6],colorErrorActive:v[7],colorErrorTextHover:v[8],colorErrorText:v[9],colorErrorTextActive:v[10],colorWarningBg:m[1],colorWarningBgHover:m[2],colorWarningBorder:m[3],colorWarningBorderHover:m[4],colorWarningHover:m[4],colorWarning:m[6],colorWarningActive:m[7],colorWarningTextHover:m[8],colorWarningText:m[9],colorWarningTextActive:m[10],colorInfoBg:w[1],colorInfoBgHover:w[2],colorInfoBorder:w[3],colorInfoBorderHover:w[4],colorInfoHover:w[4],colorInfo:w[6],colorInfoActive:w[7],colorInfoTextHover:w[8],colorInfoText:w[9],colorInfoTextActive:w[10],colorBgMask:new mt("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const vU=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t>16?16:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}},yU=vU;function wU(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return Object.assign({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},yU(r))}const Xr=(t,e)=>new mt(t).setAlpha(e).toRgbString(),Cl=(t,e)=>new mt(t).darken(e).toHexString(),EU=t=>{const e=vi(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},CU=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:Xr(r,.88),colorTextSecondary:Xr(r,.65),colorTextTertiary:Xr(r,.45),colorTextQuaternary:Xr(r,.25),colorFill:Xr(r,.15),colorFillSecondary:Xr(r,.06),colorFillTertiary:Xr(r,.04),colorFillQuaternary:Xr(r,.02),colorBgLayout:Cl(n,4),colorBgContainer:Cl(n,0),colorBgElevated:Cl(n,0),colorBgSpotlight:Xr(r,.85),colorBorder:Cl(n,15),colorBorderSecondary:Cl(n,6)}};function SU(t){const e=new Array(10).fill(null).map((n,r)=>{const i=r-1,o=t*Math.pow(2.71828,i/5),s=r>1?Math.floor(o):Math.ceil(o);return Math.floor(s/2)*2});return e[1]=t,e.map(n=>{const r=n+8;return{size:n,lineHeight:r/n}})}const bU=t=>{const e=SU(t),n=e.map(i=>i.size),r=e.map(i=>i.lineHeight);return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},XR=bU;function bc(t){const e=Object.keys(Nw).map(n=>{const r=vi(t[n]);return new Array(10).fill(1).reduce((i,o,s)=>(i[`${n}-${s+1}`]=r[s],i[`${n}${s+1}`]=r[s],i),{})}).reduce((n,r)=>(n=Object.assign(Object.assign({},n),r),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),e),QR(t,{generateColorPalettes:EU,generateNeutralColorPalettes:CU})),XR(t.fontSize)),mU(t)),KR(t)),wU(t))}function gg(t){return t>=0&&t<=255}function Id(t,e){const{r:n,g:r,b:i,a:o}=new mt(t).toRgb();if(o<1)return t;const{r:s,g:a,b:l}=new mt(e).toRgb();for(let u=.01;u<=1;u+=.01){const c=Math.round((n-s*(1-u))/u),d=Math.round((r-a*(1-u))/u),f=Math.round((i-l*(1-u))/u);if(gg(c)&&gg(d)&&gg(f))return new mt({r:c,g:d,b:f,a:Math.round(u*100)/100}).toRgbString()}return new mt({r:n,g:r,b:i,a:1}).toRgbString()}var _U=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function YR(t){const{override:e}=t,n=_U(t,["override"]),r=Object.assign({},e);Object.keys(Sc).forEach(f=>{delete r[f]});const i=Object.assign(Object.assign({},n),r),o=480,s=576,a=768,l=992,u=1200,c=1600;if(i.motion===!1){const f="0s";i.motionDurationFast=f,i.motionDurationMid=f,i.motionDurationSlow=f}return Object.assign(Object.assign(Object.assign({},i),{colorLink:i.colorInfoText,colorLinkHover:i.colorInfoHover,colorLinkActive:i.colorInfoActive,colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:Id(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:Id(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:Id(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:i.lineWidth*4,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:Id(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:a-1,screenMD:a,screenMDMin:a,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:u-1,screenXL:u,screenXLMin:u,screenXLMax:c-1,screenXXL:c,screenXXLMin:c,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new mt("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new mt("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new mt("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}function Zr(t){var e=h.useRef();e.current=t;var n=h.useCallback(function(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(o))},[]);return n}var ab=Vn()?h.useLayoutEffect:h.useEffect,En=function(e,n){var r=h.useRef(!0);ab(function(){return e(r.current)},n),ab(function(){return r.current=!1,function(){r.current=!0}},[])},lb=function(e,n){En(function(r){if(!r)return e()},n)};function es(t){var e=h.useRef(!1),n=h.useState(t),r=q(n,2),i=r[0],o=r[1];h.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function s(a,l){l&&e.current||o(a)}return[i,s]}function vg(t){return t!==void 0}function gh(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=n.onChange,s=n.postState,a=es(function(){return vg(i)?i:vg(r)?typeof r=="function"?r():r:typeof t=="function"?t():t}),l=q(a,2),u=l[0],c=l[1],d=i!==void 0?i:u,f=s?s(d):d,m=Zr(o),v=es([d]),w=q(v,2),C=w[0],g=w[1];lb(function(){var y=C[0];u!==y&&m(u,y)},[C]),lb(function(){vg(i)||c(i)},[i]);var p=Zr(function(y,E){c(y,E),g([d],E)});return[f,p]}const Pw="anticon",xU=(t,e)=>e||(t?`ant-${t}`:"ant"),Rn=h.createContext({getPrefixCls:xU,iconPrefixCls:Pw}),TU=(t,e,n,r,i)=>{const o=t/2,s=0,a=o,l=n*1/Math.sqrt(2),u=o-n*(1-1/Math.sqrt(2)),c=o-e*(1/Math.sqrt(2)),d=n*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),f=2*o-c,m=d,v=2*o-l,w=u,C=2*o-s,g=a,p=o*Math.sqrt(2)+n*(Math.sqrt(2)-2),y=n*(Math.sqrt(2)-1);return{pointerEvents:"none",width:t,height:t,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:t,height:t/2,background:r,clipPath:{_multi_value_:!0,value:[`polygon(${y}px 100%, 50% ${y}px, ${2*o-y}px 100%, ${y}px 100%)`,`path('M ${s} ${a} A ${n} ${n} 0 0 0 ${l} ${u} L ${c} ${d} A ${e} ${e} 0 0 1 ${f} ${m} L ${v} ${w} A ${n} ${n} 0 0 0 ${C} ${g} Z')`]},content:'""'},"&::after":{content:'""',position:"absolute",width:p,height:p,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"}}},IU={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Aw=t=>({boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:t.fontFamily}),kU=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),RU=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),OU=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},[`&:active,
  &:hover`]:{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),NU=(t,e)=>{const{fontFamily:n,fontSize:r}=t,i=`[class^="${e}"], [class*=" ${e}"]`;return{[i]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},PU=t=>({outline:`${t.lineWidthFocus}px solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),JR=t=>({"&:focus-visible":Object.assign({},PU(t))});function _c(t,e,n,r){return i=>{const[o,s,a]=xc(),{getPrefixCls:l,iconPrefixCls:u,csp:c}=h.useContext(Rn),d=l(),f={theme:o,token:s,hashId:a,nonce:()=>c==null?void 0:c.nonce};return y0(Object.assign(Object.assign({},f),{path:["Shared",d]}),()=>[{"&":OU(s)}]),[y0(Object.assign(Object.assign({},f),{path:[t,i,u]}),()=>{const{token:m,flush:v}=$U(s),w=Object.assign({},s[t]);if(r!=null&&r.deprecatedTokens){const{deprecatedTokens:S}=r;S.forEach(_=>{let[b,x]=_;var N;(w!=null&&w[b]||w!=null&&w[x])&&((N=w[x])!==null&&N!==void 0||(w[x]=w==null?void 0:w[b]))})}const C=typeof n=="function"?n(zr(m,w??{})):n,g=Object.assign(Object.assign({},C),w),p=`.${i}`,y=zr(m,{componentCls:p,prefixCls:i,iconCls:`.${u}`,antCls:`.${d}`},g),E=e(y,{hashId:a,prefixCls:i,rootPrefixCls:d,iconPrefixCls:u,overrideComponentToken:w});return v(t,g),[(r==null?void 0:r.resetStyle)===!1?null:NU(s,i),E]}),a]}}const ZR=typeof CSSINJS_STATISTIC<"u";let S0=!0;function zr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!ZR)return Object.assign.apply(Object,[{}].concat(e));S0=!1;const r={};return e.forEach(i=>{Object.keys(i).forEach(s=>{Object.defineProperty(r,s,{configurable:!0,enumerable:!0,get:()=>i[s]})})}),S0=!0,r}function AU(){}function $U(t){let e,n=t,r=AU;return ZR&&(e=new Set,n=new Proxy(t,{get(i,o){return S0&&e.add(o),i[o]}}),r=(i,o)=>{Array.from(e)}),{token:n,keys:e,flush:r}}function MU(t,e){return mh.reduce((n,r)=>{const i=t[`${r}1`],o=t[`${r}3`],s=t[`${r}6`],a=t[`${r}7`];return Object.assign(Object.assign({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:s,textColor:a}))},{})}const LU=ph(bc),vh={token:Sc,hashed:!0},eO=Y.createContext(vh);function xc(){const{token:t,hashed:e,theme:n,components:r}=Y.useContext(eO),i=`${X9}-${e||""}`,o=n||LU,[s,a]=u9(o,[Sc,t],{salt:i,override:Object.assign({override:t},r),formatToken:YR});return[o,s,e?a:""]}const DU=`-ant-${Date.now()}-${Math.random()}`;function FU(t,e){const n={},r=(s,a)=>{let l=s.clone();return l=(a==null?void 0:a(l))||l,l.toRgbString()},i=(s,a)=>{const l=new mt(s),u=vi(l.toRgbString());n[`${a}-color`]=r(l),n[`${a}-color-disabled`]=u[1],n[`${a}-color-hover`]=u[4],n[`${a}-color-active`]=u[6],n[`${a}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),n[`${a}-color-deprecated-bg`]=u[0],n[`${a}-color-deprecated-border`]=u[2]};if(e.primaryColor){i(e.primaryColor,"primary");const s=new mt(e.primaryColor),a=vi(s.toRgbString());a.forEach((u,c)=>{n[`primary-${c+1}`]=u}),n["primary-color-deprecated-l-35"]=r(s,u=>u.lighten(35)),n["primary-color-deprecated-l-20"]=r(s,u=>u.lighten(20)),n["primary-color-deprecated-t-20"]=r(s,u=>u.tint(20)),n["primary-color-deprecated-t-50"]=r(s,u=>u.tint(50)),n["primary-color-deprecated-f-12"]=r(s,u=>u.setAlpha(u.getAlpha()*.12));const l=new mt(a[0]);n["primary-color-active-deprecated-f-30"]=r(l,u=>u.setAlpha(u.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(l,u=>u.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(s=>`--${t}-${s}: ${n[s]};`).join(`
`)}
  }
  `.trim()}function jU(t,e){const n=FU(t,e);Vn()&&$a(n,`${DU}-dynamic-theme`)}const b0=h.createContext(!1),UU=t=>{let{children:e,disabled:n}=t;const r=h.useContext(b0);return h.createElement(b0.Provider,{value:n??r},e)},tO=b0,zU=t=>{const e=Y.useContext(Bp);return Y.useMemo(()=>t?typeof t=="string"?t??e:t instanceof Function?t(e):e:e,[t,e])},nO=zU,rO=h.createContext(void 0),BU=t=>{let{children:e,size:n}=t;const r=nO(n);return h.createElement(rO.Provider,{value:r},e)},Bp=rO;function VU(){const t=h.useContext(tO),e=h.useContext(Bp);return{componentDisabled:t,componentSize:e}}function HU(t,e){const n=t||{},r=n.inherit===!1||!e?vh:e;return yw(()=>{if(!t)return e;const o=Object.assign({},r.components);return Object.keys(t.components||{}).forEach(s=>{o[s]=Object.assign(Object.assign({},o[s]),t.components[s])}),Object.assign(Object.assign(Object.assign({},r),n),{token:Object.assign(Object.assign({},r.token),n.token),components:o})},[n,r],(o,s)=>o.some((a,l)=>{const u=s[l];return!G8(a,u,!0)}))}var WU=["children"],iO=h.createContext({});function qU(t){var e=t.children,n=In(t,WU);return h.createElement(iO.Provider,{value:n},e)}var GU=function(t){Tp(n,t);var e=Ip(n);function n(){return Hr(this,n),e.apply(this,arguments)}return Wr(n,[{key:"render",value:function(){return this.props.children}}]),n}(h.Component),Lo="none",kd="appear",Rd="enter",Od="leave",ub="none",fr="prepare",ta="start",na="active",$w="end",oO="prepared";function cb(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(e),n["Moz".concat(t)]="moz".concat(e),n["ms".concat(t)]="MS".concat(e),n["O".concat(t)]="o".concat(e.toLowerCase()),n}function KU(t,e){var n={animationend:cb("Animation","AnimationEnd"),transitionend:cb("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}var QU=KU(Vn(),typeof window<"u"?window:{}),sO={};if(Vn()){var XU=document.createElement("div");sO=XU.style}var Nd={};function aO(t){if(Nd[t])return Nd[t];var e=QU[t];if(e)for(var n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(e,o)&&o in sO)return Nd[t]=e[o],Nd[t]}return""}var lO=aO("animationend"),uO=aO("transitionend"),cO=!!(lO&&uO),db=lO||"animationend",fb=uO||"transitionend";function hb(t,e){if(!t)return null;if(De(t)==="object"){var n=e.replace(/-\w/g,function(r){return r[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(e)}const YU=function(t){var e=h.useRef(),n=h.useRef(t);n.current=t;var r=h.useCallback(function(s){n.current(s)},[]);function i(s){s&&(s.removeEventListener(fb,r),s.removeEventListener(db,r))}function o(s){e.current&&e.current!==s&&i(e.current),s&&s!==e.current&&(s.addEventListener(fb,r),s.addEventListener(db,r),e.current=s)}return h.useEffect(function(){return function(){i(e.current)}},[]),[o,i]};var dO=Vn()?h.useLayoutEffect:h.useEffect;const JU=function(){var t=h.useRef(null);function e(){mo.cancel(t.current)}function n(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;e();var o=mo(function(){i<=1?r({isCanceled:function(){return o!==t.current}}):n(r,i-1)});t.current=o}return h.useEffect(function(){return function(){e()}},[]),[n,e]};var ZU=[fr,ta,na,$w],ez=[fr,oO],fO=!1,tz=!0;function hO(t){return t===na||t===$w}const nz=function(t,e,n){var r=es(ub),i=q(r,2),o=i[0],s=i[1],a=JU(),l=q(a,2),u=l[0],c=l[1];function d(){s(fr,!0)}var f=e?ez:ZU;return dO(function(){if(o!==ub&&o!==$w){var m=f.indexOf(o),v=f[m+1],w=n(o);w===fO?s(v,!0):v&&u(function(C){function g(){C.isCanceled()||s(v,!0)}w===!0?g():Promise.resolve(w).then(g)})}},[t,o]),h.useEffect(function(){return function(){c()}},[]),[d,o]};function rz(t,e,n,r){var i=r.motionEnter,o=i===void 0?!0:i,s=r.motionAppear,a=s===void 0?!0:s,l=r.motionLeave,u=l===void 0?!0:l,c=r.motionDeadline,d=r.motionLeaveImmediately,f=r.onAppearPrepare,m=r.onEnterPrepare,v=r.onLeavePrepare,w=r.onAppearStart,C=r.onEnterStart,g=r.onLeaveStart,p=r.onAppearActive,y=r.onEnterActive,E=r.onLeaveActive,S=r.onAppearEnd,_=r.onEnterEnd,b=r.onLeaveEnd,x=r.onVisibleChanged,N=es(),k=q(N,2),M=k[0],I=k[1],T=es(Lo),R=q(T,2),P=R[0],$=R[1],L=es(null),A=q(L,2),j=A[0],U=A[1],V=h.useRef(!1),H=h.useRef(null);function Q(){return n()}var te=h.useRef(!1);function se(){$(Lo,!0),U(null,!0)}function we(ve){var he=Q();if(!(ve&&!ve.deadline&&ve.target!==he)){var me=te.current,Oe;P===kd&&me?Oe=S==null?void 0:S(he,ve):P===Rd&&me?Oe=_==null?void 0:_(he,ve):P===Od&&me&&(Oe=b==null?void 0:b(he,ve)),P!==Lo&&me&&Oe!==!1&&se()}}var xe=YU(we),$e=q(xe,1),Te=$e[0],ne=function(he){var me,Oe,Tt;switch(he){case kd:return me={},ce(me,fr,f),ce(me,ta,w),ce(me,na,p),me;case Rd:return Oe={},ce(Oe,fr,m),ce(Oe,ta,C),ce(Oe,na,y),Oe;case Od:return Tt={},ce(Tt,fr,v),ce(Tt,ta,g),ce(Tt,na,E),Tt;default:return{}}},ie=h.useMemo(function(){return ne(P)},[P]),ue=nz(P,!t,function(ve){if(ve===fr){var he=ie[fr];return he?he(Q()):fO}if(Fe in ie){var me;U(((me=ie[Fe])===null||me===void 0?void 0:me.call(ie,Q(),null))||null)}return Fe===na&&(Te(Q()),c>0&&(clearTimeout(H.current),H.current=setTimeout(function(){we({deadline:!0})},c))),Fe===oO&&se(),tz}),vt=q(ue,2),Ye=vt[0],Fe=vt[1],yt=hO(Fe);te.current=yt,dO(function(){I(e);var ve=V.current;V.current=!0;var he;!ve&&e&&a&&(he=kd),ve&&e&&o&&(he=Rd),(ve&&!e&&u||!ve&&d&&!e&&u)&&(he=Od);var me=ne(he);he&&(t||me[fr])?($(he),Ye()):$(Lo)},[e]),h.useEffect(function(){(P===kd&&!a||P===Rd&&!o||P===Od&&!u)&&$(Lo)},[a,o,u]),h.useEffect(function(){return function(){V.current=!1,clearTimeout(H.current)}},[]);var Pt=h.useRef(!1);h.useEffect(function(){M&&(Pt.current=!0),M!==void 0&&P===Lo&&((Pt.current||M)&&(x==null||x(M)),Pt.current=!0)},[M,P]);var Me=j;return ie[fr]&&Fe===ta&&(Me=F({transition:"none"},Me)),[P,Fe,Me,M??e]}function iz(t){var e=t;De(t)==="object"&&(e=t.transitionSupport);function n(i,o){return!!(i.motionName&&e&&o!==!1)}var r=h.forwardRef(function(i,o){var s=i.visible,a=s===void 0?!0:s,l=i.removeOnLeave,u=l===void 0?!0:l,c=i.forceRender,d=i.children,f=i.motionName,m=i.leavedClassName,v=i.eventProps,w=h.useContext(iO),C=w.motion,g=n(i,C),p=h.useRef(),y=h.useRef();function E(){try{return p.current instanceof HTMLElement?p.current:l0(y.current)}catch{return null}}var S=rz(g,a,E,i),_=q(S,4),b=_[0],x=_[1],N=_[2],k=_[3],M=h.useRef(k);k&&(M.current=!0);var I=h.useCallback(function(U){p.current=U,ww(o,U)},[o]),T,R=F(F({},v),{},{visible:a});if(!d)T=null;else if(b===Lo)k?T=d(F({},R),I):!u&&M.current&&m?T=d(F(F({},R),{},{className:m}),I):c||!u&&!m?T=d(F(F({},R),{},{style:{display:"none"}}),I):T=null;else{var P,$;x===fr?$="prepare":hO(x)?$="active":x===ta&&($="start");var L=hb(f,"".concat(b,"-").concat($));T=d(F(F({},R),{},{className:oe(hb(f,b),(P={},ce(P,L,L&&$),ce(P,f,typeof f=="string"),P)),style:N}),I)}if(h.isValidElement(T)&&Cc(T)){var A=T,j=A.ref;j||(T=h.cloneElement(T,{ref:I}))}return h.createElement(GU,{ref:y},T)});return r.displayName="CSSMotion",r}const _o=iz(cO);var _0="add",x0="keep",T0="remove",yg="removed";function oz(t){var e;return t&&De(t)==="object"&&"key"in t?e=t:e={key:t},F(F({},e),{},{key:String(e.key)})}function I0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(oz)}function sz(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],r=0,i=e.length,o=I0(t),s=I0(e);o.forEach(function(u){for(var c=!1,d=r;d<i;d+=1){var f=s[d];if(f.key===u.key){r<d&&(n=n.concat(s.slice(r,d).map(function(m){return F(F({},m),{},{status:_0})})),r=d),n.push(F(F({},f),{},{status:x0})),r+=1,c=!0;break}}c||n.push(F(F({},u),{},{status:T0}))}),r<i&&(n=n.concat(s.slice(r).map(function(u){return F(F({},u),{},{status:_0})})));var a={};n.forEach(function(u){var c=u.key;a[c]=(a[c]||0)+1});var l=Object.keys(a).filter(function(u){return a[u]>1});return l.forEach(function(u){n=n.filter(function(c){var d=c.key,f=c.status;return d!==u||f!==T0}),n.forEach(function(c){c.key===u&&(c.status=x0)})}),n}var az=["component","children","onVisibleChanged","onAllRemoved"],lz=["status"],uz=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function cz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_o,n=function(r){Tp(o,r);var i=Ip(o);function o(){var s;Hr(this,o);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return s=i.call.apply(i,[this].concat(l)),ce(ah(s),"state",{keyEntities:[]}),ce(ah(s),"removeKey",function(c){var d=s.state.keyEntities,f=d.map(function(m){return m.key!==c?m:F(F({},m),{},{status:yg})});return s.setState({keyEntities:f}),f.filter(function(m){var v=m.status;return v!==yg}).length}),s}return Wr(o,[{key:"render",value:function(){var a=this,l=this.state.keyEntities,u=this.props,c=u.component,d=u.children,f=u.onVisibleChanged,m=u.onAllRemoved,v=In(u,az),w=c||h.Fragment,C={};return uz.forEach(function(g){C[g]=v[g],delete v[g]}),delete v.keys,h.createElement(w,v,l.map(function(g){var p=g.status,y=In(g,lz),E=p===_0||p===x0;return h.createElement(e,ye({},C,{key:y.key,visible:E,eventProps:y,onVisibleChanged:function(_){if(f==null||f(_,{key:y.key}),!_){var b=a.removeKey(y.key);b===0&&m&&m()}}}),d)}))}}],[{key:"getDerivedStateFromProps",value:function(a,l){var u=a.keys,c=l.keyEntities,d=I0(u),f=sz(c,d);return{keyEntities:f.filter(function(m){var v=c.find(function(w){var C=w.key;return m.key===C});return!(v&&v.status===yg&&m.status===T0)})}}}]),o}(h.Component);return ce(n,"defaultProps",{component:"div"}),n}cz(cO);function dz(t){const{children:e}=t,[,n]=xc(),{motion:r}=n,i=h.useRef(!1);return i.current=i.current||r===!1,i.current?h.createElement(qU,{motion:r},e):e}const fz=(t,e)=>{const[n,r]=xc();return y0({theme:n,token:r,hashId:"",path:["ant-design-icons",t],nonce:()=>e==null?void 0:e.nonce},()=>[{[`.${t}`]:Object.assign(Object.assign({},kU()),{[`.${t} .${t}-icon`]:{display:"block"}})}])},hz=fz;var pz=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const mz=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select","button"],gz="ant";let yh,pO,mO;function sf(){return yh||gz}function vz(){return pO||Pw}function yz(t){return Object.keys(t).some(e=>e.endsWith("Color"))}const wz=t=>{let{prefixCls:e,iconPrefixCls:n,theme:r}=t;e!==void 0&&(yh=e),n!==void 0&&(pO=n),r&&(yz(r)?jU(sf(),r):mO=r)},Ez=()=>({getPrefixCls:(t,e)=>e||(t?`${sf()}-${t}`:sf()),getIconPrefixCls:vz,getRootPrefixCls:()=>yh||sf(),getTheme:()=>mO}),Cz=t=>{const{children:e,csp:n,autoInsertSpaceInButton:r,form:i,locale:o,componentSize:s,direction:a,space:l,virtual:u,dropdownMatchSelectWidth:c,popupMatchSelectWidth:d,popupOverflow:f,legacyLocale:m,parentContext:v,iconPrefixCls:w,theme:C,componentDisabled:g}=t,p=h.useCallback((P,$)=>{const{prefixCls:L}=t;if($)return $;const A=L||v.getPrefixCls("");return P?`${A}-${P}`:A},[v.getPrefixCls,t.prefixCls]),y=w||v.iconPrefixCls||Pw,E=y!==v.iconPrefixCls,S=n||v.csp,_=hz(y,S),b=HU(C,v.theme),x={csp:S,autoInsertSpaceInButton:r,locale:o||m,direction:a,space:l,virtual:u,popupMatchSelectWidth:d??c,popupOverflow:f,getPrefixCls:p,iconPrefixCls:y,theme:b},N=Object.assign({},v);Object.keys(x).forEach(P=>{x[P]!==void 0&&(N[P]=x[P])}),mz.forEach(P=>{const $=t[P];$&&(N[P]=$)});const k=yw(()=>N,N,(P,$)=>{const L=Object.keys(P),A=Object.keys($);return L.length!==A.length||L.some(j=>P[j]!==$[j])}),M=h.useMemo(()=>({prefixCls:y,csp:S}),[y,S]);let I=E?_(e):e;const T=h.useMemo(()=>{var P,$,L;return ea(((P=go.Form)===null||P===void 0?void 0:P.defaultValidateMessages)||{},((L=($=k.locale)===null||$===void 0?void 0:$.Form)===null||L===void 0?void 0:L.defaultValidateMessages)||{},(i==null?void 0:i.validateMessages)||{})},[k,i==null?void 0:i.validateMessages]);Object.keys(T).length>0&&(I=h.createElement(j9.Provider,{value:T},e)),o&&(I=h.createElement(Q9,{locale:o,_ANT_MARK__:G9},I)),(y||S)&&(I=h.createElement(kw.Provider,{value:M},I)),s&&(I=h.createElement(BU,{size:s},I)),I=h.createElement(dz,null,I);const R=h.useMemo(()=>{const P=b||{},{algorithm:$,token:L}=P,A=pz(P,["algorithm","token"]),j=$&&(!Array.isArray($)||$.length>0)?ph($):void 0;return Object.assign(Object.assign({},A),{theme:j,token:Object.assign(Object.assign({},Sc),L)})},[b]);return C&&(I=h.createElement(eO.Provider,{value:R},I)),g!==void 0&&(I=h.createElement(UU,{disabled:g},I)),h.createElement(Rn.Provider,{value:k},I)},el=t=>{const e=h.useContext(Rn),n=h.useContext(Rw);return h.createElement(Cz,Object.assign({parentContext:e,legacyLocale:n},t))};el.ConfigContext=Rn;el.SizeContext=Bp;el.config=wz;el.useConfig=VU;Object.defineProperty(el,"SizeContext",{get:()=>Bp});var Sz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const bz=Sz;function gO(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}function _z(t){return gO(t)!==(t==null?void 0:t.ownerDocument)}function wh(t){return _z(t)?gO(t):null}function xz(t,e){Un(t,"[@ant-design/icons] ".concat(e))}function pb(t){return De(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(De(t.icon)==="object"||typeof t.icon=="function")}function mb(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var r=t[n];switch(n){case"class":e.className=r,delete e.class;break;default:e[n]=r}return e},{})}function k0(t,e,n){return n?Y.createElement(t.tag,F(F({key:e},mb(t.attrs)),n),(t.children||[]).map(function(r,i){return k0(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):Y.createElement(t.tag,F({key:e},mb(t.attrs)),(t.children||[]).map(function(r,i){return k0(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function vO(t){return vi(t)[0]}function yO(t){return t?Array.isArray(t)?t:[t]:[]}var Tz=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Iz=function(e){var n=h.useContext(kw),r=n.csp,i=n.prefixCls,o=Tz;i&&(o=o.replace(/anticon/g,i)),h.useEffect(function(){var s=e.current,a=wh(s);$a(o,"@ant-design-icons",{prepend:!0,csp:r,attachTo:a})},[])},kz=["icon","className","onClick","style","primaryColor","secondaryColor"],tu={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Rz(t){var e=t.primaryColor,n=t.secondaryColor;tu.primaryColor=e,tu.secondaryColor=n||vO(e),tu.calculated=!!n}function Oz(){return F({},tu)}var Vp=function(e){var n=e.icon,r=e.className,i=e.onClick,o=e.style,s=e.primaryColor,a=e.secondaryColor,l=In(e,kz),u=h.useRef(),c=tu;if(s&&(c={primaryColor:s,secondaryColor:a||vO(s)}),Iz(u),xz(pb(n),"icon should be icon definiton, but got ".concat(n)),!pb(n))return null;var d=n;return d&&typeof d.icon=="function"&&(d=F(F({},d),{},{icon:d.icon(c.primaryColor,c.secondaryColor)})),k0(d.icon,"svg-".concat(d.name),F(F({className:r,onClick:i,style:o,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:u}))};Vp.displayName="IconReact";Vp.getTwoToneColors=Oz;Vp.setTwoToneColors=Rz;const Mw=Vp;function wO(t){var e=yO(t),n=q(e,2),r=n[0],i=n[1];return Mw.setTwoToneColors({primaryColor:r,secondaryColor:i})}function Nz(){var t=Mw.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var Pz=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];wO(hU.primary);var Hp=h.forwardRef(function(t,e){var n,r=t.className,i=t.icon,o=t.spin,s=t.rotate,a=t.tabIndex,l=t.onClick,u=t.twoToneColor,c=In(t,Pz),d=h.useContext(kw),f=d.prefixCls,m=f===void 0?"anticon":f,v=d.rootClassName,w=oe(v,m,(n={},ce(n,"".concat(m,"-").concat(i.name),!!i.name),ce(n,"".concat(m,"-spin"),!!o||i.name==="loading"),n),r),C=a;C===void 0&&l&&(C=-1);var g=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,p=yO(u),y=q(p,2),E=y[0],S=y[1];return h.createElement("span",ye({role:"img","aria-label":i.name},c,{ref:e,tabIndex:C,onClick:l,className:w}),h.createElement(Mw,{icon:i,primaryColor:E,secondaryColor:S,style:g}))});Hp.displayName="AntdIcon";Hp.getTwoToneColor=Nz;Hp.setTwoToneColor=wO;const On=Hp;var Az=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:bz}))};const $z=h.forwardRef(Az);var Mz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};const Lz=Mz;var Dz=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:Lz}))};const Fz=h.forwardRef(Dz);var jz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};const Uz=jz;var zz=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:Uz}))};const EO=h.forwardRef(zz);var Bz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const Vz=Bz;var Hz=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:Vz}))};const Wz=h.forwardRef(Hz);var qz={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const Gz=qz;var Kz=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:Gz}))};const Qz=h.forwardRef(Kz);var Xz=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,Yz=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,Jz="".concat(Xz," ").concat(Yz).split(/[\s\n]+/),Zz="aria-",eB="data-";function gb(t,e){return t.indexOf(e)===0}function tB(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=F({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||gb(i,Zz))||n.data&&gb(i,eB)||n.attr&&Jz.includes(i))&&(r[i]=t[i])}),r}const{isValidElement:Lw}=Z0;function CO(t){return t&&Lw(t)&&t.type===h.Fragment}function nB(t,e,n){return Lw(t)?h.cloneElement(t,typeof n=="function"?n(t.props||{}):n):e}function Wp(t,e){return nB(t,t,e)}var ee={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=ee.F1&&n<=ee.F12)return!1;switch(n){case ee.ALT:case ee.CAPS_LOCK:case ee.CONTEXT_MENU:case ee.CTRL:case ee.DOWN:case ee.END:case ee.ESC:case ee.HOME:case ee.INSERT:case ee.LEFT:case ee.MAC_FF_META:case ee.META:case ee.NUMLOCK:case ee.NUM_CENTER:case ee.PAGE_DOWN:case ee.PAGE_UP:case ee.PAUSE:case ee.PRINT_SCREEN:case ee.RIGHT:case ee.SHIFT:case ee.UP:case ee.WIN_KEY:case ee.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=ee.ZERO&&e<=ee.NINE||e>=ee.NUM_ZERO&&e<=ee.NUM_MULTIPLY||e>=ee.A&&e<=ee.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case ee.SPACE:case ee.QUESTION_MARK:case ee.NUM_PLUS:case ee.NUM_MINUS:case ee.NUM_PERIOD:case ee.NUM_DIVISION:case ee.SEMICOLON:case ee.DASH:case ee.EQUALS:case ee.COMMA:case ee.PERIOD:case ee.SLASH:case ee.APOSTROPHE:case ee.SINGLE_QUOTE:case ee.OPEN_SQUARE_BRACKET:case ee.BACKSLASH:case ee.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},rB={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const iB=rB;var oB=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:iB}))};const sB=h.forwardRef(oB);function aB(){const[t,e]=h.useState([]),n=h.useCallback(r=>(e(i=>[].concat(re(i),[r])),()=>{e(i=>i.filter(o=>o!==r))}),[]);return[t,n]}function Hn(){Hn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(I,T,R){I[T]=R.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(I,T,R){return Object.defineProperty(I,T,{value:R,enumerable:!0,configurable:!0,writable:!0}),I[T]}try{l({},"")}catch{l=function(R,P,$){return R[P]=$}}function u(I,T,R,P){var $=T&&T.prototype instanceof f?T:f,L=Object.create($.prototype),A=new N(P||[]);return r(L,"_invoke",{value:S(I,R,A)}),L}function c(I,T,R){try{return{type:"normal",arg:I.call(T,R)}}catch(P){return{type:"throw",arg:P}}}t.wrap=u;var d={};function f(){}function m(){}function v(){}var w={};l(w,o,function(){return this});var C=Object.getPrototypeOf,g=C&&C(C(k([])));g&&g!==e&&n.call(g,o)&&(w=g);var p=v.prototype=f.prototype=Object.create(w);function y(I){["next","throw","return"].forEach(function(T){l(I,T,function(R){return this._invoke(T,R)})})}function E(I,T){function R($,L,A,j){var U=c(I[$],I,L);if(U.type!=="throw"){var V=U.arg,H=V.value;return H&&De(H)=="object"&&n.call(H,"__await")?T.resolve(H.__await).then(function(Q){R("next",Q,A,j)},function(Q){R("throw",Q,A,j)}):T.resolve(H).then(function(Q){V.value=Q,A(V)},function(Q){return R("throw",Q,A,j)})}j(U.arg)}var P;r(this,"_invoke",{value:function(L,A){function j(){return new T(function(U,V){R(L,A,U,V)})}return P=P?P.then(j,j):j()}})}function S(I,T,R){var P="suspendedStart";return function($,L){if(P==="executing")throw new Error("Generator is already running");if(P==="completed"){if($==="throw")throw L;return M()}for(R.method=$,R.arg=L;;){var A=R.delegate;if(A){var j=_(A,R);if(j){if(j===d)continue;return j}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(P==="suspendedStart")throw P="completed",R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);P="executing";var U=c(I,T,R);if(U.type==="normal"){if(P=R.done?"completed":"suspendedYield",U.arg===d)continue;return{value:U.arg,done:R.done}}U.type==="throw"&&(P="completed",R.method="throw",R.arg=U.arg)}}}function _(I,T){var R=T.method,P=I.iterator[R];if(P===void 0)return T.delegate=null,R==="throw"&&I.iterator.return&&(T.method="return",T.arg=void 0,_(I,T),T.method==="throw")||R!=="return"&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+R+"' method")),d;var $=c(P,I.iterator,T.arg);if($.type==="throw")return T.method="throw",T.arg=$.arg,T.delegate=null,d;var L=$.arg;return L?L.done?(T[I.resultName]=L.value,T.next=I.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,d):L:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,d)}function b(I){var T={tryLoc:I[0]};1 in I&&(T.catchLoc=I[1]),2 in I&&(T.finallyLoc=I[2],T.afterLoc=I[3]),this.tryEntries.push(T)}function x(I){var T=I.completion||{};T.type="normal",delete T.arg,I.completion=T}function N(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(b,this),this.reset(!0)}function k(I){if(I){var T=I[o];if(T)return T.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var R=-1,P=function $(){for(;++R<I.length;)if(n.call(I,R))return $.value=I[R],$.done=!1,$;return $.value=void 0,$.done=!0,$};return P.next=P}}return{next:M}}function M(){return{value:void 0,done:!0}}return m.prototype=v,r(p,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:m,configurable:!0}),m.displayName=l(v,a,"GeneratorFunction"),t.isGeneratorFunction=function(I){var T=typeof I=="function"&&I.constructor;return!!T&&(T===m||(T.displayName||T.name)==="GeneratorFunction")},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,v):(I.__proto__=v,l(I,a,"GeneratorFunction")),I.prototype=Object.create(p),I},t.awrap=function(I){return{__await:I}},y(E.prototype),l(E.prototype,s,function(){return this}),t.AsyncIterator=E,t.async=function(I,T,R,P,$){$===void 0&&($=Promise);var L=new E(u(I,T,R,P),$);return t.isGeneratorFunction(T)?L:L.next().then(function(A){return A.done?A.value:L.next()})},y(p),l(p,a,"Generator"),l(p,o,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),t.keys=function(I){var T=Object(I),R=[];for(var P in T)R.push(P);return R.reverse(),function $(){for(;R.length;){var L=R.pop();if(L in T)return $.value=L,$.done=!1,$}return $.done=!0,$}},t.values=k,N.prototype={constructor:N,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!T)for(var R in this)R.charAt(0)==="t"&&n.call(this,R)&&!isNaN(+R.slice(1))&&(this[R]=void 0)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if(T.type==="throw")throw T.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var R=this;function P(V,H){return A.type="throw",A.arg=T,R.next=V,H&&(R.method="next",R.arg=void 0),!!H}for(var $=this.tryEntries.length-1;$>=0;--$){var L=this.tryEntries[$],A=L.completion;if(L.tryLoc==="root")return P("end");if(L.tryLoc<=this.prev){var j=n.call(L,"catchLoc"),U=n.call(L,"finallyLoc");if(j&&U){if(this.prev<L.catchLoc)return P(L.catchLoc,!0);if(this.prev<L.finallyLoc)return P(L.finallyLoc)}else if(j){if(this.prev<L.catchLoc)return P(L.catchLoc,!0)}else{if(!U)throw new Error("try statement without catch or finally");if(this.prev<L.finallyLoc)return P(L.finallyLoc)}}}},abrupt:function(T,R){for(var P=this.tryEntries.length-1;P>=0;--P){var $=this.tryEntries[P];if($.tryLoc<=this.prev&&n.call($,"finallyLoc")&&this.prev<$.finallyLoc){var L=$;break}}L&&(T==="break"||T==="continue")&&L.tryLoc<=R&&R<=L.finallyLoc&&(L=null);var A=L?L.completion:{};return A.type=T,A.arg=R,L?(this.method="next",this.next=L.finallyLoc,d):this.complete(A)},complete:function(T,R){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&R&&(this.next=R),d},finish:function(T){for(var R=this.tryEntries.length-1;R>=0;--R){var P=this.tryEntries[R];if(P.finallyLoc===T)return this.complete(P.completion,P.afterLoc),x(P),d}},catch:function(T){for(var R=this.tryEntries.length-1;R>=0;--R){var P=this.tryEntries[R];if(P.tryLoc===T){var $=P.completion;if($.type==="throw"){var L=$.arg;x(P)}return L}}throw new Error("illegal catch attempt")},delegateYield:function(T,R,P){return this.delegate={iterator:k(T),resultName:R,nextLoc:P},this.method==="next"&&(this.arg=void 0),d}},t}function vb(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(u){n(u);return}a.done?e(l):Promise.resolve(l).then(r,i)}function tl(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(l){vb(o,r,i,s,a,"next",l)}function a(l){vb(o,r,i,s,a,"throw",l)}s(void 0)})}}var Tc=F({},WA),lB=Tc.version,uB=Tc.render,cB=Tc.unmountComponentAtNode,qp;try{var dB=Number((lB||"").split(".")[0]);dB>=18&&(qp=Tc.createRoot)}catch{}function yb(t){var e=Tc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&De(e)==="object"&&(e.usingClientEntryPoint=t)}var Eh="__rc_react_root__";function fB(t,e){yb(!0);var n=e[Eh]||qp(e);yb(!1),n.render(t),e[Eh]=n}function hB(t,e){uB(t,e)}function SO(t,e){if(qp){fB(t,e);return}hB(t,e)}function pB(t){return R0.apply(this,arguments)}function R0(){return R0=tl(Hn().mark(function t(e){return Hn().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.resolve().then(function(){var i;(i=e[Eh])===null||i===void 0||i.unmount(),delete e[Eh]}));case 1:case"end":return r.stop()}},t)})),R0.apply(this,arguments)}function mB(t){cB(t)}function bO(t){return O0.apply(this,arguments)}function O0(){return O0=tl(Hn().mark(function t(e){return Hn().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(qp===void 0){r.next=2;break}return r.abrupt("return",pB(e));case 2:mB(e);case 3:case"end":return r.stop()}},t)})),O0.apply(this,arguments)}const _O=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox(),n=e.width,r=e.height;if(n||r)return!0}if(t.getBoundingClientRect){var i=t.getBoundingClientRect(),o=i.width,s=i.height;if(o||s)return!0}}return!1},gB=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},vB=_c("Wave",t=>[gB(t)]);function yB(t){const e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function wg(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&yB(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function wB(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return wg(e)?e:wg(n)?n:wg(r)?r:null}function Eg(t){return Number.isNaN(t)?0:t}const EB=t=>{const{className:e,target:n}=t,r=h.useRef(null),[i,o]=h.useState(null),[s,a]=h.useState([]),[l,u]=h.useState(0),[c,d]=h.useState(0),[f,m]=h.useState(0),[v,w]=h.useState(0),[C,g]=h.useState(!1),p={left:l,top:c,width:f,height:v,borderRadius:s.map(E=>`${E}px`).join(" ")};i&&(p["--wave-color"]=i);function y(){const E=getComputedStyle(n);o(wB(n));const S=E.position==="static",{borderLeftWidth:_,borderTopWidth:b}=E;u(S?n.offsetLeft:Eg(-parseFloat(_))),d(S?n.offsetTop:Eg(-parseFloat(b))),m(n.offsetWidth),w(n.offsetHeight);const{borderTopLeftRadius:x,borderTopRightRadius:N,borderBottomLeftRadius:k,borderBottomRightRadius:M}=E;a([x,N,M,k].map(I=>Eg(parseFloat(I))))}return h.useEffect(()=>{if(n){const E=mo(()=>{y(),g(!0)});let S;return typeof ResizeObserver<"u"&&(S=new ResizeObserver(y),S.observe(n)),()=>{mo.cancel(E),S==null||S.disconnect()}}},[]),C?h.createElement(_o,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(E,S)=>{var _;if(S.deadline||S.propertyName==="opacity"){const b=(_=r.current)===null||_===void 0?void 0:_.parentElement;bO(b).then(()=>{b==null||b.remove()})}return!1}},E=>{let{className:S}=E;return h.createElement("div",{ref:r,className:oe(e,S),style:p})}):null};function CB(t,e){const n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.top="0px",t==null||t.insertBefore(n,t==null?void 0:t.firstChild),SO(h.createElement(EB,{target:t,className:e}),n)}function SB(t,e){function n(){const r=t.current;CB(r,e)}return n}const bB=t=>{const{children:e,disabled:n}=t,{getPrefixCls:r}=h.useContext(Rn),i=h.useRef(null),o=r("wave"),[,s]=vB(o),a=SB(i,oe(o,s));if(Y.useEffect(()=>{const u=i.current;if(!u||u.nodeType!==1||n)return;const c=d=>{d.target.tagName==="INPUT"||!_O(d.target)||!u.getAttribute||u.getAttribute("disabled")||u.disabled||u.className.includes("disabled")||u.className.includes("-leave")||a()};return u.addEventListener("click",c,!0),()=>{u.removeEventListener("click",c,!0)}},[n]),!Y.isValidElement(e))return e??null;const l=Cc(e)?Ec(e.ref,i):i;return Wp(e,{ref:l})},_B=bB;globalThis&&globalThis.__rest;const xO=h.createContext(null),xB=(t,e)=>{const n=h.useContext(xO),r=h.useMemo(()=>{if(!n)return"";const{compactDirection:i,isFirstItem:o,isLastItem:s}=n,a=i==="vertical"?"-vertical-":"-";return oe({[`${t}-compact${a}item`]:!0,[`${t}-compact${a}first-item`]:o,[`${t}-compact${a}last-item`]:s,[`${t}-compact${a}item-rtl`]:e==="rtl"})},[t,e,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:r}},TO=t=>{let{children:e}=t;return h.createElement(xO.Provider,{value:null},e)},TB=h.forwardRef((t,e)=>{const{className:n,style:r,children:i,prefixCls:o}=t,s=oe(`${o}-icon`,n);return Y.createElement("span",{ref:e,className:s,style:r},i)}),IO=TB,wb=h.forwardRef((t,e)=>{let{prefixCls:n,className:r,style:i,iconClassName:o}=t;const s=oe(`${n}-loading-icon`,r);return Y.createElement(IO,{prefixCls:n,className:s,style:i,ref:e},Y.createElement(sB,{className:o}))}),Cg=()=>({width:0,opacity:0,transform:"scale(0)"}),Sg=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),IB=t=>{let{prefixCls:e,loading:n,existIcon:r,className:i,style:o}=t;const s=!!n;return r?Y.createElement(wb,{prefixCls:e,className:i,style:o}):Y.createElement(_o,{visible:s,motionName:`${e}-loading-icon-motion`,removeOnLeave:!0,onAppearStart:Cg,onAppearActive:Sg,onEnterStart:Cg,onEnterActive:Sg,onLeaveStart:Sg,onLeaveActive:Cg},(a,l)=>{let{className:u,style:c}=a;return Y.createElement(wb,{prefixCls:e,className:i,style:Object.assign(Object.assign({},o),c),ref:l,iconClassName:u})})},kB=IB;var RB=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const kO=h.createContext(void 0),OB=t=>{const{getPrefixCls:e,direction:n}=h.useContext(Rn),{prefixCls:r,size:i,className:o}=t,s=RB(t,["prefixCls","size","className"]),a=e("btn-group",r),[,,l]=xc();let u="";switch(i){case"large":u="lg";break;case"small":u="sm";break}const c=oe(a,{[`${a}-${u}`]:u,[`${a}-rtl`]:n==="rtl"},o,l);return h.createElement(kO.Provider,{value:i},h.createElement("div",Object.assign({},s,{className:c})))},NB=OB,Eb=/^[\u4e00-\u9fa5]{2}$/,N0=Eb.test.bind(Eb);function PB(t){return typeof t=="string"}function bg(t){return t==="text"||t==="link"}function AB(t,e){if(t==null)return;const n=e?" ":"";return typeof t!="string"&&typeof t!="number"&&PB(t.type)&&N0(t.props.children)?Wp(t,{children:t.props.children.split("").join(n)}):typeof t=="string"?N0(t)?Y.createElement("span",null,t.split("").join(n)):Y.createElement("span",null,t):CO(t)?Y.createElement("span",null,t):t}function $B(t,e){let n=!1;const r=[];return Y.Children.forEach(t,i=>{const o=typeof i,s=o==="string"||o==="number";if(n&&s){const a=r.length-1,l=r[a];r[a]=`${l}${i}`}else r.push(i);n=s}),Y.Children.map(r,i=>AB(i,e))}function MB(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,s=o?"> *":"",a=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${s}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-t.lineWidth},"&-item":Object.assign(Object.assign({[a]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${s}`]:{zIndex:0}})}}function LB(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function DB(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:Object.assign(Object.assign({},MB(t,r,e)),LB(n,r,e))}}function FB(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-t.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function jB(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function UB(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:Object.assign(Object.assign({},FB(t,e)),jB(t.componentCls,e))}}const Cb=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),zB=t=>{const{componentCls:e,fontSize:n,lineWidth:r,colorPrimaryHover:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,[`&:hover,
          &:focus,
          &:active`]:{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},Cb(`${e}-primary`,i),Cb(`${e}-danger`,o)]}},BB=zB,VB=t=>{const{componentCls:e,iconCls:n,buttonFontWeight:r}=t;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:r,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${t.lineWidth}px ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:t.lineHeight,color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${e}-icon`]:{lineHeight:0},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:t.marginXS},[`&:not(${e}-icon-only) > ${e}-icon`]:{[`&${e}-loading-icon, &:not(:last-child)`]:{marginInlineEnd:t.marginXS}},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},JR(t)),[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-t.lineWidth,insetInlineStart:-t.lineWidth,display:"inline-block",width:t.lineWidth,height:`calc(100% + ${t.lineWidth*2}px)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-t.lineWidth,insetInlineStart:-t.lineWidth,display:"inline-block",width:`calc(100% + ${t.lineWidth*2}px)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},yi=(t,e)=>({"&:not(:disabled)":{"&:hover":t,"&:active":e}}),HB=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),WB=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.controlHeight/2,paddingInlineEnd:t.controlHeight/2}),P0=t=>({cursor:"not-allowed",borderColor:t.colorBorder,color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,boxShadow:"none"}),Ch=(t,e,n,r,i,o,s)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:e||void 0,backgroundColor:"transparent",borderColor:n||void 0,boxShadow:"none"},yi(Object.assign({backgroundColor:"transparent"},o),Object.assign({backgroundColor:"transparent"},s))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}})}),Dw=t=>({"&:disabled":Object.assign({},P0(t))}),RO=t=>Object.assign({},Dw(t)),Sh=t=>({"&:disabled":{cursor:"not-allowed",color:t.colorTextDisabled}}),OO=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RO(t)),{backgroundColor:t.colorBgContainer,borderColor:t.colorBorder,boxShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`}),yi({color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),Ch(t.componentCls,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:t.colorError,borderColor:t.colorError},yi({color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Ch(t.componentCls,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder)),Dw(t))}),qB=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},RO(t)),{color:t.colorTextLightSolid,backgroundColor:t.colorPrimary,boxShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`}),yi({color:t.colorTextLightSolid,backgroundColor:t.colorPrimaryHover},{color:t.colorTextLightSolid,backgroundColor:t.colorPrimaryActive})),Ch(t.componentCls,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:t.colorError,boxShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`},yi({backgroundColor:t.colorErrorHover},{backgroundColor:t.colorErrorActive})),Ch(t.componentCls,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Dw(t))}),GB=t=>Object.assign(Object.assign({},OO(t)),{borderStyle:"dashed"}),KB=t=>Object.assign(Object.assign(Object.assign({color:t.colorLink},yi({color:t.colorLinkHover},{color:t.colorLinkActive})),Sh(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},yi({color:t.colorErrorHover},{color:t.colorErrorActive})),Sh(t))}),QB=t=>Object.assign(Object.assign(Object.assign({},yi({color:t.colorText,backgroundColor:t.colorBgTextHover},{color:t.colorText,backgroundColor:t.colorBgTextActive})),Sh(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},Sh(t)),yi({color:t.colorErrorHover,backgroundColor:t.colorErrorBg},{color:t.colorErrorHover,backgroundColor:t.colorErrorBg}))}),XB=t=>Object.assign(Object.assign({},P0(t)),{[`&${t.componentCls}:hover`]:Object.assign({},P0(t))}),YB=t=>{const{componentCls:e}=t;return{[`${e}-default`]:OO(t),[`${e}-primary`]:qB(t),[`${e}-dashed`]:GB(t),[`${e}-link`]:KB(t),[`${e}-text`]:QB(t),[`${e}-disabled`]:XB(t)}},Fw=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:r,fontSize:i,lineHeight:o,lineWidth:s,borderRadius:a,buttonPaddingHorizontal:l,iconCls:u}=t,c=Math.max(0,(r-i*o)/2-s),d=l-s,f=`${n}-icon-only`;return[{[`${n}${e}`]:{fontSize:i,height:r,padding:`${c}px ${d}px`,borderRadius:a,[`&${f}`]:{width:r,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},[u]:{fontSize:t.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`}}},{[`${n}${n}-circle${e}`]:HB(t)},{[`${n}${n}-round${e}`]:WB(t)}]},JB=t=>Fw(t),ZB=t=>{const e=zr(t,{controlHeight:t.controlHeightSM,padding:t.paddingXS,buttonPaddingHorizontal:8,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.fontSizeLG-2});return Fw(e,`${t.componentCls}-sm`)},eV=t=>{const e=zr(t,{controlHeight:t.controlHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.fontSizeLG+2});return Fw(e,`${t.componentCls}-lg`)},tV=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},nV=_c("Button",t=>{const{controlTmpOutline:e,paddingContentHorizontal:n}=t,r=zr(t,{colorOutlineDefault:e,buttonPaddingHorizontal:n,buttonIconOnlyFontSize:t.fontSizeLG,buttonFontWeight:400});return[VB(r),ZB(r),JB(r),eV(r),tV(r),YB(r),BB(r),DB(t),UB(t)]});var rV=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function NO(t){return t==="danger"?{danger:!0}:{type:t}}function iV(t){if(typeof t=="object"&&t){const e=t==null?void 0:t.delay;return{loading:!1,delay:!Number.isNaN(e)&&typeof e=="number"?e:0}}return{loading:!!t,delay:0}}const oV=(t,e)=>{var n,r;const{loading:i=!1,prefixCls:o,type:s="default",danger:a,shape:l="default",size:u,styles:c,disabled:d,className:f,rootClassName:m,children:v,icon:w,ghost:C=!1,block:g=!1,htmlType:p="button",classNames:y,style:E={}}=t,S=rV(t,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","ghost","block","htmlType","classNames","style"]),{getPrefixCls:_,autoInsertSpaceInButton:b,direction:x,button:N}=h.useContext(Rn),k=_("btn",o),[M,I]=nV(k),T=h.useContext(tO),R=d??T,P=h.useContext(kO),$=h.useMemo(()=>iV(i),[i]),[L,A]=h.useState($.loading),[j,U]=h.useState(!1),H=Ec(e,h.createRef()),Q=h.Children.count(v)===1&&!w&&!bg(s);h.useEffect(()=>{let me=null;$.delay>0?me=setTimeout(()=>{me=null,A(!0)},$.delay):A($.loading);function Oe(){me&&(clearTimeout(me),me=null)}return Oe},[$]),h.useEffect(()=>{if(!H||!H.current||b===!1)return;const me=H.current.textContent;Q&&N0(me)?j||U(!0):j&&U(!1)},[H]);const te=me=>{const{onClick:Oe}=t;if(L||R){me.preventDefault();return}Oe==null||Oe(me)},se=b!==!1,{compactSize:we,compactItemClassnames:xe}=xB(k,x),$e={large:"lg",small:"sm",middle:void 0},Te=nO(me=>{var Oe,Tt;return(Tt=(Oe=u??we)!==null&&Oe!==void 0?Oe:P)!==null&&Tt!==void 0?Tt:me}),ne=Te&&$e[Te]||"",ie=L?"loading":w,ue=V8(S,["navigate"]),vt=ue.href!==void 0&&R,Ye=oe(k,I,{[`${k}-${l}`]:l!=="default"&&l,[`${k}-${s}`]:s,[`${k}-${ne}`]:ne,[`${k}-icon-only`]:!v&&v!==0&&!!ie,[`${k}-background-ghost`]:C&&!bg(s),[`${k}-loading`]:L,[`${k}-two-chinese-chars`]:j&&se&&!L,[`${k}-block`]:g,[`${k}-dangerous`]:!!a,[`${k}-rtl`]:x==="rtl",[`${k}-disabled`]:vt},xe,f,m,N==null?void 0:N.className),Fe=Object.assign(Object.assign({},N==null?void 0:N.style),E),yt=oe(y==null?void 0:y.icon,(n=N==null?void 0:N.classNames)===null||n===void 0?void 0:n.icon),Pt=Object.assign(Object.assign({},(c==null?void 0:c.icon)||{}),((r=N==null?void 0:N.styles)===null||r===void 0?void 0:r.icon)||{}),Me=w&&!L?Y.createElement(IO,{prefixCls:k,className:yt,style:Pt},w):Y.createElement(kB,{existIcon:!!w,prefixCls:k,loading:!!L}),ve=v||v===0?$B(v,Q&&se):null;if(ue.href!==void 0)return M(Y.createElement("a",Object.assign({},ue,{className:Ye,style:Fe,onClick:te,ref:H}),Me,ve));let he=Y.createElement("button",Object.assign({},S,{type:p,className:Ye,style:Fe,onClick:te,disabled:R,ref:H}),Me,ve);return bg(s)||(he=Y.createElement(_B,{disabled:!!L},he)),M(he)},jw=h.forwardRef(oV);jw.Group=NB;jw.__ANT_BUTTON=!0;const A0=jw;function Sb(t){return!!(t&&t.then)}const sV=t=>{const{type:e,children:n,prefixCls:r,buttonProps:i,close:o,autoFocus:s,emitEvent:a,quitOnNullishReturnValue:l,actionFn:u}=t,c=h.useRef(!1),d=h.useRef(null),[f,m]=es(!1),v=function(){o==null||o.apply(void 0,arguments)};h.useEffect(()=>{let g=null;return s&&(g=setTimeout(()=>{var p;(p=d.current)===null||p===void 0||p.focus()})),()=>{g&&clearTimeout(g)}},[]);const w=g=>{Sb(g)&&(m(!0),g.then(function(){m(!1,!0),v.apply(void 0,arguments),c.current=!1},p=>(m(!1,!0),c.current=!1,Promise.reject(p))))},C=g=>{if(c.current)return;if(c.current=!0,!u){v();return}let p;if(a){if(p=u(g),l&&!Sb(p)){c.current=!1,v(g);return}}else if(u.length)p=u(o),c.current=!1;else if(p=u(),!p){v();return}w(p)};return h.createElement(A0,Object.assign({},NO(e),{onClick:C,loading:f,prefixCls:r},i,{ref:d}),n)},bb=sV,wi=(t,e,n)=>n!==void 0?n:`${t}-${e}`;var PO=h.createContext(null),_b=[];function aV(t,e){var n=h.useState(function(){if(!Vn())return null;var v=document.createElement("div");return v}),r=q(n,1),i=r[0],o=h.useRef(!1),s=h.useContext(PO),a=h.useState(_b),l=q(a,2),u=l[0],c=l[1],d=s||(o.current?void 0:function(v){c(function(w){var C=[v].concat(re(w));return C})});function f(){i.parentElement||document.body.appendChild(i),o.current=!0}function m(){var v;(v=i.parentElement)===null||v===void 0||v.removeChild(i),o.current=!1}return En(function(){return t?s?s(f):f():m(),m},[t]),En(function(){u.length&&(u.forEach(function(v){return v()}),c(_b))},[u]),[i,d]}var _g;function lV(t){if(typeof document>"u")return 0;if(t||_g===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),_g=i-o}return _g}function uV(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var cV="rc-util-locker-".concat(Date.now()),xb=0;function dV(t){var e=!!t,n=h.useState(function(){return xb+=1,"".concat(cV,"_").concat(xb)}),r=q(n,1),i=r[0];En(function(){if(e){var o=lV(),s=uV();$a(`
html body {
  overflow-y: hidden;
  `.concat(s?"width: calc(100% - ".concat(o,"px);"):"",`
}`),i)}else fh(i);return function(){fh(i)}},[e,i])}var Tb=!1;function fV(t){return typeof t=="boolean"&&(Tb=t),Tb}var Ib=function(e){return e===!1?!1:!Vn()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Gp=h.forwardRef(function(t,e){var n=t.open,r=t.autoLock,i=t.getContainer;t.debug;var o=t.autoDestroy,s=o===void 0?!0:o,a=t.children,l=h.useState(n),u=q(l,2),c=u[0],d=u[1],f=c||n;h.useEffect(function(){(s||n)&&d(n)},[n,s]);var m=h.useState(function(){return Ib(i)}),v=q(m,2),w=v[0],C=v[1];h.useEffect(function(){var M=Ib(i);C(M??null)});var g=aV(f&&!w),p=q(g,2),y=p[0],E=p[1],S=w??y;dV(r&&n&&Vn()&&(S===y||S===document.body));var _=null;if(a&&Cc(a)&&e){var b=a;_=b.ref}var x=mR(_,e);if(!f||!Vn()||w===void 0)return null;var N=S===!1||fV(),k=a;return e&&(k=h.cloneElement(a,{ref:x})),h.createElement(PO.Provider,{value:E},N?k:Uh.createPortal(k,S))});function hV(){var t=F({},Z0);return t.useId}var kb=0;function AO(t){var e=h.useState("ssr-id"),n=q(e,2),r=n[0],i=n[1],o=hV(),s=o==null?void 0:o();return h.useEffect(function(){if(!o){var a=kb;kb+=1,i("rc_unique_".concat(a))}},[]),t||s||r}function Rb(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}function Ob(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function pV(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=Ob(i),n.top+=Ob(i,!0),n}const mV=h.memo(function(t){var e=t.children;return e},function(t,e){var n=e.shouldUpdate;return!n});var Nb={width:0,height:0,overflow:"hidden",outline:"none"},$O=Y.forwardRef(function(t,e){var n=t.prefixCls,r=t.className,i=t.style,o=t.title,s=t.ariaId,a=t.footer,l=t.closable,u=t.closeIcon,c=t.onClose,d=t.children,f=t.bodyStyle,m=t.bodyProps,v=t.modalRender,w=t.onMouseDown,C=t.onMouseUp,g=t.holderRef,p=t.visible,y=t.forceRender,E=t.width,S=t.height,_=h.useRef(),b=h.useRef();Y.useImperativeHandle(e,function(){return{focus:function(){var R;(R=_.current)===null||R===void 0||R.focus()},changeActive:function(R){var P=document,$=P.activeElement;R&&$===b.current?_.current.focus():!R&&$===_.current&&b.current.focus()}}});var x={};E!==void 0&&(x.width=E),S!==void 0&&(x.height=S);var N;a&&(N=Y.createElement("div",{className:"".concat(n,"-footer")},a));var k;o&&(k=Y.createElement("div",{className:"".concat(n,"-header")},Y.createElement("div",{className:"".concat(n,"-title"),id:s},o)));var M;l&&(M=Y.createElement("button",{type:"button",onClick:c,"aria-label":"Close",className:"".concat(n,"-close")},u||Y.createElement("span",{className:"".concat(n,"-close-x")})));var I=Y.createElement("div",{className:"".concat(n,"-content")},M,k,Y.createElement("div",ye({className:"".concat(n,"-body"),style:f},m),d),N);return Y.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?s:null,"aria-modal":"true",ref:g,style:F(F({},i),x),className:oe(n,r),onMouseDown:w,onMouseUp:C},Y.createElement("div",{tabIndex:0,ref:_,style:Nb,"aria-hidden":"true"}),Y.createElement(mV,{shouldUpdate:p||y},v?v(I):I),Y.createElement("div",{tabIndex:0,ref:b,style:Nb,"aria-hidden":"true"}))}),MO=h.forwardRef(function(t,e){var n=t.prefixCls,r=t.title,i=t.style,o=t.className,s=t.visible,a=t.forceRender,l=t.destroyOnClose,u=t.motionName,c=t.ariaId,d=t.onVisibleChanged,f=t.mousePosition,m=h.useRef(),v=h.useState(),w=q(v,2),C=w[0],g=w[1],p={};C&&(p.transformOrigin=C);function y(){var E=pV(m.current);g(f?"".concat(f.x-E.left,"px ").concat(f.y-E.top,"px"):"")}return h.createElement(_o,{visible:s,onVisibleChanged:d,onAppearPrepare:y,onEnterPrepare:y,forceRender:a,motionName:u,removeOnLeave:l,ref:m},function(E,S){var _=E.className,b=E.style;return h.createElement($O,ye({},t,{ref:e,title:r,ariaId:c,prefixCls:n,holderRef:S,style:F(F(F({},b),i),p),className:oe(o,_)}))})});MO.displayName="Content";function gV(t){var e=t.prefixCls,n=t.style,r=t.visible,i=t.maskProps,o=t.motionName;return h.createElement(_o,{key:"mask",visible:r,motionName:o,leavedClassName:"".concat(e,"-mask-hidden")},function(s,a){var l=s.className,u=s.style;return h.createElement("div",ye({ref:a,style:F(F({},u),n),className:oe("".concat(e,"-mask"),l)},i))})}function vV(t){var e=t.prefixCls,n=e===void 0?"rc-dialog":e,r=t.zIndex,i=t.visible,o=i===void 0?!1:i,s=t.keyboard,a=s===void 0?!0:s,l=t.focusTriggerAfterClose,u=l===void 0?!0:l,c=t.wrapStyle,d=t.wrapClassName,f=t.wrapProps,m=t.onClose,v=t.afterOpenChange,w=t.afterClose,C=t.transitionName,g=t.animation,p=t.closable,y=p===void 0?!0:p,E=t.mask,S=E===void 0?!0:E,_=t.maskTransitionName,b=t.maskAnimation,x=t.maskClosable,N=x===void 0?!0:x,k=t.maskStyle,M=t.maskProps,I=t.rootClassName,T=h.useRef(),R=h.useRef(),P=h.useRef(),$=h.useState(o),L=q($,2),A=L[0],j=L[1],U=AO();function V(){h0(R.current,document.activeElement)||(T.current=document.activeElement)}function H(){if(!h0(R.current,document.activeElement)){var ie;(ie=P.current)===null||ie===void 0||ie.focus()}}function Q(ie){if(ie)H();else{if(j(!1),S&&T.current&&u){try{T.current.focus({preventScroll:!0})}catch{}T.current=null}A&&(w==null||w())}v==null||v(ie)}function te(ie){m==null||m(ie)}var se=h.useRef(!1),we=h.useRef(),xe=function(){clearTimeout(we.current),se.current=!0},$e=function(){we.current=setTimeout(function(){se.current=!1})},Te=null;N&&(Te=function(ue){se.current?se.current=!1:R.current===ue.target&&te(ue)});function ne(ie){if(a&&ie.keyCode===ee.ESC){ie.stopPropagation(),te(ie);return}o&&ie.keyCode===ee.TAB&&P.current.changeActive(!ie.shiftKey)}return h.useEffect(function(){o&&(j(!0),V())},[o]),h.useEffect(function(){return function(){clearTimeout(we.current)}},[]),h.createElement("div",ye({className:oe("".concat(n,"-root"),I)},tB(t,{data:!0})),h.createElement(gV,{prefixCls:n,visible:S&&o,motionName:Rb(n,_,b),style:F({zIndex:r},k),maskProps:M}),h.createElement("div",ye({tabIndex:-1,onKeyDown:ne,className:oe("".concat(n,"-wrap"),d),ref:R,onClick:Te,style:F(F({zIndex:r},c),{},{display:A?null:"none"})},f),h.createElement(MO,ye({},t,{onMouseDown:xe,onMouseUp:$e,ref:P,closable:y,ariaId:U,prefixCls:n,visible:o&&A,onClose:te,onVisibleChanged:Q,motionName:Rb(n,C,g)}))))}var Uw=function(e){var n=e.visible,r=e.getContainer,i=e.forceRender,o=e.destroyOnClose,s=o===void 0?!1:o,a=e.afterClose,l=h.useState(n),u=q(l,2),c=u[0],d=u[1];return h.useEffect(function(){n&&d(!0)},[n]),!i&&s&&!c?null:h.createElement(Gp,{open:n||i||c,autoDestroy:!1,getContainer:r,autoLock:n||c},h.createElement(vV,ye({},e,{destroyOnClose:s,afterClose:function(){a==null||a(),d(!1)}})))};Uw.displayName="Dialog";const yV=()=>Vn()&&window.document.documentElement;var Wo="RC_FORM_INTERNAL_HOOKS",Le=function(){Un(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},La=h.createContext({getFieldValue:Le,getFieldsValue:Le,getFieldError:Le,getFieldWarning:Le,getFieldsError:Le,isFieldsTouched:Le,isFieldTouched:Le,isFieldValidating:Le,isFieldsValidating:Le,resetFields:Le,setFields:Le,setFieldValue:Le,setFieldsValue:Le,validateFields:Le,submit:Le,getInternalHooks:function(){return Le(),{dispatch:Le,initEntityValue:Le,registerField:Le,useSubscribe:Le,setInitialValues:Le,destroyForm:Le,setCallbacks:Le,registerWatch:Le,getFields:Le,setValidateMessages:Le,setPreserve:Le,getInitialValue:Le}}}),bh=h.createContext(null);function $0(t){return t==null?[]:Array.isArray(t)?t:[t]}function wV(t){return t&&!!t._init}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(this,arguments)}function EV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bu(t,e)}function M0(t){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M0(t)}function Bu(t,e){return Bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bu(t,e)}function CV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function af(t,e,n){return CV()?af=Reflect.construct.bind():af=function(i,o,s){var a=[null];a.push.apply(a,o);var l=Function.bind.apply(i,a),u=new l;return s&&Bu(u,s.prototype),u},af.apply(null,arguments)}function SV(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function L0(t){var e=typeof Map=="function"?new Map:void 0;return L0=function(r){if(r===null||!SV(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return af(r,arguments,M0(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Bu(i,r)},L0(t)}var bV=/%[sdj%]/g,_V=function(){};typeof process<"u"&&process.env;function D0(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function Fn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var s=t.replace(bV,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return s}return t}function xV(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Nt(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||xV(e)&&typeof t=="string"&&!t)}function TV(t,e,n){var r=[],i=0,o=t.length;function s(a){r.push.apply(r,a||[]),i++,i===o&&n(r)}t.forEach(function(a){e(a,s)})}function Pb(t,e,n){var r=0,i=t.length;function o(s){if(s&&s.length){n(s);return}var a=r;r=r+1,a<i?e(t[a],o):n([])}o([])}function IV(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var Ab=function(t){EV(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(L0(Error));function kV(t,e,n,r,i){if(e.first){var o=new Promise(function(f,m){var v=function(g){return r(g),g.length?m(new Ab(g,D0(g))):f(i)},w=IV(t);Pb(w,n,v)});return o.catch(function(f){return f}),o}var s=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,u=0,c=[],d=new Promise(function(f,m){var v=function(C){if(c.push.apply(c,C),u++,u===l)return r(c),c.length?m(new Ab(c,D0(c))):f(i)};a.length||(r(c),f(i)),a.forEach(function(w){var C=t[w];s.indexOf(w)!==-1?Pb(C,n,v):TV(C,n,v)})});return d.catch(function(f){return f}),d}function RV(t){return!!(t&&t.message!==void 0)}function OV(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function $b(t,e){return function(n){var r;return t.fullFields?r=OV(e,t.fullFields):r=e[n.field||t.fullField],RV(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function Mb(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=qo({},t[n],r):t[n]=r}}return t}var LO=function(e,n,r,i,o,s){e.required&&(!r.hasOwnProperty(e.field)||Nt(n,s||e.type))&&i.push(Fn(o.messages.required,e.fullField))},NV=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(Fn(o.messages.whitespace,e.fullField))},Pd,PV=function(){if(Pd)return Pd;var t="[a-fA-F\\d:]",e=function(E){return E&&E.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+i+"$"),l=function(E){return E&&E.exact?o:new RegExp("(?:"+e(E)+n+e(E)+")|(?:"+e(E)+i+e(E)+")","g")};l.v4=function(y){return y&&y.exact?s:new RegExp(""+e(y)+n+e(y),"g")},l.v6=function(y){return y&&y.exact?a:new RegExp(""+e(y)+i+e(y),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,m="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",w="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",C="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',p="(?:"+u+"|www\\.)"+c+"(?:localhost|"+d+"|"+f+"|"+m+v+w+")"+C+g;return Pd=new RegExp("(?:^"+p+"$)","i"),Pd},Lb={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Dl={integer:function(e){return Dl.number(e)&&parseInt(e,10)===e},float:function(e){return Dl.number(e)&&!Dl.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Dl.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Lb.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(PV())},hex:function(e){return typeof e=="string"&&!!e.match(Lb.hex)}},AV=function(e,n,r,i,o){if(e.required&&n===void 0){LO(e,n,r,i,o);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;s.indexOf(a)>-1?Dl[a](n)||i.push(Fn(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&i.push(Fn(o.messages.types[a],e.fullField,e.type))},$V=function(e,n,r,i,o){var s=typeof e.len=="number",a=typeof e.min=="number",l=typeof e.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=n,d=null,f=typeof n=="number",m=typeof n=="string",v=Array.isArray(n);if(f?d="number":m?d="string":v&&(d="array"),!d)return!1;v&&(c=n.length),m&&(c=n.replace(u,"_").length),s?c!==e.len&&i.push(Fn(o.messages[d].len,e.fullField,e.len)):a&&!l&&c<e.min?i.push(Fn(o.messages[d].min,e.fullField,e.min)):l&&!a&&c>e.max?i.push(Fn(o.messages[d].max,e.fullField,e.max)):a&&l&&(c<e.min||c>e.max)&&i.push(Fn(o.messages[d].range,e.fullField,e.min,e.max))},Os="enum",MV=function(e,n,r,i,o){e[Os]=Array.isArray(e[Os])?e[Os]:[],e[Os].indexOf(n)===-1&&i.push(Fn(o.messages[Os],e.fullField,e[Os].join(", ")))},LV=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(Fn(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(n)||i.push(Fn(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},Se={required:LO,whitespace:NV,type:AV,range:$V,enum:MV,pattern:LV},DV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n,"string")&&!e.required)return r();Se.required(e,n,i,s,o,"string"),Nt(n,"string")||(Se.type(e,n,i,s,o),Se.range(e,n,i,s,o),Se.pattern(e,n,i,s,o),e.whitespace===!0&&Se.whitespace(e,n,i,s,o))}r(s)},FV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n)&&!e.required)return r();Se.required(e,n,i,s,o),n!==void 0&&Se.type(e,n,i,s,o)}r(s)},jV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),Nt(n)&&!e.required)return r();Se.required(e,n,i,s,o),n!==void 0&&(Se.type(e,n,i,s,o),Se.range(e,n,i,s,o))}r(s)},UV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n)&&!e.required)return r();Se.required(e,n,i,s,o),n!==void 0&&Se.type(e,n,i,s,o)}r(s)},zV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n)&&!e.required)return r();Se.required(e,n,i,s,o),Nt(n)||Se.type(e,n,i,s,o)}r(s)},BV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n)&&!e.required)return r();Se.required(e,n,i,s,o),n!==void 0&&(Se.type(e,n,i,s,o),Se.range(e,n,i,s,o))}r(s)},VV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n)&&!e.required)return r();Se.required(e,n,i,s,o),n!==void 0&&(Se.type(e,n,i,s,o),Se.range(e,n,i,s,o))}r(s)},HV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();Se.required(e,n,i,s,o,"array"),n!=null&&(Se.type(e,n,i,s,o),Se.range(e,n,i,s,o))}r(s)},WV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n)&&!e.required)return r();Se.required(e,n,i,s,o),n!==void 0&&Se.type(e,n,i,s,o)}r(s)},qV="enum",GV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n)&&!e.required)return r();Se.required(e,n,i,s,o),n!==void 0&&Se[qV](e,n,i,s,o)}r(s)},KV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n,"string")&&!e.required)return r();Se.required(e,n,i,s,o),Nt(n,"string")||Se.pattern(e,n,i,s,o)}r(s)},QV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n,"date")&&!e.required)return r();if(Se.required(e,n,i,s,o),!Nt(n,"date")){var l;n instanceof Date?l=n:l=new Date(n),Se.type(e,l,i,s,o),l&&Se.range(e,l.getTime(),i,s,o)}}r(s)},XV=function(e,n,r,i,o){var s=[],a=Array.isArray(n)?"array":typeof n;Se.required(e,n,i,s,o,a),r(s)},xg=function(e,n,r,i,o){var s=e.type,a=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Nt(n,s)&&!e.required)return r();Se.required(e,n,i,a,o,s),Nt(n,s)||Se.type(e,n,i,a,o)}r(a)},YV=function(e,n,r,i,o){var s=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Nt(n)&&!e.required)return r();Se.required(e,n,i,s,o)}r(s)},nu={string:DV,method:FV,number:jV,boolean:UV,regexp:zV,integer:BV,float:VV,array:HV,object:WV,enum:GV,pattern:KV,date:QV,url:xg,hex:xg,email:xg,required:XV,any:YV};function F0(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var j0=F0(),Ic=function(){function t(n){this.rules=null,this._messages=j0,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var s=r[o];i.rules[o]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=Mb(F0(),r)),this._messages},e.validate=function(r,i,o){var s=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var a=r,l=i,u=o;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,a),Promise.resolve(a);function c(w){var C=[],g={};function p(E){if(Array.isArray(E)){var S;C=(S=C).concat.apply(S,E)}else C.push(E)}for(var y=0;y<w.length;y++)p(w[y]);C.length?(g=D0(C),u(C,g)):u(null,a)}if(l.messages){var d=this.messages();d===j0&&(d=F0()),Mb(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},m=l.keys||Object.keys(this.rules);m.forEach(function(w){var C=s.rules[w],g=a[w];C.forEach(function(p){var y=p;typeof y.transform=="function"&&(a===r&&(a=qo({},a)),g=a[w]=y.transform(g)),typeof y=="function"?y={validator:y}:y=qo({},y),y.validator=s.getValidationMethod(y),y.validator&&(y.field=w,y.fullField=y.fullField||w,y.type=s.getType(y),f[w]=f[w]||[],f[w].push({rule:y,value:g,source:a,field:w}))})});var v={};return kV(f,l,function(w,C){var g=w.rule,p=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");p=p&&(g.required||!g.required&&w.value),g.field=w.field;function y(_,b){return qo({},b,{fullField:g.fullField+"."+_,fullFields:g.fullFields?[].concat(g.fullFields,[_]):[_]})}function E(_){_===void 0&&(_=[]);var b=Array.isArray(_)?_:[_];!l.suppressWarning&&b.length&&t.warning("async-validator:",b),b.length&&g.message!==void 0&&(b=[].concat(g.message));var x=b.map($b(g,a));if(l.first&&x.length)return v[g.field]=1,C(x);if(!p)C(x);else{if(g.required&&!w.value)return g.message!==void 0?x=[].concat(g.message).map($b(g,a)):l.error&&(x=[l.error(g,Fn(l.messages.required,g.field))]),C(x);var N={};g.defaultField&&Object.keys(w.value).map(function(I){N[I]=g.defaultField}),N=qo({},N,w.rule.fields);var k={};Object.keys(N).forEach(function(I){var T=N[I],R=Array.isArray(T)?T:[T];k[I]=R.map(y.bind(null,I))});var M=new t(k);M.messages(l.messages),w.rule.options&&(w.rule.options.messages=l.messages,w.rule.options.error=l.error),M.validate(w.value,w.rule.options||l,function(I){var T=[];x&&x.length&&T.push.apply(T,x),I&&I.length&&T.push.apply(T,I),C(T.length?T:null)})}}var S;if(g.asyncValidator)S=g.asyncValidator(g,w.value,E,w.source,l);else if(g.validator){try{S=g.validator(g,w.value,E,w.source,l)}catch(_){console.error==null||console.error(_),l.suppressValidatorError||setTimeout(function(){throw _},0),E(_.message)}S===!0?E():S===!1?E(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):S instanceof Array?E(S):S instanceof Error&&E(S.message)}S&&S.then&&S.then(function(){return E()},function(_){return E(_)})},function(w){c(w)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!nu.hasOwnProperty(r.type))throw new Error(Fn("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?nu.required:nu[this.getType(r)]||void 0},t}();Ic.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");nu[e]=n};Ic.warning=_V;Ic.messages=j0;Ic.validators=nu;var Pn="'${name}' is not a valid ${type}",DO={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Pn,method:Pn,array:Pn,object:Pn,number:Pn,date:Pn,boolean:Pn,integer:Pn,float:Pn,regexp:Pn,email:Pn,url:Pn,hex:Pn},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Db=Ic;function JV(t,e){return t.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return e[r]})}var Fb="CODE_LOGIC_ERROR";function U0(t,e,n,r,i){return z0.apply(this,arguments)}function z0(){return z0=tl(Hn().mark(function t(e,n,r,i,o){var s,a,l,u,c,d,f,m,v;return Hn().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return s=F({},r),delete s.ruleIndex,Db.warning=function(){},s.validator&&(a=s.validator,s.validator=function(){try{return a.apply(void 0,arguments)}catch(g){return console.error(g),Promise.reject(Fb)}}),l=null,s&&s.type==="array"&&s.defaultField&&(l=s.defaultField,delete s.defaultField),u=new Db(ce({},e,[s])),c=ea(DO,i.validateMessages),u.messages(c),d=[],C.prev=10,C.next=13,Promise.resolve(u.validate(ce({},e,n),F({},i)));case 13:C.next=18;break;case 15:C.prev=15,C.t0=C.catch(10),C.t0.errors&&(d=C.t0.errors.map(function(g,p){var y=g.message,E=y===Fb?c.default:y;return h.isValidElement(E)?h.cloneElement(E,{key:"error_".concat(p)}):E}));case 18:if(!(!d.length&&l)){C.next=23;break}return C.next=21,Promise.all(n.map(function(g,p){return U0("".concat(e,".").concat(p),g,l,i,o)}));case 21:return f=C.sent,C.abrupt("return",f.reduce(function(g,p){return[].concat(re(g),re(p))},[]));case 23:return m=F(F({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),v=d.map(function(g){return typeof g=="string"?JV(g,m):g}),C.abrupt("return",v);case 26:case"end":return C.stop()}},t,null,[[10,15]])})),z0.apply(this,arguments)}function ZV(t,e,n,r,i,o){var s=t.join("."),a=n.map(function(c,d){var f=c.validator,m=F(F({},c),{},{ruleIndex:d});return f&&(m.validator=function(v,w,C){var g=!1,p=function(){for(var S=arguments.length,_=new Array(S),b=0;b<S;b++)_[b]=arguments[b];Promise.resolve().then(function(){Un(!g,"Your validator function has already return a promise. `callback` will be ignored."),g||C.apply(void 0,_)})},y=f(v,w,p);g=y&&typeof y.then=="function"&&typeof y.catch=="function",Un(g,"`callback` is deprecated. Please return a promise instead."),g&&y.then(function(){C()}).catch(function(E){C(E||" ")})}),m}).sort(function(c,d){var f=c.warningOnly,m=c.ruleIndex,v=d.warningOnly,w=d.ruleIndex;return!!f==!!v?m-w:f?1:-1}),l;if(i===!0)l=new Promise(function(){var c=tl(Hn().mark(function d(f,m){var v,w,C;return Hn().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:v=0;case 1:if(!(v<a.length)){p.next=12;break}return w=a[v],p.next=5,U0(s,e,w,r,o);case 5:if(C=p.sent,!C.length){p.next=9;break}return m([{errors:C,rule:w}]),p.abrupt("return");case 9:v+=1,p.next=1;break;case 12:f([]);case 13:case"end":return p.stop()}},d)}));return function(d,f){return c.apply(this,arguments)}}());else{var u=a.map(function(c){return U0(s,e,c,r,o).then(function(d){return{errors:d,rule:c}})});l=(i?t7(u):e7(u)).then(function(c){return Promise.reject(c)})}return l.catch(function(c){return c}),l}function e7(t){return B0.apply(this,arguments)}function B0(){return B0=tl(Hn().mark(function t(e){return Hn().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,s=(o=[]).concat.apply(o,re(i));return s}));case 1:case"end":return r.stop()}},t)})),B0.apply(this,arguments)}function t7(t){return V0.apply(this,arguments)}function V0(){return V0=tl(Hn().mark(function t(e){var n;return Hn().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(s){s.then(function(a){a.errors.length&&o([a]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),V0.apply(this,arguments)}function ht(t){return $0(t)}function jb(t,e){var n={};return e.forEach(function(r){var i=pr(t,r);n=dr(n,r,i)}),n}function ru(t,e){return t&&t.some(function(n){return FO(n,e)})}function FO(t,e){return!t||!e||t.length!==e.length?!1:t.every(function(n,r){return e[r]===n})}function n7(t,e){if(t===e)return!0;if(!t&&e||t&&!e||!t||!e||De(t)!=="object"||De(e)!=="object")return!1;var n=Object.keys(t),r=Object.keys(e),i=new Set([].concat(n,r));return re(i).every(function(o){var s=t[o],a=e[o];return typeof s=="function"&&typeof a=="function"?!0:s===a})}function r7(t){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&De(e.target)==="object"&&t in e.target?e.target[t]:e}function Ub(t,e,n){var r=t.length;if(e<0||e>=r||n<0||n>=r)return t;var i=t[e],o=e-n;return o>0?[].concat(re(t.slice(0,n)),[i],re(t.slice(n,e)),re(t.slice(e+1,r))):o<0?[].concat(re(t.slice(0,e)),re(t.slice(e+1,n+1)),[i],re(t.slice(n+1,r))):t}var i7=["name"],Xn=[];function zb(t,e,n,r,i,o){return typeof t=="function"?t(e,n,"source"in o?{source:o.source}:{}):r!==i}var zw=function(t){Tp(n,t);var e=Ip(n);function n(r){var i;if(Hr(this,n),i=e.call(this,r),i.state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.prevValidating=void 0,i.errors=Xn,i.warnings=Xn,i.cancelRegister=function(){var l=i.props,u=l.preserve,c=l.isListField,d=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(c,u,ht(d)),i.cancelRegisterFunc=null},i.getNamePath=function(){var l=i.props,u=l.name,c=l.fieldContext,d=c.prefixName,f=d===void 0?[]:d;return u!==void 0?[].concat(re(f),re(u)):[]},i.getRules=function(){var l=i.props,u=l.rules,c=u===void 0?[]:u,d=l.fieldContext;return c.map(function(f){return typeof f=="function"?f(d):f})},i.refresh=function(){i.mounted&&i.setState(function(l){var u=l.resetCount;return{resetCount:u+1}})},i.triggerMetaEvent=function(l){var u=i.props.onMetaChange;u==null||u(F(F({},i.getMeta()),{},{destroy:l}))},i.onStoreChange=function(l,u,c){var d=i.props,f=d.shouldUpdate,m=d.dependencies,v=m===void 0?[]:m,w=d.onReset,C=c.store,g=i.getNamePath(),p=i.getValue(l),y=i.getValue(C),E=u&&ru(u,g);switch(c.type==="valueUpdate"&&c.source==="external"&&p!==y&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=Xn,i.warnings=Xn,i.triggerMetaEvent()),c.type){case"reset":if(!u||E){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=Xn,i.warnings=Xn,i.triggerMetaEvent(),w==null||w(),i.refresh();return}break;case"remove":{if(f){i.reRender();return}break}case"setField":{if(E){var S=c.data;"touched"in S&&(i.touched=S.touched),"validating"in S&&!("originRCField"in S)&&(i.validatePromise=S.validating?Promise.resolve([]):null),"errors"in S&&(i.errors=S.errors||Xn),"warnings"in S&&(i.warnings=S.warnings||Xn),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}if(f&&!g.length&&zb(f,l,C,p,y,c)){i.reRender();return}break}case"dependenciesUpdate":{var _=v.map(ht);if(_.some(function(b){return ru(c.relatedFields,b)})){i.reRender();return}break}default:if(E||(!v.length||g.length||f)&&zb(f,l,C,p,y,c)){i.reRender();return}break}f===!0&&i.reRender()},i.validateRules=function(l){var u=i.getNamePath(),c=i.getValue(),d=l||{},f=d.triggerName,m=d.validateOnly,v=m===void 0?!1:m,w=Promise.resolve().then(function(){if(!i.mounted)return[];var C=i.props,g=C.validateFirst,p=g===void 0?!1:g,y=C.messageVariables,E=i.getRules();f&&(E=E.filter(function(_){return _}).filter(function(_){var b=_.validateTrigger;if(!b)return!0;var x=$0(b);return x.includes(f)}));var S=ZV(u,c,E,l,p,y);return S.catch(function(_){return _}).then(function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xn;if(i.validatePromise===w){var b;i.validatePromise=null;var x=[],N=[];(b=_.forEach)===null||b===void 0||b.call(_,function(k){var M=k.rule.warningOnly,I=k.errors,T=I===void 0?Xn:I;M?N.push.apply(N,re(T)):x.push.apply(x,re(T))}),i.errors=x,i.warnings=N,i.triggerMetaEvent(),i.reRender()}}),S});return v||(i.validatePromise=w,i.dirty=!0,i.errors=Xn,i.warnings=Xn,i.triggerMetaEvent(),i.reRender()),w},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,u=l.getInternalHooks(Wo),c=u.getInitialValue;return c(i.getNamePath())!==void 0},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l},i.getOnlyChild=function(l){if(typeof l=="function"){var u=i.getMeta();return F(F({},i.getOnlyChild(l(i.getControlled(),u,i.props.fieldContext))),{},{isFunction:!0})}var c=lh(l);return c.length!==1||!h.isValidElement(c[0])?{child:c,isFunction:!1}:{child:c[0],isFunction:!1}},i.getValue=function(l){var u=i.props.fieldContext.getFieldsValue,c=i.getNamePath();return pr(l||u(!0),c)},i.getControlled=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=i.props,c=u.trigger,d=u.validateTrigger,f=u.getValueFromEvent,m=u.normalize,v=u.valuePropName,w=u.getValueProps,C=u.fieldContext,g=d!==void 0?d:C.validateTrigger,p=i.getNamePath(),y=C.getInternalHooks,E=C.getFieldsValue,S=y(Wo),_=S.dispatch,b=i.getValue(),x=w||function(I){return ce({},v,I)},N=l[c],k=F(F({},l),x(b));k[c]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var I,T=arguments.length,R=new Array(T),P=0;P<T;P++)R[P]=arguments[P];f?I=f.apply(void 0,R):I=r7.apply(void 0,[v].concat(R)),m&&(I=m(I,b,E(!0))),_({type:"updateValue",namePath:p,value:I}),N&&N.apply(void 0,R)};var M=$0(g||[]);return M.forEach(function(I){var T=k[I];k[I]=function(){T&&T.apply(void 0,arguments);var R=i.props.rules;R&&R.length&&_({type:"validateField",namePath:p,triggerName:I})}}),k},r.fieldContext){var o=r.fieldContext.getInternalHooks,s=o(Wo),a=s.initEntityValue;a(ah(i))}return i}return Wr(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.shouldUpdate,s=i.fieldContext;if(this.mounted=!0,s){var a=s.getInternalHooks,l=a(Wo),u=l.registerField;this.cancelRegisterFunc=u(this)}o===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,o=this.props.children,s=this.getOnlyChild(o),a=s.child,l=s.isFunction,u;return l?u=a:h.isValidElement(a)?u=h.cloneElement(a,this.getControlled(a.props)):(Un(!a,"`children` of Field is not validate ReactElement."),u=a),h.createElement(h.Fragment,{key:i},u)}}]),n}(h.Component);zw.contextType=La;zw.defaultProps={trigger:"onChange",valuePropName:"value"};function jO(t){var e=t.name,n=In(t,i7),r=h.useContext(La),i=h.useContext(bh),o=e!==void 0?ht(e):void 0,s="keep";return n.isListField||(s="_".concat((o||[]).join("_"))),h.createElement(zw,ye({key:s,name:o,isListField:!!i},n,{fieldContext:r}))}var o7=function(e){var n=e.name,r=e.initialValue,i=e.children,o=e.rules,s=e.validateTrigger,a=e.isListField,l=h.useContext(La),u=h.useContext(bh),c=h.useRef({keys:[],id:0}),d=c.current,f=h.useMemo(function(){var C=ht(l.prefixName)||[];return[].concat(re(C),re(ht(n)))},[l.prefixName,n]),m=h.useMemo(function(){return F(F({},l),{},{prefixName:f})},[l,f]),v=h.useMemo(function(){return{getKey:function(g){var p=f.length,y=g[p];return[d.keys[y],g.slice(p+1)]}}},[f]);if(typeof i!="function")return Un(!1,"Form.List only accepts function as children."),null;var w=function(g,p,y){var E=y.source;return E==="internal"?!1:g!==p};return h.createElement(bh.Provider,{value:v},h.createElement(La.Provider,{value:m},h.createElement(jO,{name:[],shouldUpdate:w,rules:o,validateTrigger:s,initialValue:r,isList:!0,isListField:a??!!u},function(C,g){var p=C.value,y=p===void 0?[]:p,E=C.onChange,S=l.getFieldValue,_=function(){var k=S(f||[]);return k||[]},b={add:function(k,M){var I=_();M>=0&&M<=I.length?(d.keys=[].concat(re(d.keys.slice(0,M)),[d.id],re(d.keys.slice(M))),E([].concat(re(I.slice(0,M)),[k],re(I.slice(M))))):(d.keys=[].concat(re(d.keys),[d.id]),E([].concat(re(I),[k]))),d.id+=1},remove:function(k){var M=_(),I=new Set(Array.isArray(k)?k:[k]);I.size<=0||(d.keys=d.keys.filter(function(T,R){return!I.has(R)}),E(M.filter(function(T,R){return!I.has(R)})))},move:function(k,M){if(k!==M){var I=_();k<0||k>=I.length||M<0||M>=I.length||(d.keys=Ub(d.keys,k,M),E(Ub(I,k,M)))}}},x=y||[];return Array.isArray(x)||(x=[]),i(x.map(function(N,k){var M=d.keys[k];return M===void 0&&(d.keys[k]=d.id,M=d.keys[k],d.id+=1),{name:k,key:M,isListField:!0}}),b,g)})))};function s7(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(s,a){s.catch(function(l){return e=!0,l}).then(function(l){n-=1,r[a]=l,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}var UO="__@field_split__";function Tg(t){return t.map(function(e){return"".concat(De(e),":").concat(e)}).join(UO)}var Ns=function(){function t(){Hr(this,t),this.kvs=new Map}return Wr(t,[{key:"set",value:function(n,r){this.kvs.set(Tg(n),r)}},{key:"get",value:function(n){return this.kvs.get(Tg(n))}},{key:"update",value:function(n,r){var i=this.get(n),o=r(i);o?this.set(n,o):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(Tg(n))}},{key:"map",value:function(n){return re(this.kvs.entries()).map(function(r){var i=q(r,2),o=i[0],s=i[1],a=o.split(UO);return n({key:a.map(function(l){var u=l.match(/^([^:]*):(.*)$/),c=q(u,3),d=c[1],f=c[2];return d==="number"?Number(f):f}),value:s})})}},{key:"toJSON",value:function(){var n={};return this.map(function(r){var i=r.key,o=r.value;return n[i.join(".")]=o,null}),n}}]),t}(),a7=["name"],l7=Wr(function t(e){var n=this;Hr(this,t),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(r){return r===Wo?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(Un(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(r){n.subscribable=r},this.prevWithoutPreserves=null,this.setInitialValues=function(r,i){if(n.initialValues=r||{},i){var o,s=ea(r,n.store);(o=n.prevWithoutPreserves)===null||o===void 0||o.map(function(a){var l=a.key;s=dr(s,l,pr(r,l))}),n.prevWithoutPreserves=null,n.updateStore(s)}},this.destroyForm=function(){var r=new Ns;n.getFieldEntities(!0).forEach(function(i){n.isMergedPreserve(i.isPreserve())||r.set(i.getNamePath(),!0)}),n.prevWithoutPreserves=r},this.getInitialValue=function(r){var i=pr(n.initialValues,r);return r.length?ea(i):i},this.setCallbacks=function(r){n.callbacks=r},this.setValidateMessages=function(r){n.validateMessages=r},this.setPreserve=function(r){n.preserve=r},this.watchList=[],this.registerWatch=function(r){return n.watchList.push(r),function(){n.watchList=n.watchList.filter(function(i){return i!==r})}},this.notifyWatch=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var i=n.getFieldsValue(),o=n.getFieldsValue(!0);n.watchList.forEach(function(s){s(i,o,r)})}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(r){n.store=r},this.getFieldEntities=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?n.fieldEntities.filter(function(i){return i.getNamePath().length}):n.fieldEntities},this.getFieldsMap=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new Ns;return n.getFieldEntities(r).forEach(function(o){var s=o.getNamePath();i.set(s,o)}),i},this.getFieldEntitiesForNamePathList=function(r){if(!r)return n.getFieldEntities(!0);var i=n.getFieldsMap(!0);return r.map(function(o){var s=ht(o);return i.get(s)||{INVALIDATE_NAME_PATH:ht(o)}})},this.getFieldsValue=function(r,i){if(n.warningUnhooked(),r===!0&&!i)return n.store;var o=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),s=[];return o.forEach(function(a){var l,u="INVALIDATE_NAME_PATH"in a?a.INVALIDATE_NAME_PATH:a.getNamePath();if(!(!r&&(!((l=a.isListField)===null||l===void 0)&&l.call(a))))if(!i)s.push(u);else{var c="getMeta"in a?a.getMeta():null;i(c)&&s.push(u)}}),jb(n.store,s.map(ht))},this.getFieldValue=function(r){n.warningUnhooked();var i=ht(r);return pr(n.store,i)},this.getFieldsError=function(r){n.warningUnhooked();var i=n.getFieldEntitiesForNamePathList(r);return i.map(function(o,s){return o&&!("INVALIDATE_NAME_PATH"in o)?{name:o.getNamePath(),errors:o.getErrors(),warnings:o.getWarnings()}:{name:ht(r[s]),errors:[],warnings:[]}})},this.getFieldError=function(r){n.warningUnhooked();var i=ht(r),o=n.getFieldsError([i])[0];return o.errors},this.getFieldWarning=function(r){n.warningUnhooked();var i=ht(r),o=n.getFieldsError([i])[0];return o.warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i[0],a=i[1],l,u=!1;i.length===0?l=null:i.length===1?Array.isArray(s)?(l=s.map(ht),u=!1):(l=null,u=s):(l=s.map(ht),u=a);var c=n.getFieldEntities(!0),d=function(C){return C.isFieldTouched()};if(!l)return u?c.every(d):c.some(d);var f=new Ns;l.forEach(function(w){f.set(w,[])}),c.forEach(function(w){var C=w.getNamePath();l.forEach(function(g){g.every(function(p,y){return C[y]===p})&&f.update(g,function(p){return[].concat(re(p),[w])})})});var m=function(C){return C.some(d)},v=f.map(function(w){var C=w.value;return C});return u?v.every(m):v.some(m)},this.isFieldTouched=function(r){return n.warningUnhooked(),n.isFieldsTouched([r])},this.isFieldsValidating=function(r){n.warningUnhooked();var i=n.getFieldEntities();if(!r)return i.some(function(s){return s.isFieldValidating()});var o=r.map(ht);return i.some(function(s){var a=s.getNamePath();return ru(o,a)&&s.isFieldValidating()})},this.isFieldValidating=function(r){return n.warningUnhooked(),n.isFieldsValidating([r])},this.resetWithFieldInitialValue=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new Ns,o=n.getFieldEntities(!0);o.forEach(function(l){var u=l.props.initialValue,c=l.getNamePath();if(u!==void 0){var d=i.get(c)||new Set;d.add({entity:l,value:u}),i.set(c,d)}});var s=function(u){u.forEach(function(c){var d=c.props.initialValue;if(d!==void 0){var f=c.getNamePath(),m=n.getInitialValue(f);if(m!==void 0)Un(!1,"Form already set 'initialValues' with path '".concat(f.join("."),"'. Field can not overwrite it."));else{var v=i.get(f);if(v&&v.size>1)Un(!1,"Multiple Field with path '".concat(f.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(v){var w=n.getFieldValue(f);(!r.skipExist||w===void 0)&&n.updateStore(dr(n.store,f,re(v)[0].value))}}}})},a;r.entities?a=r.entities:r.namePathList?(a=[],r.namePathList.forEach(function(l){var u=i.get(l);if(u){var c;(c=a).push.apply(c,re(re(u).map(function(d){return d.entity})))}})):a=o,s(a)},this.resetFields=function(r){n.warningUnhooked();var i=n.store;if(!r){n.updateStore(ea(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(i,null,{type:"reset"}),n.notifyWatch();return}var o=r.map(ht);o.forEach(function(s){var a=n.getInitialValue(s);n.updateStore(dr(n.store,s,a))}),n.resetWithFieldInitialValue({namePathList:o}),n.notifyObservers(i,o,{type:"reset"}),n.notifyWatch(o)},this.setFields=function(r){n.warningUnhooked();var i=n.store,o=[];r.forEach(function(s){var a=s.name,l=In(s,a7),u=ht(a);o.push(u),"value"in l&&n.updateStore(dr(n.store,u,l.value)),n.notifyObservers(i,[u],{type:"setField",data:s})}),n.notifyWatch(o)},this.getFields=function(){var r=n.getFieldEntities(!0),i=r.map(function(o){var s=o.getNamePath(),a=o.getMeta(),l=F(F({},a),{},{name:s,value:n.getFieldValue(s)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i},this.initEntityValue=function(r){var i=r.props.initialValue;if(i!==void 0){var o=r.getNamePath(),s=pr(n.store,o);s===void 0&&n.updateStore(dr(n.store,o,i))}},this.isMergedPreserve=function(r){var i=r!==void 0?r:n.preserve;return i??!0},this.registerField=function(r){n.fieldEntities.push(r);var i=r.getNamePath();if(n.notifyWatch([i]),r.props.initialValue!==void 0){var o=n.store;n.resetWithFieldInitialValue({entities:[r],skipExist:!0}),n.notifyObservers(o,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(s,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(d){return d!==r}),!n.isMergedPreserve(a)&&(!s||l.length>1)){var u=s?void 0:n.getInitialValue(i);if(i.length&&n.getFieldValue(i)!==u&&n.fieldEntities.every(function(d){return!FO(d.getNamePath(),i)})){var c=n.store;n.updateStore(dr(c,i,u,!0)),n.notifyObservers(c,[i],{type:"remove"}),n.triggerDependenciesUpdate(c,i)}}n.notifyWatch([i])}},this.dispatch=function(r){switch(r.type){case"updateValue":{var i=r.namePath,o=r.value;n.updateValue(i,o);break}case"validateField":{var s=r.namePath,a=r.triggerName;n.validateFields([s],{triggerName:a});break}}},this.notifyObservers=function(r,i,o){if(n.subscribable){var s=F(F({},o),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(a){var l=a.onStoreChange;l(r,i,s)})}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(r,i){var o=n.getDependencyChildrenFields(i);return o.length&&n.validateFields(o),n.notifyObservers(r,o,{type:"dependenciesUpdate",relatedFields:[i].concat(re(o))}),o},this.updateValue=function(r,i){var o=ht(r),s=n.store;n.updateStore(dr(n.store,o,i)),n.notifyObservers(s,[o],{type:"valueUpdate",source:"internal"}),n.notifyWatch([o]);var a=n.triggerDependenciesUpdate(s,o),l=n.callbacks.onValuesChange;if(l){var u=jb(n.store,[o]);l(u,n.getFieldsValue())}n.triggerOnFieldsChange([o].concat(re(a)))},this.setFieldsValue=function(r){n.warningUnhooked();var i=n.store;if(r){var o=ea(n.store,r);n.updateStore(o)}n.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(r,i){n.setFields([{name:r,value:i}])},this.getDependencyChildrenFields=function(r){var i=new Set,o=[],s=new Ns;n.getFieldEntities().forEach(function(l){var u=l.props.dependencies;(u||[]).forEach(function(c){var d=ht(c);s.update(d,function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return f.add(l),f})})});var a=function l(u){var c=s.get(u)||new Set;c.forEach(function(d){if(!i.has(d)){i.add(d);var f=d.getNamePath();d.isFieldDirty()&&f.length&&(o.push(f),l(f))}})};return a(r),o},this.triggerOnFieldsChange=function(r,i){var o=n.callbacks.onFieldsChange;if(o){var s=n.getFields();if(i){var a=new Ns;i.forEach(function(u){var c=u.name,d=u.errors;a.set(c,d)}),s.forEach(function(u){u.errors=a.get(u.name)||u.errors})}var l=s.filter(function(u){var c=u.name;return ru(r,c)});o(l,s)}},this.validateFields=function(r,i){n.warningUnhooked();var o,s;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(o=r,s=i):s=r;var a=!!o,l=a?o.map(ht):[],u=[];n.getFieldEntities(!0).forEach(function(f){var m;if(a||l.push(f.getNamePath()),!((m=s)===null||m===void 0)&&m.recursive&&a){var v=f.getNamePath();v.every(function(g,p){return o[p]===g||o[p]===void 0})&&l.push(v)}if(!(!f.props.rules||!f.props.rules.length)){var w=f.getNamePath();if(!a||ru(l,w)){var C=f.validateRules(F({validateMessages:F(F({},DO),n.validateMessages)},s));u.push(C.then(function(){return{name:w,errors:[],warnings:[]}}).catch(function(g){var p,y=[],E=[];return(p=g.forEach)===null||p===void 0||p.call(g,function(S){var _=S.rule.warningOnly,b=S.errors;_?E.push.apply(E,re(b)):y.push.apply(y,re(b))}),y.length?Promise.reject({name:w,errors:y,warnings:E}):{name:w,errors:y,warnings:E}}))}}});var c=s7(u);n.lastValidatePromise=c,c.catch(function(f){return f}).then(function(f){var m=f.map(function(v){var w=v.name;return w});n.notifyObservers(n.store,m,{type:"validateFinish"}),n.triggerOnFieldsChange(m,f)});var d=c.then(function(){return n.lastValidatePromise===c?Promise.resolve(n.getFieldsValue(l)):Promise.reject([])}).catch(function(f){var m=f.filter(function(v){return v&&v.errors.length});return Promise.reject({values:n.getFieldsValue(l),errorFields:m,outOfDate:n.lastValidatePromise!==c})});return d.catch(function(f){return f}),n.triggerOnFieldsChange(l),d},this.submit=function(){n.warningUnhooked(),n.validateFields().then(function(r){var i=n.callbacks.onFinish;if(i)try{i(r)}catch(o){console.error(o)}}).catch(function(r){var i=n.callbacks.onFinishFailed;i&&i(r)})},this.forceRootUpdate=e});function zO(t){var e=h.useRef(),n=h.useState({}),r=q(n,2),i=r[1];if(!e.current)if(t)e.current=t;else{var o=function(){i({})},s=new l7(o);e.current=s.getForm()}return[e.current]}var H0=h.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),u7=function(e){var n=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,o=e.children,s=h.useContext(H0),a=h.useRef({});return h.createElement(H0.Provider,{value:F(F({},s),{},{validateMessages:F(F({},s.validateMessages),n),triggerFormChange:function(u,c){r&&r(u,{changedFields:c,forms:a.current}),s.triggerFormChange(u,c)},triggerFormFinish:function(u,c){i&&i(u,{values:c,forms:a.current}),s.triggerFormFinish(u,c)},registerForm:function(u,c){u&&(a.current=F(F({},a.current),{},ce({},u,c))),s.registerForm(u,c)},unregisterForm:function(u){var c=F({},a.current);delete c[u],a.current=c,s.unregisterForm(u)}})},o)},c7=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],d7=function(e,n){var r=e.name,i=e.initialValues,o=e.fields,s=e.form,a=e.preserve,l=e.children,u=e.component,c=u===void 0?"form":u,d=e.validateMessages,f=e.validateTrigger,m=f===void 0?"onChange":f,v=e.onValuesChange,w=e.onFieldsChange,C=e.onFinish,g=e.onFinishFailed,p=In(e,c7),y=h.useContext(H0),E=zO(s),S=q(E,1),_=S[0],b=_.getInternalHooks(Wo),x=b.useSubscribe,N=b.setInitialValues,k=b.setCallbacks,M=b.setValidateMessages,I=b.setPreserve,T=b.destroyForm;h.useImperativeHandle(n,function(){return _}),h.useEffect(function(){return y.registerForm(r,_),function(){y.unregisterForm(r)}},[y,_,r]),M(F(F({},y.validateMessages),d)),k({onValuesChange:v,onFieldsChange:function(H){if(y.triggerFormChange(r,H),w){for(var Q=arguments.length,te=new Array(Q>1?Q-1:0),se=1;se<Q;se++)te[se-1]=arguments[se];w.apply(void 0,[H].concat(te))}},onFinish:function(H){y.triggerFormFinish(r,H),C&&C(H)},onFinishFailed:g}),I(a);var R=h.useRef(null);N(i,!R.current),R.current||(R.current=!0),h.useEffect(function(){return T},[]);var P,$=typeof l=="function";if($){var L=_.getFieldsValue(!0);P=l(L,_)}else P=l;x(!$);var A=h.useRef();h.useEffect(function(){n7(A.current||[],o||[])||_.setFields(o||[]),A.current=o},[o,_]);var j=h.useMemo(function(){return F(F({},_),{},{validateTrigger:m})},[_,m]),U=h.createElement(bh.Provider,{value:null},h.createElement(La.Provider,{value:j},P));return c===!1?U:h.createElement(c,ye({},p,{onSubmit:function(H){H.preventDefault(),H.stopPropagation(),_.submit()},onReset:function(H){var Q;H.preventDefault(),_.resetFields(),(Q=p.onReset)===null||Q===void 0||Q.call(p,H)}}),U)};function Bb(t){try{return JSON.stringify(t)}catch{return Math.random()}}function f7(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=r===void 0?[]:r,o=e[1],s=o===void 0?{}:o,a=wV(s)?{form:s}:s,l=a.form,u=h.useState(),c=q(u,2),d=c[0],f=c[1],m=h.useMemo(function(){return Bb(d)},[d]),v=h.useRef(m);v.current=m;var w=h.useContext(La),C=l||w,g=C&&C._init,p=ht(i),y=h.useRef(p);return y.current=p,h.useEffect(function(){if(g){var E=C.getFieldsValue,S=C.getInternalHooks,_=S(Wo),b=_.registerWatch,x=b(function(k,M){var I=pr(a.preserve?M:k,y.current),T=Bb(I);v.current!==T&&(v.current=T,f(I))}),N=pr(a.preserve?E(!0):E(),y.current);return f(N),x}},[g]),d}var h7=h.forwardRef(d7),kc=h7;kc.FormProvider=u7;kc.Field=jO;kc.List=o7;kc.useForm=zO;kc.useWatch=f7;const Vb=h.createContext({}),p7=t=>{let{children:e,status:n,override:r}=t;const i=h.useContext(Vb),o=h.useMemo(()=>{const s=Object.assign({},i);return r&&delete s.isFormItemInput,n&&(delete s.status,delete s.hasFeedback,delete s.feedbackIcon),s},[n,r,i]);return h.createElement(Vb.Provider,{value:o},e)};function BO(t,e){return Y.createElement("span",{className:`${t}-close-x`},e||Y.createElement(EO,{className:`${t}-close-icon`}))}const VO=t=>{const{okText:e,okType:n="primary",cancelText:r,confirmLoading:i,onOk:o,onCancel:s,okButtonProps:a,cancelButtonProps:l}=t,[u]=Ow("Modal",HR());return Y.createElement(Y.Fragment,null,Y.createElement(A0,Object.assign({onClick:s},l),r||(u==null?void 0:u.cancelText)),Y.createElement(A0,Object.assign({},NO(n),{loading:i,onClick:o},a),e||(u==null?void 0:u.okText)))},m7=t=>({animationDuration:t,animationFillMode:"both"}),g7=t=>({animationDuration:t,animationFillMode:"both"}),HO=function(t,e,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:Object.assign(Object.assign({},m7(r)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:Object.assign(Object.assign({},g7(r)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},v7=new kn("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),y7=new kn("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),WO=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=t,r=`${n}-fade`,i=e?"&":"";return[HO(r,v7,y7,t.motionDurationMid,e),{[`
        ${i}${r}-enter,
        ${i}${r}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${i}${r}-leave`]:{animationTimingFunction:"linear"}}]},w7=new kn("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),E7=new kn("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),Hb=new kn("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),Wb=new kn("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),C7=new kn("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),S7=new kn("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),b7=new kn("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),_7=new kn("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),x7=new kn("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),T7=new kn("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),I7=new kn("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),k7=new kn("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),R7={zoom:{inKeyframes:w7,outKeyframes:E7},"zoom-big":{inKeyframes:Hb,outKeyframes:Wb},"zoom-big-fast":{inKeyframes:Hb,outKeyframes:Wb},"zoom-left":{inKeyframes:b7,outKeyframes:_7},"zoom-right":{inKeyframes:x7,outKeyframes:T7},"zoom-up":{inKeyframes:C7,outKeyframes:S7},"zoom-down":{inKeyframes:I7,outKeyframes:k7}},Bw=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=R7[e];return[HO(r,i,o,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]};function qb(t){return{position:t,top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0}}const qO=t=>{const{componentCls:e,antCls:n}=t;return[{[`${e}-root`]:{[`${e}${n}-zoom-enter, ${e}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},[`${e}${n}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},qb("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},qb("fixed")),{overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:WO(t)}]},O7=t=>{const{componentCls:e}=t;return[{[`${e}-root`]:{[`${e}-wrap`]:{zIndex:t.zIndexPopupBase,position:"fixed",inset:0,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"},[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${t.screenSMMax})`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${t.marginXS} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},Aw(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${t.margin*2}px)`,margin:"0 auto",paddingBottom:t.paddingLG,[`${e}-title`]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`},[`${e}-close`]:Object.assign({position:"absolute",top:(t.modalHeaderHeight-t.modalCloseBtnSize)/2,insetInlineEnd:(t.modalHeaderHeight-t.modalCloseBtnSize)/2,zIndex:t.zIndexPopupBase+10,padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${t.motionDurationMid}, background-color ${t.motionDurationMid}`,"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:`${t.modalCloseBtnSize}px`,justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:hover":{color:t.modalIconHoverColor,backgroundColor:t.wireframe?"transparent":t.colorFillContent,textDecoration:"none"},"&:active":{backgroundColor:t.wireframe?"transparent":t.colorFillContentHover}},JR(t)),[`${e}-header`]:{color:t.colorText,background:t.headerBg,borderRadius:`${t.borderRadiusLG}px ${t.borderRadiusLG}px 0 0`,marginBottom:t.marginXS},[`${e}-body`]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word"},[`${e}-footer`]:{textAlign:"end",background:t.footerBg,marginTop:t.marginSM,[`${t.antCls}-btn + ${t.antCls}-btn:not(${t.antCls}-dropdown-trigger)`]:{marginBottom:0,marginInlineStart:t.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},N7=t=>{const{componentCls:e}=t,n=`${e}-confirm`;return{[n]:{"&-rtl":{direction:"rtl"},[`${t.antCls}-modal-header`]:{display:"none"},[`${n}-body-wrapper`]:Object.assign({},RU()),[`${n}-body`]:{display:"flex",flexWrap:"wrap",alignItems:"center",[`${n}-title`]:{flex:"0 0 100%",display:"block",overflow:"hidden",color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,[`+ ${n}-content`]:{marginBlockStart:t.marginXS,flexBasis:"100%",maxWidth:`calc(100% - ${t.modalConfirmIconSize+t.marginSM}px)`}},[`${n}-content`]:{color:t.colorText,fontSize:t.fontSize},[`> ${t.iconCls}`]:{flex:"none",marginInlineEnd:t.marginSM,fontSize:t.modalConfirmIconSize,[`+ ${n}-title`]:{flex:1},[`+ ${n}-title + ${n}-content`]:{marginInlineStart:t.modalConfirmIconSize+t.marginSM}}},[`${n}-btns`]:{textAlign:"end",marginTop:t.marginSM,[`${t.antCls}-btn + ${t.antCls}-btn`]:{marginBottom:0,marginInlineStart:t.marginXS}}},[`${n}-error ${n}-body > ${t.iconCls}`]:{color:t.colorError},[`${n}-warning ${n}-body > ${t.iconCls},
        ${n}-confirm ${n}-body > ${t.iconCls}`]:{color:t.colorWarning},[`${n}-info ${n}-body > ${t.iconCls}`]:{color:t.colorInfo},[`${n}-success ${n}-body > ${t.iconCls}`]:{color:t.colorSuccess}}},P7=t=>{const{componentCls:e}=t;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},A7=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-confirm`;return{[e]:{[`${e}-content`]:{padding:0},[`${e}-header`]:{padding:t.modalHeaderPadding,borderBottom:`${t.modalHeaderBorderWidth}px ${t.modalHeaderBorderStyle} ${t.modalHeaderBorderColorSplit}`,marginBottom:0},[`${e}-body`]:{padding:t.modalBodyPadding},[`${e}-footer`]:{padding:`${t.modalFooterPaddingVertical}px ${t.modalFooterPaddingHorizontal}px`,borderTop:`${t.modalFooterBorderWidth}px ${t.modalFooterBorderStyle} ${t.modalFooterBorderColorSplit}`,borderRadius:`0 0 ${t.borderRadiusLG}px ${t.borderRadiusLG}px`,marginTop:0}},[r]:{[`${n}-modal-body`]:{padding:`${t.padding*2}px ${t.padding*2}px ${t.paddingLG}px`},[`${r}-body`]:{[`> ${t.iconCls}`]:{marginInlineEnd:t.margin,[`+ ${r}-title + ${r}-content`]:{marginInlineStart:t.modalConfirmIconSize+t.margin}}},[`${r}-btns`]:{marginTop:t.marginLG}}}},GO=_c("Modal",t=>{const e=t.padding,n=t.fontSizeHeading5,r=t.lineHeightHeading5,i=zr(t,{modalBodyPadding:t.paddingLG,modalHeaderPadding:`${e}px ${t.paddingLG}px`,modalHeaderBorderWidth:t.lineWidth,modalHeaderBorderStyle:t.lineType,modalHeaderBorderColorSplit:t.colorSplit,modalHeaderHeight:r*n+e*2,modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterPaddingVertical:t.paddingXS,modalFooterPaddingHorizontal:t.padding,modalFooterBorderWidth:t.lineWidth,modalIconHoverColor:t.colorIconHover,modalCloseIconColor:t.colorIcon,modalCloseBtnSize:t.fontSize*t.lineHeight,modalConfirmIconSize:t.fontSize*t.lineHeight});return[O7(i),N7(i),P7(i),qO(i),t.wireframe&&A7(i),Bw(i,"zoom")]},t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading}));var $7=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let W0;const M7=t=>{W0={x:t.pageX,y:t.pageY},setTimeout(()=>{W0=null},100)};yV()&&document.documentElement.addEventListener("click",M7,!0);const L7=t=>{var e;const{getPopupContainer:n,getPrefixCls:r,direction:i}=h.useContext(Rn),o=k=>{const{onCancel:M}=t;M==null||M(k)},s=k=>{const{onOk:M}=t;M==null||M(k)},{prefixCls:a,className:l,rootClassName:u,open:c,wrapClassName:d,centered:f,getContainer:m,closeIcon:v,focusTriggerAfterClose:w=!0,visible:C,width:g=520,footer:p}=t,y=$7(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose","visible","width","footer"]),E=r("modal",a),S=r(),[_,b]=GO(E),x=oe(d,{[`${E}-centered`]:!!f,[`${E}-wrap-rtl`]:i==="rtl"}),N=p===void 0?h.createElement(VO,Object.assign({},t,{onOk:s,onCancel:o})):p;return _(h.createElement(TO,null,h.createElement(p7,{status:!0,override:!0},h.createElement(Uw,Object.assign({width:g},y,{getContainer:m===void 0?n:m,prefixCls:E,rootClassName:oe(b,u),wrapClassName:x,footer:N,visible:c??C,mousePosition:(e=y.mousePosition)!==null&&e!==void 0?e:W0,onClose:o,closeIcon:BO(E,v),focusTriggerAfterClose:w,transitionName:wi(S,"zoom",t.transitionName),maskTransitionName:wi(S,"fade",t.maskTransitionName),className:oe(b,l)})))))},KO=L7;function QO(t){const{icon:e,onCancel:n,onOk:r,close:i,okText:o,okButtonProps:s,cancelText:a,cancelButtonProps:l,confirmPrefixCls:u,rootPrefixCls:c,type:d,okCancel:f,footer:m,locale:v}=t;let w=e;if(!e&&e!==null)switch(d){case"info":w=h.createElement(Qz,null);break;case"success":w=h.createElement($z,null);break;case"error":w=h.createElement(Fz,null);break;default:w=h.createElement(Wz,null)}const C=t.okType||"primary",g=f??d==="confirm",p=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[y]=Ow("Modal"),E=v||y,S=g&&h.createElement(bb,{actionFn:n,close:i,autoFocus:p==="cancel",buttonProps:l,prefixCls:`${c}-btn`},a||(E==null?void 0:E.cancelText));return h.createElement("div",{className:`${u}-body-wrapper`},h.createElement("div",{className:`${u}-body`},w,t.title===void 0?null:h.createElement("span",{className:`${u}-title`},t.title),h.createElement("div",{className:`${u}-content`},t.content)),m===void 0?h.createElement("div",{className:`${u}-btns`},S,h.createElement(bb,{type:C,actionFn:r,close:i,autoFocus:p==="ok",buttonProps:s,prefixCls:`${c}-btn`},o||(g?E==null?void 0:E.okText:E==null?void 0:E.justOkText))):m)}const D7=t=>{const{close:e,zIndex:n,afterClose:r,visible:i,open:o,keyboard:s,centered:a,getContainer:l,maskStyle:u,direction:c,prefixCls:d,wrapClassName:f,rootPrefixCls:m,iconPrefixCls:v,theme:w,bodyStyle:C,closable:g=!1,closeIcon:p,modalRender:y,focusTriggerAfterClose:E}=t,S=`${d}-confirm`,_=t.width||416,b=t.style||{},x=t.mask===void 0?!0:t.mask,N=t.maskClosable===void 0?!1:t.maskClosable,k=oe(S,`${S}-${t.type}`,{[`${S}-rtl`]:c==="rtl"},t.className);return h.createElement(el,{prefixCls:m,iconPrefixCls:v,direction:c,theme:w},h.createElement(KO,{prefixCls:d,className:k,wrapClassName:oe({[`${S}-centered`]:!!t.centered},f),onCancel:()=>e==null?void 0:e({triggerCancel:!0}),open:o,title:"",footer:null,transitionName:wi(m,"zoom",t.transitionName),maskTransitionName:wi(m,"fade",t.maskTransitionName),mask:x,maskClosable:N,maskStyle:u,style:b,bodyStyle:C,width:_,zIndex:n,afterClose:r,keyboard:s,centered:a,getContainer:l,closable:g,closeIcon:p,modalRender:y,focusTriggerAfterClose:E},h.createElement(QO,Object.assign({},t,{confirmPrefixCls:S}))))},XO=D7,F7=[],Go=F7;var j7=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let YO="";function U7(){return YO}function Rc(t){const e=document.createDocumentFragment();let n=Object.assign(Object.assign({},t),{close:s,open:!0}),r;function i(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];const d=u.some(f=>f&&f.triggerCancel);t.onCancel&&d&&t.onCancel.apply(t,[()=>{}].concat(re(u.slice(1))));for(let f=0;f<Go.length;f++)if(Go[f]===s){Go.splice(f,1);break}bO(e)}function o(l){var{okText:u,cancelText:c,prefixCls:d,getContainer:f}=l,m=j7(l,["okText","cancelText","prefixCls","getContainer"]);clearTimeout(r),r=setTimeout(()=>{const v=HR(),{getPrefixCls:w,getIconPrefixCls:C,getTheme:g}=Ez(),p=w(void 0,U7()),y=d||`${p}-modal`,E=C(),S=g();let _=f;_===!1&&(_=void 0),SO(h.createElement(XO,Object.assign({},m,{getContainer:_,prefixCls:y,rootPrefixCls:p,iconPrefixCls:E,okText:u,locale:v,theme:S,cancelText:c||v.cancelText})),e)})}function s(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];n=Object.assign(Object.assign({},n),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),i.apply(this,u)}}),n.visible&&delete n.visible,o(n)}function a(l){typeof l=="function"?n=l(n):n=Object.assign(Object.assign({},n),l),o(n)}return o(n),Go.push(s),{destroy:s,update:a}}function JO(t){return Object.assign(Object.assign({},t),{type:"warning"})}function ZO(t){return Object.assign(Object.assign({},t),{type:"info"})}function eN(t){return Object.assign(Object.assign({},t),{type:"success"})}function tN(t){return Object.assign(Object.assign({},t),{type:"error"})}function nN(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function z7(t){let{rootPrefixCls:e}=t;YO=e}const B7=(t,e)=>{let{afterClose:n,config:r}=t;var i;const[o,s]=h.useState(!0),[a,l]=h.useState(r),{direction:u,getPrefixCls:c}=h.useContext(Rn),d=c("modal"),f=c(),m=()=>{var g;n(),(g=a.afterClose)===null||g===void 0||g.call(a)},v=function(){s(!1);for(var g=arguments.length,p=new Array(g),y=0;y<g;y++)p[y]=arguments[y];const E=p.some(S=>S&&S.triggerCancel);a.onCancel&&E&&a.onCancel.apply(a,[()=>{}].concat(re(p.slice(1))))};h.useImperativeHandle(e,()=>({destroy:v,update:g=>{l(p=>Object.assign(Object.assign({},p),g))}}));const w=(i=a.okCancel)!==null&&i!==void 0?i:a.type==="confirm",[C]=Ow("Modal",go.Modal);return h.createElement(XO,Object.assign({prefixCls:d,rootPrefixCls:f},a,{close:v,open:o,afterClose:m,okText:a.okText||(w?C==null?void 0:C.okText:C==null?void 0:C.justOkText),direction:a.direction||u,cancelText:a.cancelText||(C==null?void 0:C.cancelText)}))},V7=h.forwardRef(B7);let Gb=0;const H7=h.memo(h.forwardRef((t,e)=>{const[n,r]=aB();return h.useImperativeHandle(e,()=>({patchElement:r}),[]),h.createElement(h.Fragment,null,n)}));function W7(){const t=h.useRef(null),[e,n]=h.useState([]);h.useEffect(()=>{e.length&&(re(e).forEach(s=>{s()}),n([]))},[e]);const r=h.useCallback(o=>function(a){var l;Gb+=1;const u=h.createRef();let c;const d=h.createElement(V7,{key:`modal-${Gb}`,config:o(a),ref:u,afterClose:()=>{c==null||c()}});return c=(l=t.current)===null||l===void 0?void 0:l.patchElement(d),c&&Go.push(c),{destroy:()=>{function f(){var m;(m=u.current)===null||m===void 0||m.destroy()}u.current?f():n(m=>[].concat(re(m),[f]))},update:f=>{function m(){var v;(v=u.current)===null||v===void 0||v.update(f)}u.current?m():n(v=>[].concat(re(v),[m]))}}},[]);return[h.useMemo(()=>({info:r(ZO),success:r(eN),error:r(tN),warning:r(JO),confirm:r(nN)}),[]),h.createElement(H7,{key:"modal-holder",ref:t})]}const q7=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var Kb=h.createContext(null);function Qb(t){return t?Array.isArray(t)?t:[t]:[]}function G7(t,e,n,r){return h.useMemo(function(){var i=Qb(n??e),o=Qb(r??e),s=new Set(i),a=new Set(o);return t&&(s.has("hover")&&(s.delete("hover"),s.add("click")),a.has("hover")&&(a.delete("hover"),a.add("click"))),[s,a]},[t,e,n,r])}function K7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function Q7(t,e,n,r){for(var i=n.points,o=Object.keys(t),s=0;s<o.length;s+=1){var a,l=o[s];if(K7((a=t[l])===null||a===void 0?void 0:a.points,i,r))return"".concat(e,"-placement-").concat(l)}return""}function Xb(t,e,n,r){return e||(n?{motionName:"".concat(t,"-").concat(n)}:r?{motionName:r}:null)}function Oc(t){return t.ownerDocument.defaultView}function q0(t){for(var e=[],n=t==null?void 0:t.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=Oc(n).getComputedStyle(n),o=i.overflowX,s=i.overflowY,a=i.overflow;[o,s,a].some(function(l){return r.includes(l)})&&e.push(n),n=n.parentElement}return e}function Vu(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function Sl(t){return Vu(parseFloat(t),0)}function Yb(t,e){var n=F({},t);return(e||[]).forEach(function(r){if(!(r instanceof HTMLBodyElement)){var i=Oc(r).getComputedStyle(r),o=i.overflow,s=i.overflowClipMargin,a=i.borderTopWidth,l=i.borderBottomWidth,u=i.borderLeftWidth,c=i.borderRightWidth,d=r.getBoundingClientRect(),f=r.offsetHeight,m=r.clientHeight,v=r.offsetWidth,w=r.clientWidth,C=Sl(a),g=Sl(l),p=Sl(u),y=Sl(c),E=Vu(Math.round(d.width/v*1e3)/1e3),S=Vu(Math.round(d.height/f*1e3)/1e3),_=(v-w-p-y)*E,b=(f-m-C-g)*S,x=C*S,N=g*S,k=p*E,M=y*E,I=0,T=0;if(o==="clip"){var R=Sl(s);I=R*E,T=R*S}var P=d.x+k-I,$=d.y+x-T,L=P+d.width+2*I-k-M-_,A=$+d.height+2*T-x-N-b;n.left=Math.max(n.left,P),n.top=Math.max(n.top,$),n.right=Math.min(n.right,L),n.bottom=Math.min(n.bottom,A)}}),n}function Jb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),r=n.match(/^(.*)\%$/);return r?t*(parseFloat(r[1])/100):parseFloat(n)}function Zb(t,e){var n=e||[],r=q(n,2),i=r[0],o=r[1];return[Jb(t.width,i),Jb(t.height,o)]}function e_(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function Ps(t,e){var n=e[0],r=e[1],i,o;return n==="t"?o=t.y:n==="b"?o=t.y+t.height:o=t.y+t.height/2,r==="l"?i=t.x:r==="r"?i=t.x+t.width:i=t.x+t.width/2,{x:i,y:o}}function Ni(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(r,i){return i===e?n[r]||"c":r}).join("")}function X7(t,e,n,r,i,o,s){var a=h.useState({ready:!1,offsetX:0,offsetY:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),l=q(a,2),u=l[0],c=l[1],d=h.useRef(0),f=h.useMemo(function(){return e?q0(e):[]},[e]),m=h.useRef({}),v=function(){m.current={}};t||v();var w=Zr(function(){if(e&&n&&t){let Qt=function(al,Kr){var Ts=arguments.length>2&&arguments[2]!==void 0?arguments[2]:vt,Bc=k.x+al,ll=k.y+Kr,Vc=Bc+H,ul=ll+V,Hc=Math.max(Bc,Ts.left),lm=Math.max(ll,Ts.top),um=Math.min(Vc,Ts.right),cm=Math.min(ul,Ts.bottom);return Math.max(0,(um-Hc)*(cm-lm))},ki=function(){Io=k.y+Ge,ko=Io+V,xi=k.x+qe,Ro=xi+H};var Ww=Qt,zc=ki,p=e,y=p.style.left,E=p.style.top,S=p.ownerDocument,_=Oc(p),b=F(F({},i[r]),o);p.style.left="0",p.style.top="0";var x;if(Array.isArray(n))x={x:n[0],y:n[1],width:0,height:0};else{var N=n.getBoundingClientRect();x={x:N.x,y:N.y,width:N.width,height:N.height}}var k=p.getBoundingClientRect(),M=_.getComputedStyle(p),I=M.width,T=M.height,R=S.documentElement,P=R.clientWidth,$=R.clientHeight,L=R.scrollWidth,A=R.scrollHeight,j=R.scrollTop,U=R.scrollLeft,V=k.height,H=k.width,Q=x.height,te=x.width,se={left:0,top:0,right:P,bottom:$},we={left:-U,top:-j,right:L-U,bottom:A-j},xe=b.htmlRegion,$e="visible",Te="visibleFirst";xe!=="scroll"&&xe!==Te&&(xe=$e);var ne=xe===Te,ie=Yb(we,f),ue=Yb(se,f),vt=xe===$e?ue:ie,Ye=ne?ue:vt;p.style.left=y,p.style.top=E;var Fe=Vu(Math.round(H/parseFloat(I)*1e3)/1e3),yt=Vu(Math.round(V/parseFloat(T)*1e3)/1e3);if(Fe===0||yt===0||uh(n)&&!_O(n))return;var Pt=b.offset,Me=b.targetOffset,ve=Zb(k,Pt),he=q(ve,2),me=he[0],Oe=he[1],Tt=Zb(x,Me),Kn=q(Tt,2),wt=Kn[0],qr=Kn[1];x.x-=wt,x.y-=qr;var Ue=b.points||[],Ee=q(Ue,2),Qn=Ee[0],Ut=Ee[1],It=e_(Ut),Je=e_(Qn),At=Ps(x,It),st=Ps(k,Je),kt=F({},b),qe=At.x-st.x+me,Ge=At.y-st.y+Oe,dn=Qt(qe,Ge),Ci=Qt(qe,Ge,ue),xo=Ps(x,["t","l"]),_s=Ps(k,["t","l"]),Si=Ps(x,["b","r"]),at=Ps(k,["b","r"]),zt=b.overflow||{},bi=zt.adjustX,To=zt.adjustY,_i=zt.shiftX,nl=zt.shiftY,_r=function(Kr){return typeof Kr=="boolean"?Kr:Kr>=0},Io,ko,xi,Ro;ki();var Ac=_r(To),rl=Je[0]===It[0];if(Ac&&Je[0]==="t"&&(ko>Ye.bottom||m.current.bt)){var Gr=Ge;rl?Gr-=V-Q:Gr=xo.y-at.y-Oe;var il=Qt(qe,Gr),Qp=Qt(qe,Gr,ue);il>dn||il===dn&&(!ne||Qp>=Ci)?(m.current.bt=!0,Ge=Gr,kt.points=[Ni(Je,0),Ni(It,0)]):m.current.bt=!1}if(Ac&&Je[0]==="b"&&(Io<Ye.top||m.current.tb)){var Ti=Ge;rl?Ti+=V-Q:Ti=Si.y-_s.y-Oe;var ol=Qt(qe,Ti),Xp=Qt(qe,Ti,ue);ol>dn||ol===dn&&(!ne||Xp>=Ci)?(m.current.tb=!0,Ge=Ti,kt.points=[Ni(Je,0),Ni(It,0)]):m.current.tb=!1}var xs=_r(bi),$c=Je[1]===It[1];if(xs&&Je[1]==="l"&&(Ro>Ye.right||m.current.rl)){var fn=qe;$c?fn-=H-te:fn=xo.x-at.x-me;var Mc=Qt(fn,Ge),Yp=Qt(fn,Ge,ue);Mc>dn||Mc===dn&&(!ne||Yp>=Ci)?(m.current.rl=!0,qe=fn,kt.points=[Ni(Je,1),Ni(It,1)]):m.current.rl=!1}if(xs&&Je[1]==="r"&&(xi<Ye.left||m.current.lr)){var Oo=qe;$c?Oo+=H-te:Oo=Si.x-_s.x-me;var Lc=Qt(Oo,Ge),Jp=Qt(Oo,Ge,ue);Lc>dn||Lc===dn&&(!ne||Jp>=Ci)?(m.current.lr=!0,qe=Oo,kt.points=[Ni(Je,1),Ni(It,1)]):m.current.lr=!1}ki();var No=_i===!0?0:_i;typeof No=="number"&&(xi<ue.left&&(qe-=xi-ue.left,x.x+te<ue.left+No&&(qe+=x.x-ue.left+te-No)),Ro>ue.right&&(qe-=Ro-ue.right,x.x>ue.right-No&&(qe+=x.x-ue.right+No)));var Po=nl===!0?0:nl;typeof Po=="number"&&(Io<ue.top&&(Ge-=Io-ue.top,x.y+Q<ue.top+Po&&(Ge+=x.y-ue.top+Q-Po)),ko>ue.bottom&&(Ge-=ko-ue.bottom,x.y>ue.bottom-Po&&(Ge+=x.y-ue.bottom+Po)));var Ii=k.x+qe,sl=Ii+H,xr=k.y+Ge,Zp=xr+V,Dc=x.x,em=Dc+te,Fc=x.y,jc=Fc+Q,tm=Math.max(Ii,Dc),nm=Math.min(sl,em),rm=(tm+nm)/2,Uc=rm-Ii,im=Math.max(xr,Fc),om=Math.min(Zp,jc),sm=(im+om)/2,am=sm-xr;s==null||s(e,kt),c({ready:!0,offsetX:qe/Fe,offsetY:Ge/yt,arrowX:Uc/Fe,arrowY:am/yt,scaleX:Fe,scaleY:yt,align:kt})}}),C=function(){d.current+=1;var y=d.current;Promise.resolve().then(function(){d.current===y&&w()})},g=function(){c(function(y){return F(F({},y),{},{ready:!1})})};return En(g,[r]),En(function(){t||g()},[t]),[u.ready,u.offsetX,u.offsetY,u.arrowX,u.arrowY,u.scaleX,u.scaleY,u.align,C]}function Y7(t,e,n,r){En(function(){if(t&&e&&n){let d=function(){r()};var c=d,i=e,o=n,s=q0(i),a=q0(o),l=Oc(o),u=new Set([l].concat(re(s),re(a)));return u.forEach(function(f){f.addEventListener("scroll",d,{passive:!0})}),l.addEventListener("resize",d,{passive:!0}),r(),function(){u.forEach(function(f){f.removeEventListener("scroll",d),l.removeEventListener("resize",d)})}}},[t,e,n])}function J7(t,e,n,r,i,o,s,a){var l=h.useRef(t),u=h.useRef(!1);l.current!==t&&(u.current=!0,l.current=t),h.useEffect(function(){var c=mo(function(){u.current=!1});return function(){mo.cancel(c)}},[t]),h.useEffect(function(){if(e&&r&&(!i||o)){var c=function(){var _=!1,b=function(k){var M=k.target;_=s(M)},x=function(k){var M=k.target;!u.current&&l.current&&!_&&!s(M)&&a(!1)};return[b,x]},d=c(),f=q(d,2),m=f[0],v=f[1],w=c(),C=q(w,2),g=C[0],p=C[1],y=Oc(r);y.addEventListener("mousedown",m),y.addEventListener("click",v);var E=wh(n);return E&&(E.addEventListener("mousedown",g),E.addEventListener("click",p)),function(){y.removeEventListener("mousedown",m),y.removeEventListener("click",v),E&&(E.removeEventListener("mousedown",g),E.removeEventListener("click",p))}}},[e,n,r,i,o])}function Z7(t){var e=t.prefixCls,n=t.align,r=t.arrow,i=t.arrowPos,o=r||{},s=o.className,a=o.content,l=i.x,u=l===void 0?0:l,c=i.y,d=c===void 0?0:c,f=h.useRef();if(!n||!n.points)return null;var m={position:"absolute"};if(n.autoArrow!==!1){var v=n.points[0],w=n.points[1],C=v[0],g=v[1],p=w[0],y=w[1];C===p||!["t","b"].includes(C)?m.top=d:C==="t"?m.top=0:m.bottom=0,g===y||!["l","r"].includes(g)?m.left=u:g==="l"?m.left=0:m.right=0}return h.createElement("div",{ref:f,className:oe("".concat(e,"-arrow"),s),style:m},a)}function eH(t){var e=t.prefixCls,n=t.open,r=t.zIndex,i=t.mask,o=t.motion;return i?h.createElement(_o,ye({},o,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(s){var a=s.className;return h.createElement("div",{style:{zIndex:r},className:oe("".concat(e,"-mask"),a)})}):null}var tH=h.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),nH=h.forwardRef(function(t,e){var n=t.popup,r=t.className,i=t.prefixCls,o=t.style,s=t.target,a=t.onVisibleChanged,l=t.open,u=t.keepDom,c=t.onClick,d=t.mask,f=t.arrow,m=t.arrowPos,v=t.align,w=t.motion,C=t.maskMotion,g=t.forceRender,p=t.getPopupContainer,y=t.autoDestroy,E=t.portal,S=t.zIndex,_=t.onMouseEnter,b=t.onMouseLeave,x=t.ready,N=t.offsetX,k=t.offsetY,M=t.onAlign,I=t.onPrepare,T=t.stretch,R=t.targetWidth,P=t.targetHeight,$=typeof n=="function"?n():n,L=l||u,A=(p==null?void 0:p.length)>0,j=h.useState(!p||!A),U=q(j,2),V=U[0],H=U[1];if(En(function(){!V&&A&&s&&H(!0)},[V,A,s]),!V)return null;var Q=x||!l?{left:N,top:k}:{left:"-1000vw",top:"-1000vh"},te={};return T&&(T.includes("height")&&P?te.height=P:T.includes("minHeight")&&P&&(te.minHeight=P),T.includes("width")&&R?te.width=R:T.includes("minWidth")&&R&&(te.minWidth=R)),l||(te.pointerEvents="none"),h.createElement(E,{open:g||L,getContainer:p&&function(){return p(s)},autoDestroy:y},h.createElement(eH,{prefixCls:i,open:l,zIndex:S,mask:d,motion:C}),h.createElement(Ew,{onResize:M,disabled:!l},function(se){return h.createElement(_o,ye({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:g,leavedClassName:"".concat(i,"-hidden")},w,{onAppearPrepare:I,onEnterPrepare:I,visible:l,onVisibleChanged:function(xe){var $e;w==null||($e=w.onVisibleChanged)===null||$e===void 0||$e.call(w,xe),a(xe)}}),function(we,xe){var $e=we.className,Te=we.style,ne=oe(i,$e,r);return h.createElement("div",{ref:Ec(se,e,xe),className:ne,style:F(F(F(F({"--arrow-x":"".concat(m.x||0,"px"),"--arrow-y":"".concat(m.y||0,"px")},Q),te),Te),{},{boxSizing:"border-box",zIndex:S},o),onMouseEnter:_,onMouseLeave:b,onClick:c},f&&h.createElement(Z7,{prefixCls:i,arrow:f,arrowPos:m,align:v}),h.createElement(tH,{cache:!l},$))})}))}),rH=h.forwardRef(function(t,e){var n=t.children,r=t.getTriggerDOMNode,i=Cc(n),o=h.useCallback(function(a){ww(e,r?r(a):a)},[r]),s=mR(o,n.ref);return i?h.cloneElement(n,{ref:s}):n}),iH=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function oH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Gp,e=h.forwardRef(function(n,r){var i=n.prefixCls,o=i===void 0?"rc-trigger-popup":i,s=n.children,a=n.action,l=a===void 0?"hover":a,u=n.showAction,c=n.hideAction,d=n.popupVisible,f=n.defaultPopupVisible,m=n.onPopupVisibleChange,v=n.afterPopupVisibleChange,w=n.mouseEnterDelay,C=n.mouseLeaveDelay,g=C===void 0?.1:C,p=n.focusDelay,y=n.blurDelay,E=n.mask,S=n.maskClosable,_=S===void 0?!0:S,b=n.getPopupContainer,x=n.forceRender,N=n.autoDestroy,k=n.destroyPopupOnHide,M=n.popup,I=n.popupClassName,T=n.popupStyle,R=n.popupPlacement,P=n.builtinPlacements,$=P===void 0?{}:P,L=n.popupAlign,A=n.zIndex,j=n.stretch,U=n.getPopupClassNameFromAlign,V=n.alignPoint,H=n.onPopupClick,Q=n.onPopupAlign,te=n.arrow,se=n.popupMotion,we=n.maskMotion,xe=n.popupTransitionName,$e=n.popupAnimation,Te=n.maskTransitionName,ne=n.maskAnimation,ie=n.className,ue=n.getTriggerDOMNode,vt=In(n,iH),Ye=N||k||!1,Fe=h.useState(!1),yt=q(Fe,2),Pt=yt[0],Me=yt[1];En(function(){Me(q7())},[]);var ve=h.useRef({}),he=h.useContext(Kb),me=h.useMemo(function(){return{registerSubPopup:function(ge,Ke){ve.current[ge]=Ke,he==null||he.registerSubPopup(ge,Ke)}}},[he]),Oe=AO(),Tt=h.useState(null),Kn=q(Tt,2),wt=Kn[0],qr=Kn[1],Ue=Zr(function(Z){uh(Z)&&wt!==Z&&qr(Z),he==null||he.registerSubPopup(Oe,Z)}),Ee=h.useState(null),Qn=q(Ee,2),Ut=Qn[0],It=Qn[1],Je=Zr(function(Z){uh(Z)&&Ut!==Z&&It(Z)}),At=h.Children.only(s),st=(At==null?void 0:At.props)||{},kt={},qe=Zr(function(Z){var ge,Ke,Et=Ut;return(Et==null?void 0:Et.contains(Z))||((ge=wh(Et))===null||ge===void 0?void 0:ge.host)===Z||Z===Et||(wt==null?void 0:wt.contains(Z))||((Ke=wh(wt))===null||Ke===void 0?void 0:Ke.host)===Z||Z===wt||Object.values(ve.current).some(function(Ze){return(Ze==null?void 0:Ze.contains(Z))||Z===Ze})}),Ge=Xb(o,se,$e,xe),dn=Xb(o,we,ne,Te),Ci=h.useState(f||!1),xo=q(Ci,2),_s=xo[0],Si=xo[1],at=d??_s,zt=Zr(function(Z){d===void 0&&Si(Z)});En(function(){Si(d||!1)},[d]);var bi=h.useRef(at);bi.current=at;var To=Zr(function(Z){at!==Z&&(zt(Z),m==null||m(Z))}),_i=h.useRef(),nl=function(){clearTimeout(_i.current)},_r=function(ge){var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;nl(),Ke===0?To(ge):_i.current=setTimeout(function(){To(ge)},Ke*1e3)};h.useEffect(function(){return nl},[]);var Io=h.useState(!1),ko=q(Io,2),xi=ko[0],Ro=ko[1];En(function(Z){(!Z||at)&&Ro(!0)},[at]);var Ac=h.useState(null),rl=q(Ac,2),Gr=rl[0],il=rl[1],Qp=h.useState([0,0]),Ti=q(Qp,2),ol=Ti[0],Xp=Ti[1],xs=function(ge){Xp([ge.clientX,ge.clientY])},$c=X7(at,wt,V?ol:Ut,R,$,L,Q),fn=q($c,9),Mc=fn[0],Yp=fn[1],Oo=fn[2],Lc=fn[3],Jp=fn[4],No=fn[5],Po=fn[6],Ii=fn[7],sl=fn[8],xr=Zr(function(){xi||sl()});Y7(at,Ut,wt,xr),En(function(){xr()},[ol,R]),En(function(){at&&!($!=null&&$[R])&&xr()},[JSON.stringify(L)]);var Zp=h.useMemo(function(){var Z=Q7($,o,Ii,V);return oe(Z,U==null?void 0:U(Ii))},[Ii,U,$,o,V]);h.useImperativeHandle(r,function(){return{forceAlign:xr}});var Dc=function(ge){Ro(!1),sl(),v==null||v(ge)},em=function(){return new Promise(function(ge){il(function(){return ge})})};En(function(){Gr&&(sl(),Gr(),il(null))},[Gr]);var Fc=h.useState(0),jc=q(Fc,2),tm=jc[0],nm=jc[1],rm=h.useState(0),Uc=q(rm,2),im=Uc[0],om=Uc[1],sm=function(ge,Ke){if(xr(),j){var Et=Ke.getBoundingClientRect();nm(Et.width),om(Et.height)}},am=G7(Pt,l,u,c),Ww=q(am,2),zc=Ww[0],Qt=Ww[1],ki=function(ge,Ke,Et,Ze){kt[ge]=function(qw){var Wc;Ze==null||Ze(qw),_r(Ke,Et);for(var dm=arguments.length,Gw=new Array(dm>1?dm-1:0),qc=1;qc<dm;qc++)Gw[qc-1]=arguments[qc];(Wc=st[ge])===null||Wc===void 0||Wc.call.apply(Wc,[st,qw].concat(Gw))}},al=zc.has("click"),Kr=Qt.has("click")||Qt.has("contextMenu");(al||Kr)&&(kt.onClick=function(Z){var ge;bi.current&&Kr?_r(!1):!bi.current&&al&&(xs(Z),_r(!0));for(var Ke=arguments.length,Et=new Array(Ke>1?Ke-1:0),Ze=1;Ze<Ke;Ze++)Et[Ze-1]=arguments[Ze];(ge=st.onClick)===null||ge===void 0||ge.call.apply(ge,[st,Z].concat(Et))}),J7(at,Kr,Ut,wt,E,_,qe,_r);var Ts=zc.has("hover"),Bc=Qt.has("hover"),ll,Vc;Ts&&(ki("onMouseEnter",!0,w,function(Z){xs(Z)}),ll=function(){_r(!0,w)},V&&(kt.onMouseMove=function(Z){var ge;(ge=st.onMouseMove)===null||ge===void 0||ge.call(st,Z)})),Bc&&(ki("onMouseLeave",!1,g),Vc=function(){_r(!1,g)}),zc.has("focus")&&ki("onFocus",!0,p),Qt.has("focus")&&ki("onBlur",!1,y),zc.has("contextMenu")&&(kt.onContextMenu=function(Z){var ge;xs(Z),_r(!0),Z.preventDefault();for(var Ke=arguments.length,Et=new Array(Ke>1?Ke-1:0),Ze=1;Ze<Ke;Ze++)Et[Ze-1]=arguments[Ze];(ge=st.onContextMenu)===null||ge===void 0||ge.call.apply(ge,[st,Z].concat(Et))}),ie&&(kt.className=oe(st.className,ie));var ul=F(F({},st),kt),Hc={},lm=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];lm.forEach(function(Z){vt[Z]&&(Hc[Z]=function(){for(var ge,Ke=arguments.length,Et=new Array(Ke),Ze=0;Ze<Ke;Ze++)Et[Ze]=arguments[Ze];(ge=ul[Z])===null||ge===void 0||ge.call.apply(ge,[ul].concat(Et)),vt[Z].apply(vt,Et)})});var um=h.cloneElement(At,F(F({},ul),Hc)),cm={x:Lc,y:Jp},EN=te?F({},te!==!0?te:{}):null;return h.createElement(h.Fragment,null,h.createElement(Ew,{disabled:!at,ref:Je,onResize:sm},h.createElement(rH,{getTriggerDOMNode:ue},um)),h.createElement(Kb.Provider,{value:me},h.createElement(nH,{portal:t,ref:Ue,prefixCls:o,popup:M,className:oe(I,Zp),style:T,target:Ut,onMouseEnter:ll,onMouseLeave:Vc,zIndex:A,open:at,keepDom:xi,onClick:H,mask:E,motion:Ge,maskMotion:dn,onVisibleChanged:Dc,onPrepare:em,forceRender:x,autoDestroy:Ye,getPopupContainer:b,align:Ii,arrow:EN,arrowPos:cm,ready:Mc,offsetX:Yp,offsetY:Oo,onAlign:xr,stretch:j,targetWidth:tm/No,targetHeight:im/Po})))});return e}const sH=oH(Gp);var As={shiftX:64,adjustY:1},$s={adjustX:1,shiftY:!0},Yn=[0,0],aH={left:{points:["cr","cl"],overflow:$s,offset:[-4,0],targetOffset:Yn},right:{points:["cl","cr"],overflow:$s,offset:[4,0],targetOffset:Yn},top:{points:["bc","tc"],overflow:As,offset:[0,-4],targetOffset:Yn},bottom:{points:["tc","bc"],overflow:As,offset:[0,4],targetOffset:Yn},topLeft:{points:["bl","tl"],overflow:As,offset:[0,-4],targetOffset:Yn},leftTop:{points:["tr","tl"],overflow:$s,offset:[-4,0],targetOffset:Yn},topRight:{points:["br","tr"],overflow:As,offset:[0,-4],targetOffset:Yn},rightTop:{points:["tl","tr"],overflow:$s,offset:[4,0],targetOffset:Yn},bottomRight:{points:["tr","br"],overflow:As,offset:[0,4],targetOffset:Yn},rightBottom:{points:["bl","br"],overflow:$s,offset:[4,0],targetOffset:Yn},bottomLeft:{points:["tl","bl"],overflow:As,offset:[0,4],targetOffset:Yn},leftBottom:{points:["br","bl"],overflow:$s,offset:[-4,0],targetOffset:Yn}};function rN(t){var e=t.children,n=t.prefixCls,r=t.id,i=t.overlayInnerStyle,o=t.className,s=t.style;return h.createElement("div",{className:oe("".concat(n,"-content"),o),style:s},h.createElement("div",{className:"".concat(n,"-inner"),id:r,role:"tooltip",style:i},typeof e=="function"?e():e))}var lH=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],uH=function(e,n){var r=e.overlayClassName,i=e.trigger,o=i===void 0?["hover"]:i,s=e.mouseEnterDelay,a=s===void 0?0:s,l=e.mouseLeaveDelay,u=l===void 0?.1:l,c=e.overlayStyle,d=e.prefixCls,f=d===void 0?"rc-tooltip":d,m=e.children,v=e.onVisibleChange,w=e.afterVisibleChange,C=e.transitionName,g=e.animation,p=e.motion,y=e.placement,E=y===void 0?"right":y,S=e.align,_=S===void 0?{}:S,b=e.destroyTooltipOnHide,x=b===void 0?!1:b,N=e.defaultVisible,k=e.getTooltipContainer,M=e.overlayInnerStyle;e.arrowContent;var I=e.overlay,T=e.id,R=e.showArrow,P=R===void 0?!0:R,$=In(e,lH),L=h.useRef(null);h.useImperativeHandle(n,function(){return L.current});var A=F({},$);"visible"in e&&(A.popupVisible=e.visible);var j=function(){return h.createElement(rN,{key:"content",prefixCls:f,id:T,overlayInnerStyle:M},I)};return h.createElement(sH,ye({popupClassName:r,prefixCls:f,popup:j,action:o,builtinPlacements:aH,popupPlacement:E,ref:L,popupAlign:_,getPopupContainer:k,onPopupVisibleChange:v,afterPopupVisibleChange:w,popupTransitionName:C,popupAnimation:g,popupMotion:p,defaultPopupVisible:N,autoDestroy:x,mouseLeaveDelay:u,popupStyle:c,mouseEnterDelay:a,arrow:P},A),m)};const cH=h.forwardRef(uH),iN=8;function oN(t){const e=iN,{contentRadius:n,limitVerticalRadius:r}=t,i=n>12?n+2:12;return{dropdownArrowOffset:i,dropdownArrowOffsetVertical:r?e:i}}function Ad(t,e){return t?e:{}}function dH(t,e){const{componentCls:n,sizePopupArrow:r,borderRadiusXS:i,borderRadiusOuter:o,boxShadowPopoverArrow:s}=t,{colorBg:a,contentRadius:l=t.borderRadiusLG,limitVerticalRadius:u,arrowDistance:c=0,arrowPlacement:d={left:!0,right:!0,top:!0,bottom:!0}}=e,{dropdownArrowOffsetVertical:f,dropdownArrowOffset:m}=oN({contentRadius:l,limitVerticalRadius:u});return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({[`${n}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},TU(r,i,o,a,s)),{"&:before":{background:a}})]},Ad(!!d.top,{[[`&-placement-top ${n}-arrow`,`&-placement-topLeft ${n}-arrow`,`&-placement-topRight ${n}-arrow`].join(",")]:{bottom:c,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:m}},[`&-placement-topRight ${n}-arrow`]:{right:{_skip_check_:!0,value:m}}})),Ad(!!d.bottom,{[[`&-placement-bottom ${n}-arrow`,`&-placement-bottomLeft ${n}-arrow`,`&-placement-bottomRight ${n}-arrow`].join(",")]:{top:c,transform:"translateY(-100%)"},[`&-placement-bottom ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:m}},[`&-placement-bottomRight ${n}-arrow`]:{right:{_skip_check_:!0,value:m}}})),Ad(!!d.left,{[[`&-placement-left ${n}-arrow`,`&-placement-leftTop ${n}-arrow`,`&-placement-leftBottom ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:c},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${n}-arrow`]:{top:f},[`&-placement-leftBottom ${n}-arrow`]:{bottom:f}})),Ad(!!d.right,{[[`&-placement-right ${n}-arrow`,`&-placement-rightTop ${n}-arrow`,`&-placement-rightBottom ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:c},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${n}-arrow`]:{top:f},[`&-placement-rightBottom ${n}-arrow`]:{bottom:f}}))}}function fH(t,e,n,r){if(r===!1)return{adjustX:!1,adjustY:!1};const i=r&&typeof r=="object"?r:{},o={};switch(t){case"top":case"bottom":o.shiftX=e.dropdownArrowOffset*2+n;break;case"left":case"right":o.shiftY=e.dropdownArrowOffsetVertical*2+n;break}const s=Object.assign(Object.assign({},o),i);return s.shiftX||(s.adjustX=!0),s.shiftY||(s.adjustY=!0),s}const t_={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},hH={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},pH=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function mH(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:r,offset:i,borderRadius:o,visibleFirst:s}=t,a=e/2,l={};return Object.keys(t_).forEach(u=>{const c=r&&hH[u]||t_[u],d=Object.assign(Object.assign({},c),{offset:[0,0]});switch(l[u]=d,pH.has(u)&&(d.autoArrow=!1),u){case"top":case"topLeft":case"topRight":d.offset[1]=-a-i;break;case"bottom":case"bottomLeft":case"bottomRight":d.offset[1]=a+i;break;case"left":case"leftTop":case"leftBottom":d.offset[0]=-a-i;break;case"right":case"rightTop":case"rightBottom":d.offset[0]=a+i;break}const f=oN({contentRadius:o,limitVerticalRadius:!0});if(r)switch(u){case"topLeft":case"bottomLeft":d.offset[0]=-f.dropdownArrowOffset-a;break;case"topRight":case"bottomRight":d.offset[0]=f.dropdownArrowOffset+a;break;case"leftTop":case"rightTop":d.offset[1]=-f.dropdownArrowOffset-a;break;case"leftBottom":case"rightBottom":d.offset[1]=f.dropdownArrowOffset+a;break}d.overflow=fH(u,f,e,n),s&&(d.htmlRegion="visibleFirst")}),l}const gH=t=>{const e=t!=null&&t.algorithm?ph(t.algorithm):ph(bc),n=Object.assign(Object.assign({},Sc),t==null?void 0:t.token);return $R(n,{override:t==null?void 0:t.token},e,YR)},vH=gH;function yH(t){const{sizeUnit:e,sizeStep:n}=t,r=n-2;return{sizeXXL:e*(r+10),sizeXL:e*(r+6),sizeLG:e*(r+2),sizeMD:e*(r+2),sizeMS:e*(r+1),size:e*r,sizeSM:e*r,sizeXS:e*(r-1),sizeXXS:e*(r-1)}}const wH=(t,e)=>{const n=e??bc(t),r=n.fontSizeSM,i=n.controlHeight-4;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n),yH(e??t)),XR(r)),{controlHeight:i}),KR(Object.assign(Object.assign({},n),{controlHeight:i})))},EH=wH,Pi=(t,e)=>new mt(t).setAlpha(e).toRgbString(),Ms=(t,e)=>new mt(t).lighten(e).toHexString(),CH=t=>{const e=vi(t,{theme:"dark"});return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[6],6:e[5],7:e[4],8:e[6],9:e[5],10:e[4]}},SH=(t,e)=>{const n=t||"#000",r=e||"#fff";return{colorBgBase:n,colorTextBase:r,colorText:Pi(r,.85),colorTextSecondary:Pi(r,.65),colorTextTertiary:Pi(r,.45),colorTextQuaternary:Pi(r,.25),colorFill:Pi(r,.18),colorFillSecondary:Pi(r,.12),colorFillTertiary:Pi(r,.08),colorFillQuaternary:Pi(r,.04),colorBgElevated:Ms(n,12),colorBgContainer:Ms(n,8),colorBgLayout:Ms(n,0),colorBgSpotlight:Ms(n,26),colorBorder:Ms(n,26),colorBorderSecondary:Ms(n,19)}},bH=(t,e)=>{const n=Object.keys(Nw).map(i=>{const o=vi(t[i],{theme:"dark"});return new Array(10).fill(1).reduce((s,a,l)=>(s[`${i}-${l+1}`]=o[l],s[`${i}${l+1}`]=o[l],s),{})}).reduce((i,o)=>(i=Object.assign(Object.assign({},i),o),i),{}),r=e??bc(t);return Object.assign(Object.assign(Object.assign({},r),n),QR(t,{generateColorPalettes:CH,generateNeutralColorPalettes:SH}))},_H=bH;function xH(){const[t,e,n]=xc();return{theme:t,token:e,hashId:n}}const TH={defaultConfig:vh,defaultSeed:vh.token,useToken:xH,defaultAlgorithm:bc,darkAlgorithm:_H,compactAlgorithm:EH,getDesignToken:vH},IH=t=>{const{componentCls:e,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:s,controlHeight:a,boxShadowSecondary:l,paddingSM:u,paddingXS:c,tooltipRadiusOuter:d}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},Aw(t)),{position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:n,visibility:"visible",transformOrigin:"var(--arrow-x, 50%) var(--arrow-y, 50%)","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${e}-inner`]:{minWidth:a,minHeight:a,padding:`${u/2}px ${c}px`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:l,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(o,iN)}},[`${e}-content`]:{position:"relative"}}),MU(t,(f,m)=>{let{darkColor:v}=m;return{[`&${e}-${f}`]:{[`${e}-inner`]:{backgroundColor:v},[`${e}-arrow`]:{"--antd-arrow-background-color":v}}}})),{"&-rtl":{direction:"rtl"}})},dH(zr(t,{borderRadiusOuter:d}),{colorBg:"var(--antd-arrow-background-color)",contentRadius:o,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},sN=(t,e)=>_c("Tooltip",r=>{if(e===!1)return[];const{borderRadius:i,colorTextLightSolid:o,colorBgDefault:s,borderRadiusOuter:a}=r,l=zr(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:s,tooltipRadiusOuter:a>4?4:a});return[IH(l),Bw(r,"zoom-big-fast")]},r=>{let{zIndexPopupBase:i,colorBgSpotlight:o}=r;return{zIndexPopup:i+70,colorBgDefault:o}},{resetStyle:!1})(t),kH=mh.map(t=>`${t}-inverse`);function RH(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(re(kH),re(mh)).includes(t):mh.includes(t)}function aN(t,e){const n=RH(e),r=oe({[`${t}-${e}`]:e&&n}),i={},o={};return e&&!n&&(i.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}function OH(t){const{prefixCls:e,className:n,placement:r="top",title:i,color:o,overlayInnerStyle:s}=t,{getPrefixCls:a}=h.useContext(Rn),l=a("tooltip",e),[u,c]=sN(l,!0),d=aN(l,o),f=Object.assign(Object.assign({},s),d.overlayStyle),m=d.arrowStyle;return u(h.createElement("div",{className:oe(c,l,`${l}-pure`,`${l}-placement-${r}`,n,d.className),style:m},h.createElement("div",{className:`${l}-arrow`}),h.createElement(rN,Object.assign({},t,{className:c,prefixCls:l,overlayInnerStyle:f}),i)))}var NH=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const{useToken:PH}=TH,AH=(t,e)=>{const n={},r=Object.assign({},t);return e.forEach(i=>{t&&i in t&&(n[i]=t[i],delete r[i])}),{picked:n,omitted:r}};function $H(t,e){const n=t.type;if((n.__ANT_BUTTON===!0||t.type==="button")&&t.props.disabled||n.__ANT_SWITCH===!0&&(t.props.disabled||t.props.loading)||n.__ANT_RADIO===!0&&t.props.disabled){const{picked:r,omitted:i}=AH(t.props.style,["position","left","right","top","bottom","float","display","zIndex"]),o=Object.assign(Object.assign({display:"inline-block"},r),{cursor:"not-allowed",width:t.props.block?"100%":void 0}),s=Object.assign(Object.assign({},i),{pointerEvents:"none"}),a=Wp(t,{style:s,className:null});return h.createElement("span",{style:o,className:oe(t.props.className,`${e}-disabled-compatible-wrapper`)},a)}return t}const lN=h.forwardRef((t,e)=>{var n,r;const{prefixCls:i,openClassName:o,getTooltipContainer:s,overlayClassName:a,color:l,overlayInnerStyle:u,children:c,afterOpenChange:d,afterVisibleChange:f,destroyTooltipOnHide:m,arrow:v=!0,title:w,overlay:C,builtinPlacements:g,arrowPointAtCenter:p=!1,autoAdjustOverflow:y=!0}=t,E=!!v,{token:S}=PH(),{getPopupContainer:_,getPrefixCls:b,direction:x}=h.useContext(Rn),N=h.useRef(null),k=()=>{var Me;(Me=N.current)===null||Me===void 0||Me.forceAlign()};h.useImperativeHandle(e,()=>({forceAlign:k,forcePopupAlign:()=>{k()}}));const[M,I]=gh(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(r=t.defaultOpen)!==null&&r!==void 0?r:t.defaultVisible}),T=!w&&!C&&w!==0,R=Me=>{var ve,he;I(T?!1:Me),T||((ve=t.onOpenChange)===null||ve===void 0||ve.call(t,Me),(he=t.onVisibleChange)===null||he===void 0||he.call(t,Me))},P=h.useMemo(()=>{var Me,ve;let he=p;return typeof v=="object"&&(he=(ve=(Me=v.pointAtCenter)!==null&&Me!==void 0?Me:v.arrowPointAtCenter)!==null&&ve!==void 0?ve:p),g||mH({arrowPointAtCenter:he,autoAdjustOverflow:y,arrowWidth:E?S.sizePopupArrow:0,borderRadius:S.borderRadius,offset:S.marginXXS,visibleFirst:!0})},[p,v,g,S]),$=h.useMemo(()=>w===0?w:C||w||"",[C,w]),L=h.createElement(TO,null,typeof $=="function"?$():$),{getPopupContainer:A,placement:j="top",mouseEnterDelay:U=.1,mouseLeaveDelay:V=.1,overlayStyle:H,rootClassName:Q}=t,te=NH(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),se=b("tooltip",i),we=b(),xe=t["data-popover-inject"];let $e=M;!("open"in t)&&!("visible"in t)&&T&&($e=!1);const Te=$H(Lw(c)&&!CO(c)?c:h.createElement("span",null,c),se),ne=Te.props,ie=!ne.className||typeof ne.className=="string"?oe(ne.className,{[o||`${se}-open`]:!0}):ne.className,[ue,vt]=sN(se,!xe),Ye=aN(se,l),Fe=Object.assign(Object.assign({},u),Ye.overlayStyle),yt=Ye.arrowStyle,Pt=oe(a,{[`${se}-rtl`]:x==="rtl"},Ye.className,Q,vt);return ue(h.createElement(cH,Object.assign({},te,{showArrow:E,placement:j,mouseEnterDelay:U,mouseLeaveDelay:V,prefixCls:se,overlayClassName:Pt,overlayStyle:Object.assign(Object.assign({},yt),H),getTooltipContainer:A||s||_,ref:N,builtinPlacements:P,overlay:L,visible:$e,onVisibleChange:R,afterVisibleChange:d??f,overlayInnerStyle:Fe,arrowContent:h.createElement("span",{className:`${se}-arrow-content`}),motion:{motionName:wi(we,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!m}),$e?Wp(Te,{className:ie}):Te))});lN._InternalPanelDoNotUseOrYouWillBeFired=OH;const uN=lN;var MH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const LH=MH;var DH=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:LH}))};const FH=h.forwardRef(DH);var jH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const UH=jH;var zH=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:UH}))};const BH=h.forwardRef(zH);var VH={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const HH=VH;var WH=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:HH}))};const qH=h.forwardRef(WH);function cN(){var t=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:e}}function GH(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function bl(t,e,n,r){var i=$f.unstable_batchedUpdates?function(s){$f.unstable_batchedUpdates(n,s)}:n;return t!=null&&t.addEventListener&&t.addEventListener(e,i,r),{remove:function(){t!=null&&t.removeEventListener&&t.removeEventListener(e,i,r)}}}function n_(t,e,n,r){var i=e+n,o=(n-r)/2;if(n>r){if(e>0)return ce({},t,o);if(e<0&&i<r)return ce({},t,-o)}else if(e<0||i>r)return ce({},t,e<0?o:-o);return{}}function KH(t,e,n,r){var i=cN(),o=i.width,s=i.height,a=null;return t<=o&&e<=s?a={x:0,y:0}:(t>o||e>s)&&(a=F(F({},n_("x",n,t,o)),n_("y",r,e,s))),a}var lf=1,uf=50,_l=1,QH=1,r_={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function XH(t){var e=h.useRef(null),n=h.useRef([]),r=h.useState(r_),i=q(r,2),o=i[0],s=i[1],a=function(){s(r_)},l=function(d){e.current===null&&(n.current=[],e.current=mo(function(){s(function(f){var m=f;return n.current.forEach(function(v){m=F(F({},m),v)}),e.current=null,m})})),n.current.push(F(F({},o),d))},u=function(d,f,m){var v=t.current,w=v.width,C=v.height,g=v.offsetWidth,p=v.offsetHeight,y=v.offsetLeft,E=v.offsetTop,S=d,_=o.scale*d;_>uf?(S=uf/o.scale,_=uf):_<lf&&(S=lf/o.scale,_=lf);var b=f??innerWidth/2,x=m??innerHeight/2,N=S-1,k=N*w*.5,M=N*C*.5,I=N*(b-o.x-y),T=N*(x-o.y-E),R=o.x-(I-k),P=o.y-(T-M);if(d<1&&_===1){var $=g*_,L=p*_,A=cN(),j=A.width,U=A.height;$<=j&&L<=U&&(R=0,P=0)}l({x:R,y:P,scale:_})};return{transform:o,resetTransform:a,updateTransform:l,dispatchZoomChange:u}}var YH=function(e){var n,r=e.visible,i=e.maskTransitionName,o=e.getContainer,s=e.prefixCls,a=e.rootClassName,l=e.icons,u=e.countRender,c=e.showSwitch,d=e.showProgress,f=e.current,m=e.count,v=e.scale,w=e.onSwitchLeft,C=e.onSwitchRight,g=e.onClose,p=e.onZoomIn,y=e.onZoomOut,E=e.onRotateRight,S=e.onRotateLeft,_=e.onFlipX,b=e.onFlipY,x=l.rotateLeft,N=l.rotateRight,k=l.zoomIn,M=l.zoomOut,I=l.close,T=l.left,R=l.right,P=l.flipX,$=l.flipY,L="".concat(s,"-operations-operation"),A="".concat(s,"-operations-icon"),j=[{icon:I,onClick:g,type:"close"},{icon:k,onClick:p,type:"zoomIn",disabled:v===uf},{icon:M,onClick:y,type:"zoomOut",disabled:v===lf},{icon:N,onClick:E,type:"rotateRight"},{icon:x,onClick:S,type:"rotateLeft"},{icon:P,onClick:_,type:"flipX"},{icon:$,onClick:b,type:"flipY"}],U=h.createElement(h.Fragment,null,c&&h.createElement(h.Fragment,null,h.createElement("div",{className:oe("".concat(s,"-switch-left"),ce({},"".concat(s,"-switch-left-disabled"),f===0)),onClick:w},T),h.createElement("div",{className:oe("".concat(s,"-switch-right"),ce({},"".concat(s,"-switch-right-disabled"),f===m-1)),onClick:C},R)),h.createElement("ul",{className:"".concat(s,"-operations")},d&&h.createElement("li",{className:"".concat(s,"-operations-progress")},(n=u==null?void 0:u(f+1,m))!==null&&n!==void 0?n:"".concat(f+1," / ").concat(m)),j.map(function(V){var H,Q=V.icon,te=V.onClick,se=V.type,we=V.disabled;return h.createElement("li",{className:oe(L,(H={},ce(H,"".concat(s,"-operations-operation-").concat(se),!0),ce(H,"".concat(s,"-operations-operation-disabled"),!!we),H)),onClick:te,key:se},h.isValidElement(Q)?h.cloneElement(Q,{className:A}):Q)})));return h.createElement(_o,{visible:r,motionName:i},function(V){var H=V.className,Q=V.style;return h.createElement(Gp,{open:!0,getContainer:o??document.body},h.createElement("div",{className:oe("".concat(s,"-operations-wrapper"),H,a),style:Q},U))})},JH=["visible","onVisibleChange","getContainer","current","countRender","onChange"],Vw=h.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),ZH=Vw.Provider;function Ig(t,e){if(e!==void 0){var n=t.indexOf(e);if(n!==-1)return n}}var eW=function(e){var n=e.previewPrefixCls,r=n===void 0?"rc-image-preview":n,i=e.children,o=e.icons,s=o===void 0?{}:o,a=e.preview,l=De(a)==="object"?a:{},u=l.visible,c=u===void 0?void 0:u,d=l.onVisibleChange,f=d===void 0?void 0:d,m=l.getContainer,v=m===void 0?void 0:m,w=l.current,C=w===void 0?0:w,g=l.countRender,p=g===void 0?void 0:g,y=l.onChange,E=y===void 0?void 0:y,S=In(l,JH),_=h.useState(new Map),b=q(_,2),x=b[0],N=b[1],k=Array.from(x.keys()),M=h.useRef(),I=gh(void 0,{onChange:function(ne,ie){M.current!==void 0&&(E==null||E(Ig(k,ne),Ig(k,ie))),M.current=ie}}),T=q(I,2),R=T[0],P=T[1],$=gh(!!c,{value:c,onChange:function(ne,ie){f==null||f(ne,ie,Ig(k,R)),M.current=ne?R:void 0}}),L=q($,2),A=L[0],j=L[1],U=h.useState(null),V=q(U,2),H=V[0],Q=V[1],te=c!==void 0,se=k[C],we=new Map(Array.from(x).filter(function(Te){var ne=q(Te,2),ie=ne[1].canPreview;return!!ie}).map(function(Te){var ne=q(Te,2),ie=ne[0],ue=ne[1].url;return[ie,ue]})),xe=function(ne,ie){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,vt=function(){N(function(Fe){var yt=new Map(Fe),Pt=yt.delete(ne);return Pt?yt:Fe})};return N(function(Ye){return new Map(Ye).set(ne,{url:ie,canPreview:ue})}),vt},$e=function(ne){ne.stopPropagation(),j(!1),Q(null)};return h.useEffect(function(){P(se)},[se]),h.useEffect(function(){!A&&te&&P(se)},[se,te,A]),h.createElement(ZH,{value:{isPreviewGroup:!0,previewUrls:we,setPreviewUrls:N,current:R,setCurrent:P,setShowPreview:j,setMousePosition:Q,registerImage:xe}},i,h.createElement(dN,ye({"aria-hidden":!A,visible:A,prefixCls:r,onClose:$e,mousePosition:H,src:we.get(R),icons:s,getContainer:v,countRender:p},S)))},tW=["prefixCls","src","alt","onClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"],dN=function(e){var n=e.prefixCls,r=e.src,i=e.alt,o=e.onClose,s=e.visible,a=e.icons,l=a===void 0?{}:a,u=e.rootClassName,c=e.getContainer,d=e.countRender,f=e.scaleStep,m=f===void 0?.5:f,v=e.transitionName,w=v===void 0?"zoom":v,C=e.maskTransitionName,g=C===void 0?"fade":C,p=In(e,tW),y=h.useRef(),E=h.useRef({deltaX:0,deltaY:0,transformX:0,transformY:0}),S=h.useState(!1),_=q(S,2),b=_[0],x=_[1],N=h.useContext(Vw),k=N.previewUrls,M=N.current,I=N.isPreviewGroup,T=N.setCurrent,R=k.size,P=Array.from(k.keys()),$=P.indexOf(M),L=I?k.get(M):r,A=I&&R>1,j=I&&R>=1,U=XH(y),V=U.transform,H=U.resetTransform,Q=U.updateTransform,te=U.dispatchZoomChange,se=h.useState(!0),we=q(se,2),xe=we[0],$e=we[1],Te=V.rotate,ne=V.scale,ie=oe(ce({},"".concat(n,"-moving"),b));h.useEffect(function(){xe||$e(!0)},[xe]);var ue=function(){H()},vt=function(){te(_l+m)},Ye=function(){te(_l-m)},Fe=function(){Q({rotate:Te+90})},yt=function(){Q({rotate:Te-90})},Pt=function(){Q({flipX:!V.flipX})},Me=function(){Q({flipY:!V.flipY})},ve=function(Ee){Ee.preventDefault(),Ee.stopPropagation(),$>0&&($e(!1),H(),T(P[$-1]))},he=function(Ee){Ee.preventDefault(),Ee.stopPropagation(),$<R-1&&($e(!1),H(),T(P[$+1]))},me=function(){if(s&&b){x(!1);var Ee=E.current,Qn=Ee.transformX,Ut=Ee.transformY,It=V.x!==Qn&&V.y!==Ut;if(!It)return;var Je=y.current.offsetWidth*ne,At=y.current.offsetHeight*ne,st=y.current.getBoundingClientRect(),kt=st.left,qe=st.top,Ge=Te%180!==0,dn=KH(Ge?At:Je,Ge?Je:At,kt,qe);dn&&Q(F({},dn))}},Oe=function(Ee){Ee.button===0&&(Ee.preventDefault(),Ee.stopPropagation(),E.current={deltaX:Ee.pageX-V.x,deltaY:Ee.pageY-V.y,transformX:V.x,transformY:V.y},x(!0))},Tt=function(Ee){s&&b&&Q({x:Ee.pageX-E.current.deltaX,y:Ee.pageY-E.current.deltaY})},Kn=function(Ee){if(!(!s||Ee.deltaY==0)){var Qn=Math.abs(Ee.deltaY/100),Ut=Math.min(Qn,QH),It=_l+Ut*m;Ee.deltaY>0&&(It=_l/It),te(It,Ee.clientX,Ee.clientY)}},wt=h.useCallback(function(Ue){!s||!A||(Ue.keyCode===ee.LEFT?$>0&&T(P[$-1]):Ue.keyCode===ee.RIGHT&&$<R-1&&T(P[$+1]))},[$,R,P,T,A,s]),qr=function(Ee){s&&(ne!==1?Q({x:0,y:0,scale:1}):te(_l+m,Ee.clientX,Ee.clientY))};return h.useEffect(function(){var Ue,Ee,Qn=bl(window,"mouseup",me,!1),Ut=bl(window,"mousemove",Tt,!1),It=bl(window,"keydown",wt,!1);try{window.top!==window.self&&(Ue=bl(window.top,"mouseup",me,!1),Ee=bl(window.top,"mousemove",Tt,!1))}catch{}return function(){var Je,At;Qn.remove(),Ut.remove(),It.remove(),(Je=Ue)===null||Je===void 0||Je.remove(),(At=Ee)===null||At===void 0||At.remove()}},[s,b,wt]),Y.createElement(Y.Fragment,null,Y.createElement(Uw,ye({transitionName:w,maskTransitionName:g,closable:!1,keyboard:!0,prefixCls:n,onClose:o,visible:s,wrapClassName:ie,rootClassName:u,getContainer:c},p,{afterClose:ue}),Y.createElement("div",{className:"".concat(n,"-img-wrapper")},Y.createElement("img",{width:e.width,height:e.height,onWheel:Kn,onMouseDown:Oe,onDoubleClick:qr,ref:y,className:"".concat(n,"-img"),src:L,alt:i,style:{transform:"translate3d(".concat(V.x,"px, ").concat(V.y,"px, 0) scale3d(").concat(V.flipX?"-":"").concat(ne,", ").concat(V.flipY?"-":"").concat(ne,", 1) rotate(").concat(Te,"deg)"),transitionDuration:!xe&&"0s"}}))),Y.createElement(YH,{visible:s,maskTransitionName:g,getContainer:c,prefixCls:n,rootClassName:u,icons:l,countRender:d,showSwitch:A,showProgress:j,current:$,count:R,scale:ne,onSwitchLeft:ve,onSwitchRight:he,onZoomIn:vt,onZoomOut:Ye,onRotateRight:Fe,onRotateLeft:yt,onFlipX:Pt,onFlipY:Me,onClose:o}))},nW=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],rW=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],i_=0;function iW(t){return new Promise(function(e){var n=document.createElement("img");n.onerror=function(){return e(!1)},n.onload=function(){return e(!0)},n.src=t})}var Kp=function(e){var n,r=e.src,i=e.alt,o=e.onPreviewClose,s=e.prefixCls,a=s===void 0?"rc-image":s,l=e.previewPrefixCls,u=l===void 0?"".concat(a,"-preview"):l,c=e.placeholder,d=e.fallback,f=e.width,m=e.height,v=e.style,w=e.preview,C=w===void 0?!0:w,g=e.className,p=e.onClick,y=e.onError,E=e.wrapperClassName,S=e.wrapperStyle,_=e.rootClassName,b=e.crossOrigin,x=e.decoding,N=e.loading,k=e.referrerPolicy,M=e.sizes,I=e.srcSet,T=e.useMap,R=e.draggable,P=In(e,nW),$=c&&c!==!0,L=De(C)==="object"?C:{},A=L.src,j=L.visible,U=j===void 0?void 0:j,V=L.onVisibleChange,H=V===void 0?o:V,Q=L.getContainer,te=Q===void 0?void 0:Q,se=L.mask,we=L.maskClassName,xe=L.icons,$e=L.scaleStep,Te=In(L,rW),ne=A??r,ie=U!==void 0,ue=gh(!!U,{value:U,onChange:H}),vt=q(ue,2),Ye=vt[0],Fe=vt[1],yt=h.useState($?"loading":"normal"),Pt=q(yt,2),Me=Pt[0],ve=Pt[1],he=h.useState(null),me=q(he,2),Oe=me[0],Tt=me[1],Kn=Me==="error",wt=h.useContext(Vw),qr=wt.isPreviewGroup,Ue=wt.setCurrent,Ee=wt.setShowPreview,Qn=wt.setMousePosition,Ut=wt.registerImage,It=h.useState(function(){return i_+=1,i_}),Je=q(It,1),At=Je[0],st=!!C,kt=h.useRef(!1),qe=function(){ve("normal")},Ge=function(zt){if(!ie){var bi=GH(zt.target),To=bi.left,_i=bi.top;qr?(Ue(At),Qn({x:To,y:_i})):Tt({x:To,y:_i})}qr?Ee(!0):Fe(!0),p==null||p(zt)},dn=function(zt){zt.stopPropagation(),Fe(!1),ie||Tt(null)},Ci=function(zt){kt.current=!1,Me==="loading"&&zt!=null&&zt.complete&&(zt.naturalWidth||zt.naturalHeight)&&(kt.current=!0,qe())};h.useEffect(function(){iW(ne).then(function(at){at||ve("error")})},[ne]),h.useEffect(function(){var at=Ut(At,ne);return at},[]),h.useEffect(function(){Ut(At,ne,st)},[ne,st]),h.useEffect(function(){Kn&&ve("normal"),$&&!kt.current&&ve("loading")},[r]);var xo=oe(a,E,_,ce({},"".concat(a,"-error"),Kn)),_s=Kn&&d?d:ne,Si={crossOrigin:b,decoding:x,draggable:R,loading:N,referrerPolicy:k,sizes:M,srcSet:I,useMap:T,onError:y,alt:i,className:oe("".concat(a,"-img"),ce({},"".concat(a,"-img-placeholder"),c===!0),g),style:F({height:m},v)};return h.createElement(h.Fragment,null,h.createElement("div",ye({},P,{className:xo,onClick:st?Ge:p,style:F({width:f,height:m},S)}),h.createElement("img",ye({},Si,{ref:Ci},Kn&&d?{src:d}:{onLoad:qe,src:r},{width:f,height:m})),Me==="loading"&&h.createElement("div",{"aria-hidden":"true",className:"".concat(a,"-placeholder")},c),se&&st&&h.createElement("div",{className:oe("".concat(a,"-mask"),we),style:{display:((n=Si.style)===null||n===void 0?void 0:n.display)==="none"?"none":void 0}},se)),!qr&&st&&h.createElement(dN,ye({"aria-hidden":!Ye,visible:Ye,prefixCls:u,onClose:dn,mousePosition:Oe,src:_s,alt:i,getContainer:te,icons:xe,scaleStep:$e,rootClassName:_},Te)))};Kp.PreviewGroup=eW;Kp.displayName="Image";var oW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const sW=oW;var aW=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:sW}))};const lW=h.forwardRef(aW);var uW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const cW=uW;var dW=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:cW}))};const fW=h.forwardRef(dW);var hW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const pW=hW;var mW=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:pW}))};const o_=h.forwardRef(mW);var gW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const vW=gW;var yW=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:vW}))};const wW=h.forwardRef(yW);var EW={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const CW=EW;var SW=function(e,n){return h.createElement(On,ye({},e,{ref:n,icon:CW}))};const bW=h.forwardRef(SW),G0=t=>({position:t||"absolute",inset:0}),_W=t=>{const{iconCls:e,motionDurationSlow:n,paddingXXS:r,marginXXS:i,prefixCls:o}=t;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",background:new mt("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${o}-mask-info`]:Object.assign(Object.assign({},IU),{padding:`0 ${r}px`,[e]:{marginInlineEnd:i,svg:{verticalAlign:"baseline"}}})}},xW=t=>{const{previewCls:e,modalMaskBg:n,paddingSM:r,previewOperationColorDisabled:i,motionDurationSlow:o}=t,s=new mt(n).setAlpha(.1),a=s.clone().setAlpha(.2);return{[`${e}-operations`]:Object.assign(Object.assign({},Aw(t)),{display:"flex",flexDirection:"row-reverse",alignItems:"center",color:t.previewOperationColor,listStyle:"none",background:s.toRgbString(),pointerEvents:"auto","&-operation":{marginInlineStart:r,padding:r,cursor:"pointer",transition:`all ${o}`,userSelect:"none","&:hover":{background:a.toRgbString()},"&-disabled":{color:i,pointerEvents:"none"},"&:last-of-type":{marginInlineStart:0}},"&-progress":{position:"absolute",left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%)"},"&-icon":{fontSize:t.previewOperationSize}})}},TW=t=>{const{modalMaskBg:e,iconCls:n,previewOperationColorDisabled:r,previewCls:i,zIndexPopup:o,motionDurationSlow:s}=t,a=new mt(e).setAlpha(.1),l=a.clone().setAlpha(.2);return{[`${i}-switch-left, ${i}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:o+1,display:"flex",alignItems:"center",justifyContent:"center",width:t.imagePreviewSwitchSize,height:t.imagePreviewSwitchSize,marginTop:-t.imagePreviewSwitchSize/2,color:t.previewOperationColor,background:a.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${s}`,pointerEvents:"auto",userSelect:"none","&:hover":{background:l.toRgbString()},["&-disabled"]:{"&, &:hover":{color:r,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:t.previewOperationSize}},[`${i}-switch-left`]:{insetInlineStart:t.marginSM},[`${i}-switch-right`]:{insetInlineEnd:t.marginSM}}},IW=t=>{const{motionEaseOut:e,previewCls:n,motionDurationSlow:r,componentCls:i}=t;return[{[`${i}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},G0()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${r} ${e} 0s`,userSelect:"none",pointerEvents:"auto","&-wrapper":Object.assign(Object.assign({},G0()),{transition:`transform ${r} ${e} 0s`,display:"flex",justifyContent:"center",alignItems:"center","&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${i}-preview-root`]:{[`${n}-wrap`]:{zIndex:t.zIndexPopup}}},{[`${i}-preview-operations-wrapper`]:{position:"fixed",insetBlockStart:0,insetInlineEnd:0,zIndex:t.zIndexPopup+1,width:"100%"},"&":[xW(t),TW(t)]}]},kW=t=>{const{componentCls:e}=t;return{[e]:{position:"relative",display:"inline-block",[`${e}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${e}-img-placeholder`]:{backgroundColor:t.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${e}-mask`]:Object.assign({},_W(t)),[`${e}-mask:hover`]:{opacity:1},[`${e}-placeholder`]:Object.assign({},G0())}}},RW=t=>{const{previewCls:e}=t;return{[`${e}-root`]:Bw(t,"zoom"),["&"]:WO(t,!0)}},fN=_c("Image",t=>{const e=`${t.componentCls}-preview`,n=zr(t,{previewCls:e,modalMaskBg:new mt("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:t.controlHeightLG});return[kW(n),IW(n),qO(zr(n,{componentCls:e})),RW(n)]},t=>({zIndexPopup:t.zIndexPopupBase+80,previewOperationColor:new mt(t.colorTextLightSolid).toRgbString(),previewOperationColorDisabled:new mt(t.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:t.fontSizeIcon*1.5}));var OW=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const hN={rotateLeft:h.createElement(lW,null),rotateRight:h.createElement(fW,null),zoomIn:h.createElement(wW,null),zoomOut:h.createElement(bW,null),close:h.createElement(EO,null),left:h.createElement(BH,null),right:h.createElement(FH,null),flipX:h.createElement(o_,null),flipY:h.createElement(o_,{rotate:90})},NW=t=>{var{previewPrefixCls:e,preview:n}=t,r=OW(t,["previewPrefixCls","preview"]);const{getPrefixCls:i}=h.useContext(Rn),o=i("image",e),s=`${o}-preview`,a=i(),[l,u]=fN(o),c=h.useMemo(()=>{var d;if(n===!1)return n;const f=typeof n=="object"?n:{},m=oe(u,(d=f.rootClassName)!==null&&d!==void 0?d:"");return Object.assign(Object.assign({},f),{transitionName:wi(a,"zoom",f.transitionName),maskTransitionName:wi(a,"fade",f.maskTransitionName),rootClassName:m})},[n]);return l(h.createElement(Kp.PreviewGroup,Object.assign({preview:c,previewPrefixCls:s,icons:hN},r)))},PW=NW;var s_=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const pN=t=>{var{prefixCls:e,preview:n,rootClassName:r}=t,i=s_(t,["prefixCls","preview","rootClassName"]);const{getPrefixCls:o,locale:s=go,getPopupContainer:a}=h.useContext(Rn),l=o("image",e),u=o(),c=s.Image||go.Image,[d,f]=fN(l),m=oe(r,f),v=h.useMemo(()=>{if(n===!1)return n;const w=typeof n=="object"?n:{},{getContainer:C}=w,g=s_(w,["getContainer"]);return Object.assign(Object.assign({mask:h.createElement("div",{className:`${l}-mask-info`},h.createElement(qH,null),c==null?void 0:c.preview),icons:hN},g),{getContainer:C||a,transitionName:wi(u,"zoom",w.transitionName),maskTransitionName:wi(u,"fade",w.maskTransitionName)})},[n,c]);return d(h.createElement(Kp,Object.assign({prefixCls:`${l}`,preview:v,rootClassName:m},i)))};pN.PreviewGroup=PW;const a_=pN;var AW=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $W=t=>{const{prefixCls:e,className:n,closeIcon:r,closable:i,type:o,title:s,children:a}=t,l=AW(t,["prefixCls","className","closeIcon","closable","type","title","children"]),{getPrefixCls:u}=h.useContext(Rn),c=u(),d=e||u("modal"),[,f]=GO(d),m=`${d}-confirm`;let v={};return o?v={closable:i??!1,title:"",footer:"",children:h.createElement(QO,Object.assign({},t,{confirmPrefixCls:m,rootPrefixCls:c,content:a}))}:v={closable:i??!0,title:s,footer:t.footer===void 0?h.createElement(VO,Object.assign({},t)):t.footer,children:a},h.createElement($O,Object.assign({prefixCls:d,className:oe(f,`${d}-pure-panel`,o&&m,o&&`${m}-${o}`,n)},l,{closeIcon:BO(d,r),closable:i},v))},MW=$W;function mN(t){return Rc(JO(t))}const br=KO;br.useModal=W7;br.info=function(e){return Rc(ZO(e))};br.success=function(e){return Rc(eN(e))};br.error=function(e){return Rc(tN(e))};br.warning=mN;br.warn=mN;br.confirm=function(e){return Rc(nN(e))};br.destroyAll=function(){for(;Go.length;){const e=Go.pop();e&&e()}};br.config=z7;br._InternalPanelDoNotUseOrYouWillBeFired=MW;const Nc=br;function LW(t){return Sr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"}}]})(t)}function DW({data:t,chatid:e,lastMessage:n,isFriend:r,isSendRequest:i}){const o=Va(),{dispatch:s,currentChat:a}=h.useContext(bs),l=()=>{window.innerWidth<720&&(s({type:"change_user",payload:{userinfor:t,chatid:e,isFriend:r,isSendRequest:i}}),o(`/chat/${t.displayName}/${t.id}`)),e!=a.chatid&&s({type:"change_user",payload:{userinfor:t,chatid:e,isFriend:r,isSendRequest:i}})};return O.jsxs("div",{onClick:l,className:"box-border w-full flex gap-2 items-center rounded-lg cursor-pointer hover:bg-sky-600 p-2 relative",children:[O.jsx("img",{src:t==null?void 0:t.photoURL,className:"w-[60px] h-[60px] object-cover rounded-full shrink-0",alt:""}),O.jsxs("div",{className:"w-[65%] shrink",children:[O.jsx("p",{className:"font-semibold",children:t==null?void 0:t.displayName}),O.jsx("p",{className:"text-gray-100 truncate text-ellipsis w-[85%]",children:n})]})]})}function FW(t){return Sr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]})(t)}function Hw(t){return Sr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 0 1 0-96 48.01 48.01 0 0 1 0 96z"}}]})(t)}function jW(t){return Sr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 0 0-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]})(t)}function UW(t){return Sr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]})(t)}function Pc(t){return Sr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"}}]})(t)}function zW(t){return Sr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]})(t)}function BW(t){return Sr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 0 0-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]})(t)}function gN(t){return Sr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 0 0-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 0 0-80.4 119.5A373.6 373.6 0 0 0 137 888.8a8 8 0 0 0 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 0 0 8.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 0 1 340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 0 1 683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]})(t)}function VW({sortState:t}){const{currentUser:e}=h.useContext(Vr),[n,r]=h.useState({}),[i,o]=h.useState(!1);return h.useEffect(()=>{const s=()=>{o(!0);const a=_p(ut(tt,"conversations",e.uid),l=>{const u=l.data();r(u),o(!1)});return()=>{a()}};e.uid&&s()},[e.uid]),O.jsx("div",{className:"chatitems grow relative  py-2 overflow-y-auto flex flex-col ",children:i?O.jsx("div",{className:`absolute left-[50%] top-[50%] translate-x-[-50%]
        translate-y-[-50%]`,children:O.jsx(Pc,{className:"animate-spin  text-white text-[5rem]"})}):Object.entries(n).sort((s,a)=>a[1].date-s[1].date).filter(s=>{if(t.friend&&t.stranger)return!0;if(t.friend&&!t.stranger)return s[1].isFriend==!0;if(!t.friend&&t.stranger)return s[1].isFriend==!1}).map(s=>O.jsx(DW,{chatid:s[0],lastMessage:s[1].lastMessage,data:s[1].userinfor,isFriend:s[1].isFriend,isSendRequest:s[1].isSendRequest},s[0]))})}function HW({data:t}){const{currentUser:e}=h.useContext(Vr),[n,r]=h.useState({state:!1,message:""}),i=()=>{r({state:!1,message:""})},o=()=>{r({state:!1,message:""})},s=async()=>{const a=t.id>e.uid?t.id+e.uid:e.uid+t.id;if(t.id==e.uid){r({state:!0,message:"It you"});return}try{const l=ut(tt,"chats",a);(await qj(l)).exists()?r({state:!0,message:"This user already have a conversation"}):(await o0(ut(tt,"chats",a),{messages:[]}),await bn(ut(tt,"conversations",e.uid),{[a]:{userinfor:{displayName:t.displayName,photoURL:t.photoURL,id:t.id},isFriend:!1,isSendRequest:!1,lastMessage:"",date:ai()}}),await bn(ut(tt,"conversations",t.id),{[a]:{userinfor:{displayName:e.displayName,photoURL:e.photoURL,id:e.uid},lastMessage:"",isFriend:!1,isSendRequest:!1,date:ai()}}))}catch(l){console.log(l)}};return O.jsxs(O.Fragment,{children:[O.jsxs("div",{onClick:s,className:"box-border w-full flex gap-2 items-center rounded-lg cursor-pointer hover:bg-sky-600 p-2",children:[O.jsx("img",{className:"w-[60px] h-[60px] object-cover rounded-full shrink-0",src:t.photoURL,alt:"friend-avatar",loading:"lazy"}),O.jsxs("div",{className:"w-[70%]",children:[O.jsx("p",{className:"font-semibold",children:t.displayName}),O.jsx("p",{className:"text-gray-100 truncate text-ellipsis w-[90%]",children:t==null?void 0:t.lastMessage})]})]}),O.jsx(Nc,{footer:!1,open:n.state,onOk:i,onCancel:o,children:O.jsxs("div",{children:[O.jsx(Hw,{className:"text-red-400 text-[1.2rem] inline mr-4"}),O.jsx("span",{className:"align-middle",children:n.message})]})})]})}function WW(){const[t,e]=h.useState(""),[n,r]=h.useState(!1),[i,o]=h.useState([]),s=h.useContext(Vr),a=l=>{e(l.target.value)};return h.useEffect(()=>{const l=setTimeout(async()=>{if(!t.trim())o([]);else{const u=Uj(xj(tt,"users"),zj("displayName","==",t));try{r(!0);const d=(await Gj(u)).docs.map(function(f){return f.data()}).filter(f=>f.id!=s.uid);o(d),r(!1)}catch(c){console.log(c)}}},800);return()=>{clearTimeout(l)}},[t]),O.jsxs("div",{className:"max-h-[50%] border-b-[1px] border-b-gray-200 pb-1 ",children:[O.jsx("div",{className:"",children:O.jsx("input",{value:t,onChange:a,className:"w-full text-white bg-transparent outline-none  placeholder-white",type:"text",placeholder:"Find a user"})}),O.jsxs("div",{className:"listuser-search box-border py-2 h-[80%] overflow-y-auto ",children:[n&&O.jsx(Pc,{className:"text-[1.5rem] mx-auto text-white animate-spin"}),i.length>0&&!n?i.map((l,u)=>O.jsx(HW,{data:l},u)):"",i.length<1&&t!=""&&!n?O.jsx("div",{className:"text-center",children:"Not found user"}):""]})]})}const vN="/yourchat/assets/defaultavatar-8e5248f4.jpg";function qW(){const[t,e]=h.useState(!1),{currentUser:n}=h.useContext(Vr);h.useContext(bs);const[r,i]=h.useState([]);h.useEffect(()=>{const a=()=>{const l=_p(ut(tt,"users",n.uid),u=>{const c=u.data();i(Object.entries(c.notifications))});return()=>{l()}};n.uid&&a()},[n.uid]);const o=async(a,l)=>{const u=l>n.uid?l+n.uid:n.uid+l;a=="accept"&&(await bn(ut(tt,"conversations",n.uid),{[u+".isFriend"]:!0,[u+".date"]:ai()}),await bn(ut(tt,"conversations",l),{[u+".isFriend"]:!0,[u+".date"]:ai()}),console.log("accept!")),a=="deny"&&(console.log("deny!"),await bn(ut(tt,"conversations",l),{[u+".isSendRequest"]:!1,[u+".date"]:ai()})),await bn(ut(tt,"users",n.uid),{["notifications."+l]:Kj()}),e(!1)},s=()=>{e(!1)};return O.jsx(O.Fragment,{children:r.length==0?"":O.jsxs(O.Fragment,{children:[O.jsxs("div",{onClick:()=>{e(!0)},className:"bg-gray-200 mb-2 cursor-pointer hover:opacity-[0.8] text-black flex justify-center items-center gap-2",children:[O.jsx(zW,{className:"text-[1.2rem]"}),O.jsxs("p",{children:["(",r.length,")"]})]}),O.jsx(Nc,{title:"Notification",footer:!1,onCancel:s,open:t,children:r.map((a,l)=>(console.log(a),O.jsxs("div",{className:"flex gap-2 items-center mb-2",children:[O.jsx("img",{className:"object-cover w-[40px] h-[40px] rounded-full shadow-md ",src:a[1].photoURL,alt:a[1].displayName}),O.jsx("p",{children:a[1].displayName}),O.jsxs("div",{children:[O.jsx(jW,{onClick:()=>o("accept",a[0]),className:"inline-block mr-1 cursor-pointer hover:text-green-400 text-[1.5rem]"}),O.jsx(UW,{onClick:()=>o("deny",a[0]),className:"inline-block mr-1 cursor-pointer hover:text-red-400 text-[1.5rem]"})]})]},a[0])))})]})})}function GW(){const{dispatch:t}=h.useContext(bs),[e,n]=h.useState(!1),[r,i]=h.useState({friend:!0,stranger:!0}),{currentUser:o}=h.useContext(Vr),s=()=>{hL(xp).then(()=>{t({type:"change_user",payload:{userinfor:{},chatid:""}})}).catch(a=>{})};return O.jsxs("div",{className:"shrink-0 flex flex-col w-full smCT:w-[40%] md:w-[25%] bg-sky-900 text-white h-screen",children:[O.jsxs("div",{className:" flex justify-between flex-wrap  items-center  h-[67px] px-4",children:[O.jsx("h4",{className:"block text-[1.4rem] font-semibold",children:"YourChat"}),O.jsxs("div",{className:" flex items-center gap-2",children:[o.photoURL?O.jsx("img",{className:"w-[35px] h-[35px] object-cover inline rounded-full",src:o==null?void 0:o.photoURL,alt:"useravatar",loading:"lazy"}):O.jsx("img",{className:"w-[35px] h-[35px] object-cover inline rounded-full",src:vN,alt:"useravatar",loading:"lazy"}),O.jsx("span",{className:"text-[0.9rem]",children:o==null?void 0:o.displayName}),O.jsx("button",{onClick:s,className:" text-[0.9rem] p-1 bg-sky-700 rounded-xl",children:"Log out"})]})]}),O.jsxs("div",{className:"sidebarunder flex flex-col justify-between  bg-sky-700 box-border pt-4 px-2",children:[O.jsx(qW,{}),O.jsx(WW,{}),O.jsx("div",{onClick:()=>{n(!e)},className:"bg-sky-800 p-2 cursor-pointer hover:opacity-[0.8]",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx("p",{children:"Filter  "}),O.jsx(e8,{className:"block  text-[1.2rem]"})]})}),e&&O.jsxs("div",{className:"bg-sky-800 p-2",children:[O.jsxs("div",{className:"select-none",children:[O.jsx("input",{onChange:()=>{i({...r,friend:!r.friend})},checked:r.friend,className:"mr-2",type:"checkbox",name:"",id:"friend"}),O.jsx("label",{htmlFor:"friend",children:"Friend"})]}),O.jsxs("div",{className:"select-none",children:[O.jsx("input",{onChange:()=>{i({...r,stranger:!r.stranger})},checked:r.stranger,className:"mr-2",type:"checkbox",name:"",id:"stranger"}),O.jsx("label",{htmlFor:"stranger",children:"Stranger"})]})]}),O.jsx(VW,{sortState:r})]})]})}function KW(t){return Sr({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V163.57L188.53,134.1a14,14,0,0,0-19.8,0l-21.42,21.42L101.9,110.1a14,14,0,0,0-19.8,0L38,154.2V56A2,2,0,0,1,40,54ZM38,200V171.17l52.58-52.58a2,2,0,0,1,2.84,0L176.83,202H40A2,2,0,0,1,38,200Zm178,2H193.8l-38-38,21.41-21.42a2,2,0,0,1,2.83,0l38,38V200A2,2,0,0,1,216,202ZM146,100a10,10,0,1,1,10,10A10,10,0,0,1,146,100Z"}}]})(t)}function yN(){const[t,e]=h.useState([]),[n,r]=h.useState([]),[i,o]=h.useState(!1),[s,a]=h.useState(!1),{currentUser:l}=h.useContext(Vr),{currentChat:u}=h.useContext(bs),[c,d]=h.useState(""),f=h.useRef(null),m=()=>{f.current.style.height="auto",f.current.style.height=f.current.scrollHeight+"px"};h.useEffect(m,[c]);const v=E=>{d(E.target.value)},w=async()=>{if(c==""&&n.length==0){a(!0);return}if(o(!0),n.length!=0){const E=(S,_)=>new Promise((b,x)=>{j2(S,_).then(N=>{U2(S).then(k=>{b(k)})})});Promise.all(n.map(S=>{const _=z2(sR,u.chatid+S.file.name);return E(_,S.file)})).then(async S=>{await bn(ut(tt,"chats",u.chatid),{messages:jS({text:c,images:S,date:rt.now(),userinfor:{id:l.uid,photoURL:l.photoURL,displayName:l.displayName}})})})}else await bn(ut(tt,"chats",u.chatid),{messages:jS({text:c,images:[],date:rt.now(),userinfor:{id:l.uid,photoURL:l.photoURL,displayName:l.displayName}})});await bn(ut(tt,"conversations",l.uid),{[u.chatid+".lastMessage"]:c,[u.chatid+".date"]:ai()}),await bn(ut(tt,"conversations",u.userinfor.id),{[u.chatid+".lastMessage"]:c,[u.chatid+".date"]:ai()}),o(!1),d(""),r([]),e([])},C=E=>{if(E.target.files&&E.target.files[0]){let S=[],_=[];for(let b=0;b<E.target.files.length;b++){const x=E.target.files[b];let N=URL.createObjectURL(x);S.push(N),_.push({file:x,urlFile:N})}e([...t,...S]),r(_)}},g=E=>{const S=t,_=n.filter(x=>x.urlFile!=E),b=t.indexOf(E);b>-1&&S.splice(b,1),e([...S]),r(_)},p=()=>{a(!1)},y=()=>{a(!1)};return O.jsxs("div",{className:"p-2 flex w-full bg-white shadow-xl border-t-[1px] box-border",children:[O.jsxs("div",{className:"relative w-full items-center ",children:[O.jsx("textarea",{className:" block chat_input max-h-[150px] outline-none w-[80%] resize-none overflow-y-auto ",placeholder:"Type something...",name:"",id:"",onChange:v,value:c,ref:f,rows:"1"}),t.length>0?O.jsxs("p",{className:"border-t-[1px] border-t-gray-400 font-semibold",children:["Total: ",t.length]}):"",O.jsx("div",{className:"images_chat_upload max-h-[200px] overflow-y-auto py-4 flex gap-2 flex-wrap w-[80%]",children:t&&t.map((E,S)=>O.jsxs("div",{className:"relative",children:[O.jsx("img",{className:" w-[120px] h-[120px] object-cover rounded-sm border-[1px] border-gray-400",src:E,alt:"img_chat"}),O.jsx(FW,{onClick:()=>{g(E)},className:"text-gray-500 hover:text-blue-400 cursor-pointer absolute right-2 top-2 text-[1.4rem]"})]},S))})]}),O.jsxs("div",{className:"flex gap-4 items-center ",children:[O.jsx("input",{accept:"image/png, image/jpeg",className:"hidden",type:"file",id:"file",multiple:!0,onChange:C}),O.jsx("label",{htmlFor:"file",children:O.jsx(KW,{className:"text-[1.4rem] cursor-pointer "})}),O.jsx("button",{onClick:w,className:"p-1 w-[60px] text-[1rem] bg-sky-700 text-white rounded-sm",children:i?O.jsx(Pc,{className:"animate-spin mx-auto "}):O.jsx("span",{children:"SEND"})})]}),O.jsx(Nc,{footer:!1,open:s,onOk:p,onCancel:y,children:O.jsx("p",{children:"Type somthing"})})]})}function wN({data:t,owner:e}){const n=h.useRef(null);return h.useEffect(()=>{var r;(r=n.current)==null||r.scrollIntoView()},[]),O.jsxs("div",{ref:n,className:oe({"w-[80%] flex items-start gap-4 my-10":!0,"flex-row":!e,"flex-row-reverse ml-auto":e}),children:[O.jsx("div",{className:"shrink-0",children:O.jsx("img",{className:"w-[40px] h-[40px] rounded-full object-cover ",src:t.userinfor.photoURL,alt:"messageInfor-avatar"})}),O.jsxs("div",{className:oe({"flex flex-col gap-2 w-full":!0,"items-end":e,"items-start":!e}),children:[t.text&&O.jsx("p",{className:oe({"max-w-[70%] overflow-hidden break-words p-2 ":!0,"bg-blue-500 text-white rounded-tl-md rounded-br-lg rounded-bl-lg":e,"bg-white text-black rounded-tr-md rounded-br-lg rounded-bl-lg":!e}),children:t.text}),t.images.length>0?O.jsx(a_.PreviewGroup,{children:t.images.map((r,i)=>O.jsx(a_,{src:r,rootClassName:"w-[60%] shadow-md inline-block"},i))}):""]})]})}function QW(){const{currentChat:t}=h.useContext(bs),{currentUser:e}=h.useContext(Vr),n=h.useRef(null),[r,i]=h.useState([]),[o,s]=h.useState(t.isSendRequest),a=async()=>{o?console.log("already send request!"):(await bn(ut(tt,"users",t.userinfor.id),{["notifications."+e.uid+".type"]:"addfriend-request",["notifications."+e.uid+".date"]:rt.now(),["notifications."+e.uid+".displayName"]:e.displayName,["notifications."+e.uid+".photoURL"]:e.photoURL}),await bn(ut(tt,"conversations",e.uid),{[t.chatid+".isSendRequest"]:!0,[t.chatid+".date"]:ai()}),console.log("send request!"),s(!0))};h.useEffect(()=>{const u=()=>{const c=_p(ut(tt,"chats",t.chatid),d=>{const f=d.data().messages;i(f)});return()=>{c()}};t.chatid&&u()},[t.chatid]),h.useEffect(()=>{s(t.isSendRequest)},[t.isSendRequest]);const l=({children:u})=>t.chatid?u:O.jsxs("div",{className:"hidden smCT:w-[60%] md:w-[75%] h-full bg-sky-600 smCT:flex flex-col justify-center items-center",children:[O.jsx("div",{children:e.photoURL?O.jsx("img",{className:"w-[100px] h-[100px] object-cover rounded-full shadow-lg",src:e.photoURL,alt:"avataruser"}):O.jsx("img",{className:"w-[100px] h-[100px] object-cover rounded-full shadow-lg ",src:vN,alt:"avataruser"})}),O.jsxs("p",{className:"text-white text-[2rem]",children:["Welcome ",e.displayName]})]});return O.jsx(O.Fragment,{children:O.jsx(l,{children:O.jsxs("div",{className:"smCT:w-[60%] hidden md:w-[75%] grow h-full smCT:flex flex-col",children:[O.jsxs("div",{className:"shrink-0 text-white h-[67px] bg-sky-600 px-4 flex justify-between items-center",children:[O.jsx("h1",{className:"font-semibold text-[1.4rem]",children:t==null?void 0:t.userinfor.displayName}),O.jsx("div",{className:"text-[1.4rem] flex gap-4",children:t.isFriend==!1&&O.jsx(uN,{placement:"bottomLeft",title:"Add friend",children:O.jsx(gN,{onClick:a,className:oe({"cursor-pointer hover:opacity-[0.8]":!o,"opacity-[0.7]":o})})})})]}),O.jsx("div",{ref:n,className:"p-2 w-full grow overflow-y-auto messagesBox bg-slate-300",children:r.map((u,c)=>O.jsx(wN,{data:u,owner:u.userinfor.id==e.uid},c))}),O.jsx(yN,{})]})})})}function XW(){return O.jsxs("div",{className:"flex h-screen",children:[O.jsx(GW,{}),O.jsx(QW,{})]})}function YW(){const t=Va(),[e,n]=h.useState(!1),[r,i]=h.useState(""),[o,s]=h.useState(!1),a=()=>{s(!1)},l=()=>{s(!1)},u=async c=>{c.preventDefault();const d=c.target[0].value.trim(),f=c.target[1].value.trim();if(d==""&&f==""){i("Email and password are empty"),s(!0);return}n(!0),aL(xp,d,f).then(m=>{m.user,n(!1),t("/")}).catch(m=>{const v=m.code;m.message,console.log(v),v=="auth/invalid-email"&&(i("Email is not valid"),s(!0)),v=="auth/wrong-password"&&(i("Wrong password"),s(!0)),v=="auth/too-many-requests"&&(i("Too many requests"),s(!0)),n(!1)})};return O.jsxs("div",{className:"w-screen h-screen flex justify-center items-center bg-blue-200",children:[O.jsxs("form",{className:"flex gap-4 flex-col  w-[340px] sm:w-[400px] px-6 py-4 bg-white rounded-xl",action:"post",onSubmit:u,children:[O.jsx("h1",{className:"text-blue-400 text-center text-[1.8rem]",children:"LOGIN"}),O.jsx("input",{className:"border-gray-400 p-1 rounded-md focus:border-blue-500 outline-none border-[1px] ",type:"text",placeholder:"Your email"}),O.jsx("input",{className:"border-gray-400 p-1 rounded-md focus:border-blue-500 outline-none border-[1px] ",type:"password",placeholder:"Your password"}),O.jsx("button",{className:"flex justify-center items-center h-[40px] hover:opacity-[1] w-full text-[1.1rem]  bg-blue-400 opacity-[0.8]  rounded-lg text-white mx-auto",children:e?O.jsx(Pc,{className:"mx-auto animate-spin"}):"Sign in"}),O.jsxs("p",{className:"text-center text-black ",children:["You don't have an account?"," ",O.jsx(RT,{className:"text-blue-500 underline",to:"/register",children:"Register"})]})]}),O.jsx(Nc,{footer:!1,open:o,onOk:a,onCancel:l,children:O.jsxs("div",{children:[O.jsx(Hw,{className:"text-red-400 text-[1.2rem] inline mr-4"}),O.jsx("span",{className:"align-middle",children:r})]})})]})}function JW(){const t=Va(),[e,n]=h.useState(!1),[r,i]=h.useState(""),[o,s]=h.useState(!1),a=()=>{s(!1)},l=()=>{s(!1)},u=async m=>{m.preventDefault();const v=m.target[0].value.trim(),w=m.target[1].value.trim(),C=m.target[2].value.trim(),g=m.target[3].files[0];if(w==""||C==""||v==""||g==null){i("Missing information"),s(!0);return}try{n(!0);const p=await sL(xp,w,C),y=z2(sR,v);((S,_)=>{j2(S,_).then(b=>{U2(S).then(async x=>{await uL(p.user,{displayName:v,photoURL:x}),await o0(ut(tt,"users",p.user.uid),{displayName:v,id:p.user.uid,email:w,photoURL:x,notifications:{}}),await o0(ut(tt,"conversations",p.user.uid),{}),n(!1),t("/")})})})(y,g)}catch(p){const y=p.code;p.message,console.log(y),y=="auth/invalid-email"&&(i("Email is not valid"),s(!0),n(!1)),y=="auth/wrong-password"&&(i("Wrong password"),s(!0),n(!1)),y=="auth/too-many-requests"&&(i("Too many requests"),s(!0),n(!1)),y=="auth/weak-password"&&(i("Your password is weak"),s(!0),n(!1))}},[c,d]=h.useState(null),f=m=>{if(m.target.files&&m.target.files[0]){const v=URL.createObjectURL(m.target.files[0]);console.log(v),d(v)}};return O.jsxs("div",{className:"w-screen h-screen flex justify-center items-center bg-blue-200",children:[O.jsxs("form",{className:"flex gap-4 flex-col  w-[340px] sm:w-[400px] px-6 py-4 bg-white rounded-xl",action:"post",onSubmit:u,children:[O.jsx("h1",{className:"text-blue-400 text-center text-[1.8rem]",children:"REGISTER"}),O.jsx("input",{className:"border-gray-400 p-1 rounded-md focus:border-blue-500 outline-none border-[1px] ",type:"text",placeholder:"Your displayname"}),O.jsx("input",{className:"border-gray-400 p-1 rounded-md focus:border-blue-500 outline-none border-[1px] ",type:"email",placeholder:"Your email"}),O.jsx("input",{className:"border-gray-400 p-1 rounded-md focus:border-blue-500 outline-none border-[1px] ",type:"password",placeholder:"Your password"}),O.jsxs("div",{children:[O.jsx("input",{className:"hidden",type:"file",id:"file",onChange:f}),O.jsxs("label",{className:"text-black cursor-pointer mb-2 block",htmlFor:"file",children:[O.jsx(BW,{className:"bg-gray-300 rounded-lg p-2 align-middle inline text-[2rem] mr-2"}),"Add an avatar"]}),c&&O.jsx("img",{className:"w-[100px] h-[100px] object-cover",src:c,alt:"img"})]}),O.jsx("button",{className:"flex justify-center items-center h-[40px] hover:opacity-[1] w-full text-[1.1rem]  bg-blue-400 opacity-[0.8]  rounded-lg text-white mx-auto",children:e?O.jsx(Pc,{className:"mx-auto animate-spin"}):"Sign up"}),O.jsxs("p",{className:"text-center text-black ",children:["You do have an account?"," ",O.jsx(RT,{className:"text-blue-500 underline",to:"/login",children:"Login"})]})]}),O.jsx(Nc,{footer:!1,open:o,onOk:a,onCancel:l,children:O.jsxs("div",{children:[O.jsx(Hw,{className:"text-red-400 text-[1.2rem] inline mr-4"}),O.jsx("span",{className:"align-middle",children:r})]})})]})}function ZW(){const t=Va(),{currentChat:e}=h.useContext(bs),{currentUser:n}=h.useContext(Vr),r=h.useRef(null),[i,o]=h.useState([]),[s,a]=h.useState(e.isSendRequest),l=async()=>{s?console.log("already send request!"):(await bn(ut(tt,"users",e.userinfor.id),{["notifications."+n.uid+".type"]:"addfriend-request",["notifications."+n.uid+".date"]:rt.now(),["notifications."+n.uid+".displayName"]:n.displayName,["notifications."+n.uid+".photoURL"]:n.photoURL}),await bn(ut(tt,"conversations",n.uid),{[e.chatid+".isSendRequest"]:!0,[e.chatid+".date"]:ai()}),console.log("send request!"),a(!0))};return h.useEffect(()=>{const u=()=>{const c=_p(ut(tt,"chats",e.chatid),d=>{const f=d.data().messages;o(f)});return()=>{c()}};if(e.chatid)u();else{t("/");return}},[e.chatid]),h.useEffect(()=>{a(e.isSendRequest)},[e.isSendRequest]),O.jsxs("div",{className:" grow h-screen flex flex-col",children:[O.jsxs("div",{className:"shrink-0 text-white h-[67px] bg-sky-600 px-4 flex justify-between items-center",children:[O.jsxs("h1",{className:"font-semibold text-[1.4rem] flex justify-center items-center gap-2",children:[O.jsx("div",{children:O.jsx(LW,{onClick:()=>t("/")})}),O.jsx("p",{children:e==null?void 0:e.userinfor.displayName})]}),O.jsx("div",{className:"text-[1.4rem] flex gap-4",children:e.isFriend==!1&&O.jsx(uN,{placement:"bottomLeft",title:"Add friend",children:O.jsx(gN,{onClick:l,className:oe({"cursor-pointer hover:opacity-[0.8]":!s,"opacity-[0.7]":s})})})})]}),O.jsx("div",{ref:r,className:"p-2 grow w-full overflow-y-auto messagesBox bg-slate-300",children:i.map((u,c)=>O.jsx(wN,{data:u,owner:u.userinfor.id==n.uid},c))}),O.jsx(yN,{})]})}function eq(){const{currentUser:t}=h.useContext(Vr),e=({children:n})=>t?n:O.jsx(P4,{to:"/login"});return O.jsx(U4,{children:O.jsxs($4,{children:[O.jsx(Rl,{path:"/",element:O.jsx(e,{children:O.jsx(XW,{})})}),O.jsx(Rl,{path:"/login",element:O.jsx(YW,{})}),O.jsx(Rl,{path:"/register",element:O.jsx(JW,{})}),O.jsx(Rl,{path:"/chat/:displayName/:idchat",element:O.jsx(ZW,{})})]})})}kg.createRoot(document.getElementById("root")).render(O.jsx(Yj,{children:O.jsx(t8,{children:O.jsx(eq,{})})}));
